/**
 *	8.2.0
 *	Generation date: 2021-03-16T07:52:18.758Z
 *	Client name: enrich commodities india pvt limited
 *	Package Type: Technical Analysis 8.2
 *	License type: annual
 *	Expiration date: "2022/03/01"
 *	Domain lock: ["127.0.0.1","localhost","enrichbroking.in","enrichbroking.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
L8gg[186458]=(function(){var C=2;for(;C !== 9;){switch(C){case 1:return globalThis;break;case 2:C=typeof globalThis === '\u006f\x62\u006a\x65\u0063\u0074'?1:5;break;case 5:var h;try{var S=2;for(;S !== 6;){switch(S){case 9:delete h['\u0045\u0059\x5a\x48\x24'];var M=Object['\x70\u0072\x6f\u0074\x6f\x74\x79\x70\u0065'];S=7;break;case 2:Object['\x64\x65\u0066\u0069\u006e\x65\u0050\x72\x6f\x70\u0065\u0072\x74\x79'](Object['\u0070\x72\u006f\x74\u006f\u0074\x79\u0070\u0065'],'\x4a\x6f\u0034\u0055\x66',{'\x67\x65\x74':function(){var t=2;for(;t !== 1;){switch(t){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});h=Jo4Uf;h['\x45\u0059\x5a\u0048\x24']=h;S=4;break;case 7:delete M['\x4a\x6f\x34\u0055\x66'];S=6;break;case 4:S=typeof EYZH$ === '\u0075\x6e\x64\u0065\u0066\u0069\x6e\x65\x64'?3:9;break;case 3:throw "";S=9;break;}}}catch(Y){h=window;}return h;break;}}})();L8gg[234377]=p6ww(L8gg[186458]);L8gg[556234]=v6pa(L8gg[186458]);L8gg[186458].R3ff=L8gg;L8gg[649425]=(function(L5Ld){return {P5Ld:function(){var D5Ld,f5Ld=arguments;switch(L5Ld){case 66:D5Ld=f5Ld[3] * f5Ld[2] / f5Ld[1] - f5Ld[4] - f5Ld[0];break;case 110:D5Ld=(f5Ld[1] - f5Ld[3]) * f5Ld[0] - f5Ld[4] - f5Ld[2];break;case 163:D5Ld=(f5Ld[4] + f5Ld[0]) * f5Ld[1] - f5Ld[3] - f5Ld[2];break;case 9:D5Ld=f5Ld[0] - f5Ld[3] + f5Ld[2] + f5Ld[1];break;case 129:D5Ld=-f5Ld[0] - f5Ld[1];break;case 101:D5Ld=(f5Ld[2] * f5Ld[1] + f5Ld[3]) / f5Ld[0];break;case 20:D5Ld=f5Ld[2] * f5Ld[0] - f5Ld[1];break;case 29:D5Ld=-f5Ld[2] - f5Ld[1] + f5Ld[0];break;case 150:D5Ld=f5Ld[2] - (f5Ld[0] << f5Ld[1]);break;case 103:D5Ld=(f5Ld[3] + +f5Ld[1] * f5Ld[0]) / f5Ld[2];break;case 117:D5Ld=-f5Ld[0] / f5Ld[4] / f5Ld[2] / f5Ld[3] + f5Ld[1];break;case 24:D5Ld=f5Ld[0] ^ f5Ld[1];break;case 130:D5Ld=(f5Ld[3] + f5Ld[0]) / f5Ld[1] - f5Ld[2];break;case 82:D5Ld=f5Ld[2] / (f5Ld[1] & f5Ld[0]);break;case 15:D5Ld=f5Ld[3] - f5Ld[2] - f5Ld[1] + f5Ld[0];break;case 4:D5Ld=f5Ld[0] + f5Ld[2] - f5Ld[1];break;case 118:D5Ld=(-f5Ld[0] / f5Ld[1] + f5Ld[3]) / f5Ld[2] - f5Ld[4];break;case 74:D5Ld=(f5Ld[2] * f5Ld[1] - f5Ld[4]) / f5Ld[0] + f5Ld[3];break;case 70:D5Ld=(f5Ld[2] ^ f5Ld[0]) * f5Ld[3] - f5Ld[1];break;case 69:D5Ld=(f5Ld[3] + f5Ld[1]) * f5Ld[0] / f5Ld[2] - f5Ld[4];break;case 119:D5Ld=f5Ld[0] * f5Ld[4] * f5Ld[3] - f5Ld[2] - f5Ld[1];break;case 50:D5Ld=(-f5Ld[1] - f5Ld[4]) * f5Ld[0] - f5Ld[3] + f5Ld[2];break;case 127:D5Ld=(-f5Ld[3] - f5Ld[4]) / f5Ld[1] / f5Ld[0] + f5Ld[2];break;case 166:D5Ld=f5Ld[1] * (f5Ld[3] / f5Ld[0] - f5Ld[2]);break;case 63:D5Ld=(-f5Ld[3] + f5Ld[2]) * f5Ld[1] * f5Ld[0] + f5Ld[4];break;case 73:D5Ld=f5Ld[1] / f5Ld[3] * f5Ld[2] * f5Ld[4] + f5Ld[0];break;case 99:D5Ld=f5Ld[0] / f5Ld[4] * f5Ld[3] * f5Ld[2] - f5Ld[1];break;case 170:D5Ld=f5Ld[0] + f5Ld[2] * f5Ld[3] + f5Ld[1];break;case 62:D5Ld=(f5Ld[1] - f5Ld[2]) / (f5Ld[3] - f5Ld[0]);break;case 160:D5Ld=(f5Ld[0] + f5Ld[3] - f5Ld[4]) / f5Ld[2] + f5Ld[1];break;case 174:D5Ld=f5Ld[3] + (f5Ld[2] / f5Ld[4] - f5Ld[0] / f5Ld[1]);break;case 168:D5Ld=+f5Ld[0] * f5Ld[2] / f5Ld[1];break;case 78:D5Ld=f5Ld[0] + f5Ld[1] - f5Ld[3] + f5Ld[2];break;case 79:D5Ld=f5Ld[1] * f5Ld[4] / f5Ld[2] * f5Ld[0] - f5Ld[3];break;case 136:D5Ld=f5Ld[0] * f5Ld[2] * f5Ld[1];break;case 167:D5Ld=f5Ld[0] * f5Ld[1] + f5Ld[2] + f5Ld[3] - f5Ld[4];break;case 37:D5Ld=(f5Ld[2] + f5Ld[1] + f5Ld[0]) / f5Ld[4] - f5Ld[3];break;case 148:D5Ld=(f5Ld[0] % f5Ld[2] + f5Ld[1]) * f5Ld[3];break;case 54:D5Ld=(f5Ld[0] / f5Ld[4] - f5Ld[1]) / f5Ld[2] + f5Ld[3];break;case 114:D5Ld=-f5Ld[2] / f5Ld[1] * f5Ld[3] / f5Ld[0] + f5Ld[4];break;case 159:D5Ld=(f5Ld[2] + f5Ld[1]) / f5Ld[0] + f5Ld[3];break;case 175:D5Ld=f5Ld[1] - (f5Ld[2] | f5Ld[0]);break;case 23:D5Ld=f5Ld[0] / f5Ld[3] * f5Ld[2] - f5Ld[1];break;case 39:D5Ld=(f5Ld[2] - f5Ld[3]) / f5Ld[4] + f5Ld[1] - f5Ld[0];break;case 94:D5Ld=(f5Ld[4] - f5Ld[3] + f5Ld[2]) / f5Ld[1] + f5Ld[0];break;case 52:D5Ld=(f5Ld[2] - f5Ld[0]) / (f5Ld[1] - f5Ld[3]) > f5Ld[4];break;case 95:D5Ld=-(f5Ld[0] - f5Ld[1]) * f5Ld[3] + f5Ld[2];break;case 56:D5Ld=f5Ld[0] / f5Ld[4] / f5Ld[1] * f5Ld[2] + f5Ld[3];break;case 83:D5Ld=f5Ld[3] + (f5Ld[2] - f5Ld[0]) / f5Ld[1];break;case 60:D5Ld=+f5Ld[1] * f5Ld[0] - f5Ld[2];break;case 147:D5Ld=-f5Ld[0] / f5Ld[1] / f5Ld[4] - f5Ld[2] + f5Ld[3];break;case 121:D5Ld=-f5Ld[1] / f5Ld[2] + f5Ld[3] - f5Ld[0];break;case 122:D5Ld=(f5Ld[0] >> f5Ld[2]) * f5Ld[1];break;case 71:D5Ld=-f5Ld[3] / f5Ld[0] / f5Ld[4] / f5Ld[2] - f5Ld[1];break;case 104:D5Ld=(f5Ld[1] + f5Ld[2] * f5Ld[3]) / f5Ld[0];break;case 3:D5Ld=(f5Ld[2] + f5Ld[0]) / f5Ld[1];break;case 137:D5Ld=f5Ld[0] / f5Ld[4] * f5Ld[2] / f5Ld[1] - f5Ld[3];break;case 17:D5Ld=f5Ld[2] + f5Ld[0] * f5Ld[1];break;case 111:D5Ld=-f5Ld[1] * f5Ld[2] + f5Ld[0];break;case 162:D5Ld=+f5Ld[1] * f5Ld[0];break;case 2:D5Ld=f5Ld[1] + f5Ld[0];break;case 85:D5Ld=f5Ld[1] * (f5Ld[2] + f5Ld[3]) / f5Ld[0];break;case 28:D5Ld=-f5Ld[1] + f5Ld[2] - f5Ld[3] - f5Ld[0];break;case 5:D5Ld=f5Ld[0] + f5Ld[1] - f5Ld[3] - f5Ld[2];break;case 22:D5Ld=(f5Ld[0] + f5Ld[3] + f5Ld[4]) * f5Ld[2] - f5Ld[1];break;case 115:D5Ld=(f5Ld[1] + +f5Ld[2]) * f5Ld[0];break;case 125:D5Ld=(f5Ld[1] * f5Ld[2] - f5Ld[3]) / f5Ld[4] - f5Ld[0];break;case 26:D5Ld=(f5Ld[1] - f5Ld[2]) / f5Ld[0];break;case 109:D5Ld=(f5Ld[1] - (f5Ld[0] + f5Ld[2] * f5Ld[3])) / f5Ld[4];break;case 7:D5Ld=f5Ld[0] * f5Ld[1];break;case 156:D5Ld=(f5Ld[3] + f5Ld[0]) / f5Ld[1] / f5Ld[4] + f5Ld[2];break;case 135:D5Ld=(-f5Ld[0] - f5Ld[4] - f5Ld[2]) * f5Ld[3] + f5Ld[1];break;case 59:D5Ld=f5Ld[0] + f5Ld[3] + f5Ld[1] - f5Ld[2];break;case 81:D5Ld=(-f5Ld[4] + f5Ld[0]) / f5Ld[2] * f5Ld[1] - f5Ld[3];break;case 57:D5Ld=(f5Ld[3] + f5Ld[0] - f5Ld[4]) * f5Ld[1] - f5Ld[2];break;case 171:D5Ld=f5Ld[1] == f5Ld[0];break;case 34:D5Ld=f5Ld[0] + (f5Ld[1] - f5Ld[2]);break;case 173:D5Ld=(f5Ld[0] + f5Ld[3]) / f5Ld[2] - f5Ld[1] + f5Ld[4];break;case 32:D5Ld=-f5Ld[2] + f5Ld[0] - f5Ld[1];break;case 19:D5Ld=f5Ld[3] - f5Ld[2] + f5Ld[4] + f5Ld[1] + f5Ld[0];break;case 43:D5Ld=-f5Ld[3] / f5Ld[2] - f5Ld[0] + f5Ld[1];break;case 16:D5Ld=f5Ld[0] / f5Ld[1];break;case 142:D5Ld=f5Ld[3] + f5Ld[2] * (f5Ld[1] - f5Ld[0]);break;case 13:D5Ld=(f5Ld[4] + f5Ld[3] + f5Ld[0] + f5Ld[1]) / f5Ld[2];break;case 112:D5Ld=(-f5Ld[1] - f5Ld[3]) * f5Ld[0] + f5Ld[2];break;case 140:D5Ld=(f5Ld[4] - f5Ld[0]) / f5Ld[2] * f5Ld[1] - f5Ld[3];break;case 145:D5Ld=+f5Ld[0] * (f5Ld[3] / f5Ld[1] - f5Ld[2]);break;case 30:D5Ld=-f5Ld[1] * f5Ld[3] - f5Ld[0] + f5Ld[2];break;case 6:D5Ld=f5Ld[0] - f5Ld[1];break;case 14:D5Ld=f5Ld[2] / f5Ld[0] - f5Ld[1];break;case 31:D5Ld=(f5Ld[2] - f5Ld[3]) / f5Ld[0] / f5Ld[1] + f5Ld[4];break;case 90:D5Ld=(f5Ld[0] + f5Ld[3]) / (f5Ld[2] << f5Ld[1]);break;case 42:D5Ld=-f5Ld[0] + f5Ld[1];break;case 72:D5Ld=(f5Ld[0] - f5Ld[4]) * (f5Ld[1] - f5Ld[2]) / (f5Ld[5] - f5Ld[3]) + f5Ld[6];break;case 8:D5Ld=f5Ld[1] - f5Ld[0] + f5Ld[2];break;case 1:D5Ld=f5Ld[0] - f5Ld[3] - f5Ld[4] - f5Ld[1] + f5Ld[2];break;case 124:D5Ld=-f5Ld[3] + f5Ld[1] + f5Ld[0] - f5Ld[2];break;case 68:D5Ld=f5Ld[2] + f5Ld[4] - f5Ld[1] + f5Ld[3] - f5Ld[0];break;case 144:D5Ld=f5Ld[1] - f5Ld[3] + f5Ld[2] - f5Ld[0];break;case 65:D5Ld=-f5Ld[1] + f5Ld[2] - f5Ld[3] + f5Ld[0];break;case 106:D5Ld=f5Ld[1] / f5Ld[0] * f5Ld[3] + f5Ld[2];break;case 21:D5Ld=f5Ld[1] | f5Ld[0];break;case 158:D5Ld=(f5Ld[4] + f5Ld[2]) * f5Ld[1] + f5Ld[0] - f5Ld[3];break;case 165:D5Ld=f5Ld[0] * -f5Ld[1];break;case 11:D5Ld=f5Ld[1] * f5Ld[2] * f5Ld[3] - f5Ld[0];break;case 149:D5Ld=f5Ld[2] / (f5Ld[0] * f5Ld[1]) <= f5Ld[3];break;case 53:D5Ld=f5Ld[2] / f5Ld[0] / f5Ld[1] + f5Ld[3];break;case 35:D5Ld=f5Ld[1] >> f5Ld[0];break;case 155:D5Ld=(f5Ld[0] * f5Ld[3] + f5Ld[4]) / f5Ld[1] - f5Ld[2];break;case 161:D5Ld=f5Ld[2] + +f5Ld[0] * f5Ld[1];break;case 128:D5Ld=(f5Ld[1] + f5Ld[4]) / f5Ld[3] / f5Ld[2] - f5Ld[0];break;case 47:D5Ld=f5Ld[1] + f5Ld[0] / +f5Ld[2];break;case 25:D5Ld=f5Ld[1] - (f5Ld[0] - f5Ld[2]);break;case 40:D5Ld=f5Ld[0] & f5Ld[1];break;case 27:D5Ld=(f5Ld[0] - f5Ld[3] - f5Ld[4]) * f5Ld[1] + f5Ld[2];break;case 93:D5Ld=f5Ld[3] + f5Ld[1] + f5Ld[0] + f5Ld[2];break;case 96:D5Ld=(f5Ld[1] - f5Ld[2]) * f5Ld[3] + f5Ld[0];break;case 64:D5Ld=f5Ld[4] * f5Ld[0] / f5Ld[3] / f5Ld[2] - f5Ld[1];break;case 67:D5Ld=f5Ld[4] / f5Ld[1] * f5Ld[0] - f5Ld[2] - f5Ld[3];break;case 36:D5Ld=f5Ld[0] * f5Ld[1] - f5Ld[3] - f5Ld[2];break;case 88:D5Ld=(f5Ld[0] - f5Ld[1] * f5Ld[2]) / f5Ld[3];break;case 169:D5Ld=f5Ld[0] - f5Ld[2] * f5Ld[3] - f5Ld[1];break;case 12:D5Ld=-f5Ld[2] / f5Ld[0] + f5Ld[1];break;case 134:D5Ld=(-f5Ld[0] + f5Ld[1]) / f5Ld[3] + f5Ld[2];break;case 172:D5Ld=f5Ld[1] + f5Ld[0] / +f5Ld[2] + f5Ld[3];break;case 44:D5Ld=(-f5Ld[0] - f5Ld[1]) * f5Ld[3] + f5Ld[2] + f5Ld[4];break;case 48:D5Ld=f5Ld[1] / f5Ld[0] % f5Ld[2];break;case 154:D5Ld=f5Ld[3] - f5Ld[2] / (f5Ld[0] + f5Ld[1]);break;case 10:D5Ld=f5Ld[1] / +f5Ld[0];break;case 46:D5Ld=f5Ld[0] + f5Ld[1] / f5Ld[2];break;case 76:D5Ld=f5Ld[1] - f5Ld[0] - f5Ld[2];break;case 153:D5Ld=-f5Ld[0] / f5Ld[2] / f5Ld[3] - f5Ld[1];break;case 164:D5Ld=f5Ld[1] - f5Ld[0] / (f5Ld[2] + f5Ld[3] / f5Ld[4]);break;case 86:D5Ld=f5Ld[2] * (f5Ld[1] * f5Ld[4] + f5Ld[3]) / (f5Ld[5] ^ f5Ld[0]);break;case 120:D5Ld=f5Ld[3] / f5Ld[2] * f5Ld[1] + f5Ld[4] - f5Ld[0];break;case 87:D5Ld=(f5Ld[3] * f5Ld[5] - f5Ld[1] * f5Ld[2]) / (f5Ld[4] * f5Ld[0] - f5Ld[6]);break;case 91:D5Ld=f5Ld[3] * f5Ld[0] / f5Ld[1] + f5Ld[4] + f5Ld[2];break;case 133:D5Ld=-f5Ld[1] * f5Ld[2] * f5Ld[3] * f5Ld[4] + f5Ld[0];break;case 18:D5Ld=f5Ld[0] - f5Ld[1] * f5Ld[2];break;case 152:D5Ld=f5Ld[2] * (f5Ld[1] + f5Ld[0]);break;case 100:D5Ld=f5Ld[1] - +f5Ld[0];break;case 108:D5Ld=(f5Ld[3] - f5Ld[4] + f5Ld[2]) * f5Ld[1] - f5Ld[0];break;case 113:D5Ld=f5Ld[2] * f5Ld[1] / f5Ld[0];break;case 146:D5Ld=(f5Ld[4] - f5Ld[1] - f5Ld[0]) * f5Ld[3] - f5Ld[2];break;case 131:D5Ld=-f5Ld[4] * f5Ld[1] / f5Ld[2] / f5Ld[3] + f5Ld[0];break;case 55:D5Ld=(f5Ld[2] - f5Ld[0]) / f5Ld[3] - f5Ld[1];break;case 116:D5Ld=f5Ld[5] * f5Ld[1] * f5Ld[6] + (f5Ld[4] - f5Ld[2] * f5Ld[0]) * f5Ld[3];break;case 107:D5Ld=f5Ld[2] + f5Ld[6] + f5Ld[1] + f5Ld[4] + f5Ld[3] + f5Ld[5] + f5Ld[0] + f5Ld[7];break;case 102:D5Ld=(f5Ld[2] + f5Ld[1]) / +f5Ld[0];break;case 89:D5Ld=f5Ld[3] * f5Ld[1] + f5Ld[2] - f5Ld[0];break;case 123:D5Ld=f5Ld[0] * f5Ld[1] / f5Ld[4] * f5Ld[2] + f5Ld[3];break;case 61:D5Ld=f5Ld[0] < f5Ld[1];break;case 157:D5Ld=-f5Ld[3] + f5Ld[1] + f5Ld[2] + f5Ld[0];break;case 92:D5Ld=f5Ld[1] / f5Ld[2] + f5Ld[0];break;case 84:D5Ld=f5Ld[3] - f5Ld[2] * (f5Ld[0] - f5Ld[1]);break;case 38:D5Ld=f5Ld[1] * f5Ld[3] / f5Ld[2] - f5Ld[0];break;case 51:D5Ld=(f5Ld[4] - f5Ld[3]) * f5Ld[0] + f5Ld[1] - f5Ld[2];break;case 151:D5Ld=f5Ld[0] > f5Ld[1];break;case 58:D5Ld=f5Ld[0] * f5Ld[3] - f5Ld[4] - f5Ld[1] + f5Ld[2];break;case 41:D5Ld=(f5Ld[0] + f5Ld[2]) * f5Ld[3] - f5Ld[1];break;case 138:D5Ld=+f5Ld[1] - f5Ld[3] / (f5Ld[2] + f5Ld[4] / f5Ld[0]);break;case 33:D5Ld=f5Ld[0] * f5Ld[1] < f5Ld[2] << f5Ld[3];break;case 141:D5Ld=f5Ld[1] * (f5Ld[0] / f5Ld[3] - +f5Ld[2]);break;case 75:D5Ld=f5Ld[1] * f5Ld[2] + f5Ld[0];break;case 98:D5Ld=f5Ld[1] + (f5Ld[6] - f5Ld[5]) / (f5Ld[4] - f5Ld[2]) * (f5Ld[0] - f5Ld[3]);break;case 132:D5Ld=f5Ld[2] * f5Ld[3] / (f5Ld[0] + f5Ld[1]);break;case 126:D5Ld=(f5Ld[4] / f5Ld[0] + f5Ld[1]) * f5Ld[3] - f5Ld[2];break;case 77:D5Ld=f5Ld[1] << f5Ld[0];break;case 45:D5Ld=f5Ld[2] - f5Ld[0] / f5Ld[1];break;case 97:D5Ld=f5Ld[4] - f5Ld[0] + f5Ld[2] + f5Ld[3] - f5Ld[1];break;case 105:D5Ld=f5Ld[0] * f5Ld[4] - f5Ld[1] + f5Ld[3] - f5Ld[2];break;case 80:D5Ld=(f5Ld[3] - f5Ld[2]) / f5Ld[0] + f5Ld[1];break;case 139:D5Ld=(-f5Ld[0] + f5Ld[3]) * f5Ld[2] + f5Ld[1];break;case 49:D5Ld=f5Ld[0] % f5Ld[1];break;case 0:D5Ld=f5Ld[1] + f5Ld[0] + f5Ld[2];break;case 143:D5Ld=f5Ld[1] + +f5Ld[0];break;}return D5Ld;},F5Ld:function(V5Ld){L5Ld=V5Ld;}};})();L8gg.S5Ld=function(){return typeof L8gg[649425].F5Ld === 'function'?L8gg[649425].F5Ld.apply(L8gg[649425],arguments):L8gg[649425].F5Ld;};L8gg.g5tt=function(){return typeof L8gg[17166].I6ww === 'function'?L8gg[17166].I6ww.apply(L8gg[17166],arguments):L8gg[17166].I6ww;};L8gg.W5Ld=function(){return typeof L8gg[649425].F5Ld === 'function'?L8gg[649425].F5Ld.apply(L8gg[649425],arguments):L8gg[649425].F5Ld;};function L8gg(){}L8gg[457160]=L8gg[649425];L8gg[405931]=L8gg[419163];L8gg.T5tt=function(){return typeof L8gg[17166].I6ww === 'function'?L8gg[17166].I6ww.apply(L8gg[17166],arguments):L8gg[17166].I6ww;};function v6pa(j0qj){function V4qj(X0qj,q0qj,U0qj,e0qj,r0qj){var u0qj=2;for(;u0qj !== 7;){switch(u0qj){case 2:var Z0qj=[arguments];Z0qj[7]="";Z0qj[7]="";Z0qj[7]="y";u0qj=3;break;case 3:Z0qj[8]="finePropert";Z0qj[1]="de";try{var T0qj=2;for(;T0qj !== 8;){switch(T0qj){case 9:Z0qj[5][Z0qj[0][4]]=Z0qj[4].value;T0qj=8;break;case 2:Z0qj[4]={};Z0qj[6]=(1,Z0qj[0][1])(Z0qj[0][0]);Z0qj[5]=[Z0qj[6],Z0qj[6].prototype][Z0qj[0][3]];Z0qj[4].value=Z0qj[5][Z0qj[0][2]];try{var J0qj=2;for(;J0qj !== 3;){switch(J0qj){case 2:Z0qj[2]=Z0qj[1];Z0qj[2]+=Z0qj[8];Z0qj[2]+=Z0qj[7];Z0qj[0][0].Object[Z0qj[2]](Z0qj[5],Z0qj[0][4],Z0qj[4]);J0qj=3;break;}}}catch(y4qj){}T0qj=9;break;}}}catch(X4qj){}u0qj=7;break;}}}function Q4qj(O0qj){var W0qj=2;for(;W0qj !== 5;){switch(W0qj){case 2:var h0qj=[arguments];return h0qj[0][0];break;}}}function s4qj(y0qj){var p0qj=2;for(;p0qj !== 5;){switch(p0qj){case 2:var g0qj=[arguments];return g0qj[0][0].Array;break;}}}var b0qj=2;for(;b0qj !== 71;){switch(b0qj){case 3:F0qj[9]="";F0qj[9]="J";F0qj[7]="";F0qj[7]="act";b0qj=6;break;case 74:L4qj(Q4qj,F0qj[52],F0qj[95],F0qj[47]);b0qj=73;break;case 72:L4qj(k4qj,"apply",F0qj[43],F0qj[59]);b0qj=71;break;case 77:L4qj(Q4qj,F0qj[67],F0qj[95],F0qj[96]);b0qj=76;break;case 11:F0qj[5]="";F0qj[3]="bstr";F0qj[5]="i";F0qj[2]="";b0qj=18;break;case 35:F0qj[73]="p";F0qj[94]="";F0qj[94]="o5";F0qj[87]="5p";b0qj=31;break;case 2:var F0qj=[arguments];F0qj[8]="";F0qj[8]="l";F0qj[1]="idua";b0qj=3;break;case 47:F0qj[48]+=F0qj[82];F0qj[42]=F0qj[54];F0qj[42]+=F0qj[73];F0qj[42]+=F0qj[58];b0qj=64;break;case 40:F0qj[59]+=F0qj[58];F0qj[16]=F0qj[94];F0qj[16]+=F0qj[73];F0qj[16]+=F0qj[58];b0qj=36;break;case 75:L4qj(G4qj,"test",F0qj[43],F0qj[48]);b0qj=74;break;case 6:F0qj[4]="";F0qj[4]="";F0qj[4]="__a";F0qj[6]="__res";b0qj=11;break;case 55:var L4qj=function(c0qj,K0qj,f0qj,A0qj){var S0qj=2;for(;S0qj !== 5;){switch(S0qj){case 2:var v0qj=[arguments];V4qj(F0qj[0][0],v0qj[0][0],v0qj[0][1],v0qj[0][2],v0qj[0][3]);S0qj=5;break;}}};b0qj=77;break;case 64:F0qj[27]=F0qj[4];F0qj[27]+=F0qj[3];F0qj[27]+=F0qj[7];F0qj[96]=F0qj[9];b0qj=60;break;case 24:F0qj[39]="";F0qj[17]="5";F0qj[39]="V";F0qj[73]="";b0qj=35;break;case 31:F0qj[58]="a";F0qj[55]="Q";F0qj[43]=7;F0qj[43]=1;b0qj=44;break;case 56:F0qj[67]+=F0qj[8];b0qj=55;break;case 36:F0qj[47]=F0qj[39];F0qj[47]+=F0qj[17];F0qj[47]+=F0qj[82];F0qj[52]=F0qj[23];b0qj=51;break;case 60:F0qj[96]+=F0qj[87];F0qj[96]+=F0qj[58];F0qj[67]=F0qj[6];F0qj[67]+=F0qj[1];b0qj=56;break;case 51:F0qj[52]+=F0qj[2];F0qj[52]+=F0qj[29];F0qj[48]=F0qj[5];F0qj[48]+=F0qj[17];b0qj=47;break;case 73:L4qj(s4qj,"push",F0qj[43],F0qj[16]);b0qj=72;break;case 18:F0qj[2]="pt";F0qj[54]="r5";F0qj[23]="";F0qj[29]="imize";F0qj[23]="__o";F0qj[82]="";F0qj[82]="pa";b0qj=24;break;case 44:F0qj[95]=2;F0qj[95]=0;F0qj[59]=F0qj[55];F0qj[59]+=F0qj[87];b0qj=40;break;case 76:L4qj(Q4qj,F0qj[27],F0qj[95],F0qj[42]);b0qj=75;break;}}function G4qj(B0qj){var w0qj=2;for(;w0qj !== 5;){switch(w0qj){case 1:return E0qj[0][0].RegExp;break;case 2:var E0qj=[arguments];w0qj=1;break;}}}function k4qj(Y0qj){var N0qj=2;for(;N0qj !== 5;){switch(N0qj){case 2:var M0qj=[arguments];return M0qj[0][0].Function;break;}}}}L8gg[419163]=(function(){var C0qj=2;for(;C0qj !== 9;){switch(C0qj){case 3:return i0qj[6];break;case 2:var i0qj=[arguments];i0qj[3]=undefined;i0qj[6]={};i0qj[6].A4pa=function(){var m0qj=2;for(;m0qj !== 90;){switch(m0qj){case 46:a0qj[8].o5pa(a0qj[9]);m0qj=45;break;case 23:a0qj[68]={};a0qj[68].t5Ld=['v6Ld'];a0qj[68].M6Ld=function(){var y5pa=false;var H5pa=[];try{for(var T5pa in console){H5pa.o5pa(T5pa);}y5pa=H5pa.length === 0;}catch(k5pa){}var G5pa=y5pa;return G5pa;};a0qj[67]=a0qj[68];m0qj=34;break;case 77:a0qj[96]=0;m0qj=76;break;case 2:var a0qj=[arguments];m0qj=1;break;case 1:m0qj=i0qj[3]?5:4;break;case 57:m0qj=a0qj[30] < a0qj[8].length?56:69;break;case 49:a0qj[8].o5pa(a0qj[1]);a0qj[8].o5pa(a0qj[5]);a0qj[8].o5pa(a0qj[81]);m0qj=46;break;case 69:m0qj=(function(z0qj){var H1Gj=2;for(;H1Gj !== 22;){switch(H1Gj){case 24:x0qj[2]++;H1Gj=16;break;case 1:H1Gj=x0qj[0][0].length === 0?5:4;break;case 2:var x0qj=[arguments];H1Gj=1;break;case 13:x0qj[7][x0qj[8][a0qj[51]]]=(function(){var t1Gj=2;for(;t1Gj !== 9;){switch(t1Gj){case 2:var P0qj=[arguments];P0qj[5]={};P0qj[5].h=0;P0qj[5].t=0;t1Gj=3;break;case 3:return P0qj[5];break;}}}).Q5pa(this,arguments);H1Gj=12;break;case 6:x0qj[8]=x0qj[0][0][x0qj[2]];H1Gj=14;break;case 11:x0qj[7][x0qj[8][a0qj[51]]].t+=true;H1Gj=10;break;case 25:x0qj[5]=true;H1Gj=24;break;case 5:return;break;case 17:x0qj[2]=0;H1Gj=16;break;case 26:H1Gj=x0qj[6] >= 0.5?25:24;break;case 4:x0qj[7]={};x0qj[3]=[];x0qj[2]=0;H1Gj=8;break;case 16:H1Gj=x0qj[2] < x0qj[3].length?15:23;break;case 18:x0qj[5]=false;H1Gj=17;break;case 8:x0qj[2]=0;H1Gj=7;break;case 23:return x0qj[5];break;case 14:H1Gj=typeof x0qj[7][x0qj[8][a0qj[51]]] === 'undefined'?13:11;break;case 19:x0qj[2]++;H1Gj=7;break;case 20:x0qj[7][x0qj[8][a0qj[51]]].h+=true;H1Gj=19;break;case 15:x0qj[4]=x0qj[3][x0qj[2]];x0qj[6]=x0qj[7][x0qj[4]].h / x0qj[7][x0qj[4]].t;H1Gj=26;break;case 10:H1Gj=x0qj[8][a0qj[31]] === a0qj[20]?20:19;break;case 12:x0qj[3].o5pa(x0qj[8][a0qj[51]]);H1Gj=11;break;case 7:H1Gj=x0qj[2] < x0qj[0][0].length?6:18;break;}}})(a0qj[58])?68:67;break;case 76:m0qj=a0qj[96] < a0qj[76][a0qj[75]].length?75:70;break;case 58:a0qj[30]=0;m0qj=57;break;case 67:i0qj[3]=23;return 30;break;case 68:m0qj=53?68:67;break;case 5:return 77;break;case 4:a0qj[8]=[];a0qj[4]={};a0qj[4].t5Ld=['v6Ld'];a0qj[4].M6Ld=function(){var N4pa=typeof J5pa === 'function';return N4pa;};a0qj[7]=a0qj[4];a0qj[3]={};m0qj=14;break;case 45:a0qj[8].o5pa(a0qj[99]);a0qj[58]=[];a0qj[20]='T5Ld';a0qj[95]='U5Ld';a0qj[75]='t5Ld';a0qj[31]='q6Ld';m0qj=60;break;case 44:a0qj[98]=a0qj[47];a0qj[73]={};a0qj[73].t5Ld=['E6Ld'];a0qj[73].M6Ld=function(){var B5pa=function(){return unescape('%3D');};var C5pa=(/\x3d/).i5pa(B5pa + []);return C5pa;};a0qj[81]=a0qj[73];a0qj[77]={};a0qj[77].t5Ld=['E6Ld'];m0qj=37;break;case 34:a0qj[24]={};a0qj[24].t5Ld=['E6Ld'];a0qj[24].M6Ld=function(){var U5pa=function(){return ('a').codePointAt(0);};var W5pa=(/\x39\x37/).i5pa(U5pa + []);return W5pa;};a0qj[82]=a0qj[24];a0qj[47]={};a0qj[47].t5Ld=['E6Ld'];a0qj[47].M6Ld=function(){var j5pa=function(){return ('aaaa|a').substr(0,3);};var w5pa=!(/\x7c/).i5pa(j5pa + []);return w5pa;};m0qj=44;break;case 75:a0qj[49]={};a0qj[49][a0qj[51]]=a0qj[76][a0qj[75]][a0qj[96]];a0qj[49][a0qj[31]]=a0qj[52];a0qj[58].o5pa(a0qj[49]);m0qj=71;break;case 56:a0qj[76]=a0qj[8][a0qj[30]];try{a0qj[52]=a0qj[76][a0qj[50]]()?a0qj[20]:a0qj[95];}catch(D5pa){a0qj[52]=a0qj[95];}m0qj=77;break;case 18:a0qj[2]={};a0qj[2].t5Ld=['E6Ld'];a0qj[2].M6Ld=function(){var m5pa=function(){return ('a|a').split('|');};var S5pa=!(/\x7c/).i5pa(m5pa + []);return S5pa;};a0qj[5]=a0qj[2];m0qj=27;break;case 70:a0qj[30]++;m0qj=57;break;case 37:a0qj[77].M6Ld=function(){var b5pa=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var a5pa=!(/\u0028\u005b/).i5pa(b5pa + []);return a5pa;};a0qj[33]=a0qj[77];a0qj[8].o5pa(a0qj[33]);m0qj=53;break;case 14:a0qj[3].t5Ld=['v6Ld'];a0qj[3].M6Ld=function(){var h5pa=typeof r5pa === 'function';return h5pa;};a0qj[1]=a0qj[3];a0qj[6]={};a0qj[6].t5Ld=['E6Ld'];a0qj[6].M6Ld=function(){var f5pa=function(){return ('x').toLocaleUpperCase();};var Z5pa=(/\u0058/).i5pa(f5pa + []);return Z5pa;};a0qj[9]=a0qj[6];m0qj=18;break;case 60:a0qj[50]='M6Ld';a0qj[51]='B5Ld';m0qj=58;break;case 71:a0qj[96]++;m0qj=76;break;case 53:a0qj[8].o5pa(a0qj[7]);a0qj[8].o5pa(a0qj[67]);a0qj[8].o5pa(a0qj[98]);a0qj[8].o5pa(a0qj[82]);m0qj=49;break;case 27:a0qj[38]={};a0qj[38].t5Ld=['v6Ld'];a0qj[38].M6Ld=function(){var v5pa=typeof V5pa === 'function';return v5pa;};a0qj[99]=a0qj[38];m0qj=23;break;}}};C0qj=3;break;}}})();L8gg.R1Gj=function(){return typeof L8gg[419163].A4pa === 'function'?L8gg[419163].A4pa.apply(L8gg[419163],arguments):L8gg[419163].A4pa;};L8gg.o1Gj=function(){return typeof L8gg[419163].A4pa === 'function'?L8gg[419163].A4pa.apply(L8gg[419163],arguments):L8gg[419163].A4pa;};function p6ww(J5tt){function l4tt(R5tt,V5tt,u5tt,j5tt,h5tt){var H5tt=2;for(;H5tt !== 9;){switch(H5tt){case 2:var o5tt=[arguments];o5tt[2]="ty";o5tt[7]="eProper";o5tt[1]="defin";try{var q5tt=2;for(;q5tt !== 8;){switch(q5tt){case 2:o5tt[4]={};q5tt=1;break;case 1:o5tt[9]=(1,o5tt[0][1])(o5tt[0][0]);o5tt[6]=[z5tt[7],o5tt[9].prototype][o5tt[0][3]];o5tt[4].value=o5tt[6][o5tt[0][2]];try{var v5tt=2;for(;v5tt !== 3;){switch(v5tt){case 2:o5tt[8]=o5tt[1];o5tt[8]+=o5tt[7];o5tt[8]+=o5tt[2];o5tt[0][0].Object[o5tt[8]](o5tt[6],o5tt[0][4],o5tt[4]);v5tt=3;break;}}}catch(n5tt){}o5tt[6][o5tt[0][4]]=o5tt[4].value;q5tt=8;break;}}}catch(k5tt){}H5tt=9;break;}}}var I5tt=2;for(;I5tt !== 12;){switch(I5tt){case 2:var z5tt=[arguments];z5tt[5]="w";z5tt[9]="";z5tt[9]="y6";I5tt=3;break;case 3:z5tt[7]=2;z5tt[7]=1;z5tt[3]=z5tt[9];z5tt[3]+=z5tt[5];z5tt[3]+=z5tt[5];I5tt=14;break;case 14:var g4tt=function(c5tt,A5tt,r5tt,N5tt){var B5tt=2;for(;B5tt !== 5;){switch(B5tt){case 2:var m5tt=[arguments];B5tt=1;break;case 1:l4tt(z5tt[0][0],m5tt[0][0],m5tt[0][1],m5tt[0][2],m5tt[0][3]);B5tt=5;break;}}};I5tt=13;break;case 13:g4tt(y4tt,"charCodeAt",z5tt[7],z5tt[3]);I5tt=12;break;}}function y4tt(p5tt){var W5tt=2;for(;W5tt !== 5;){switch(W5tt){case 2:var K5tt=[arguments];return K5tt[0][0].String;break;}}}}L8gg.K5Ld=function(){return typeof L8gg[649425].P5Ld === 'function'?L8gg[649425].P5Ld.apply(L8gg[649425],arguments):L8gg[649425].P5Ld;};L8gg.Q5Ld=function(){return typeof L8gg[649425].P5Ld === 'function'?L8gg[649425].P5Ld.apply(L8gg[649425],arguments):L8gg[649425].P5Ld;};L8gg[17166]=(function(){var M6ww=function(d6ww,F6ww){var l6ww=F6ww & 0xffff;var S6ww=F6ww - l6ww;return (S6ww * d6ww | 0) + (l6ww * d6ww | 0) | 0;},B6ww=function(K6ww,W6ww,J6ww){var n6ww=0xcc9e2d51,a6ww=0x1b873593;var A6ww=J6ww;var m6ww=W6ww & ~0x3;for(var t6ww=0;t6ww < m6ww;t6ww+=4){var X6ww=K6ww.y6ww(t6ww) & 0xff | (K6ww.y6ww(t6ww + 1) & 0xff) << 8 | (K6ww.y6ww(t6ww + 2) & 0xff) << 16 | (K6ww.y6ww(t6ww + 3) & 0xff) << 24;X6ww=M6ww(X6ww,n6ww);X6ww=(X6ww & 0x1ffff) << 15 | X6ww >>> 17;X6ww=M6ww(X6ww,a6ww);A6ww^=X6ww;A6ww=(A6ww & 0x7ffff) << 13 | A6ww >>> 19;A6ww=A6ww * 5 + 0xe6546b64 | 0;}X6ww=0;switch(W6ww % 4){case 3:X6ww=(K6ww.y6ww(m6ww + 2) & 0xff) << 16;case 2:X6ww|=(K6ww.y6ww(m6ww + 1) & 0xff) << 8;case 1:X6ww|=K6ww.y6ww(m6ww) & 0xff;X6ww=M6ww(X6ww,n6ww);X6ww=(X6ww & 0x1ffff) << 15 | X6ww >>> 17;X6ww=M6ww(X6ww,a6ww);A6ww^=X6ww;}A6ww^=W6ww;A6ww^=A6ww >>> 16;A6ww=M6ww(A6ww,0x85ebca6b);A6ww^=A6ww >>> 13;A6ww=M6ww(A6ww,0xc2b2ae35);A6ww^=A6ww >>> 16;return A6ww;};return {I6ww:B6ww};})();L8gg[374492]=278;var v8A,H8A,T8A,j8A,O8A,R8A,I8A,l1A,u1A,F1A,q1A,h1A,M1A,m1A,U1A,i1A,o1A,k1A,n1A,C1A,S1A,L1A,y1A,b1A,x1A,G1A,Z1A,B1A,t1A,e1A,p1A,W1A,r1A,A1A,X1A,f1A,N1A,g1A,K1A,w1A,s1A,V1A,E1A,P1A,a1A,c1A,d1A,D1A,J1A,Q1A,v1A,H1A,T1A,j1A,O1A,R1A,I1A,z1A,Y1A,M5Z,U5Z,i5Z,S5Z,L5Z,G5Z,Z5Z,t5Z,X5Z,P5Z;import {CIQ as d8A, SplinePlotter as f5Z, timezoneJS as N5Z, $$ as K5Z, $$$ as V5Z} from "../js/standard.js";v8A=D5Z=>{var d5Z;d5Z=typeof _CIQ !== "undefined"?_CIQ:D5Z.CIQ;d5Z.Renderer.Aggregations=function(T5Z){L8gg.o1Gj();var v5Z;this.construct(T5Z);v5Z=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];this.isAggregation=! !{};v5Z.highlightable=! !"";if(v5Z.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");v5Z.invalid=!"";}};d5Z.inheritsFrom(d5Z.Renderer.Aggregations,d5Z.Renderer.OHLC,!{});d5Z.Renderer.Aggregations.requestNew=function(Y5Z,l9Z){var H6qt,j5Z,B6qt,I6qt,p6qt,R5Z,z5Z;H6qt="Ag";H6qt+="gregat";H6qt+="ions";j5Z=null;for(var O5Z=0;O5Z < Y5Z.length;O5Z++){B6qt="r";B6qt+="e";B6qt+="nk";B6qt+="o";I6qt="h";I6qt+="eikinashi";p6qt="p";p6qt+="an";p6qt+="d";p6qt+="f";R5Z=Y5Z[O5Z];switch(R5Z){case "kagi":case p6qt:j5Z=R5Z;break;case I6qt:case "linebreak":case "rangebars":case B6qt:j5Z="candle";break;default:return null;}}if(j5Z === null){return null;}z5Z=new d5Z.Renderer[j5Z == "candle"?"OHLC":H6qt]({params:d5Z.extend(l9Z,{type:j5Z})});z5Z.isAggregation=! !{};L8gg.o1Gj();return z5Z;};d5Z.Renderer.Aggregations.prototype.drawIndividualSeries=function(h9Z,F9Z){var u9Z,q9Z,v6qt,q6qt,W6qt;L8gg.R1Gj();if(F9Z.invalid){return;}u9Z=this.stx;q9Z={colors:[]};if(F9Z.type == "kagi"){v6qt="st";v6qt+="x";v6qt+="_kag";v6qt+="i_down";q6qt="stx";q6qt+="_k";q6qt+="agi_u";q6qt+="p";u9Z.drawKagiSquareWave(h9Z.panel,q6qt,"stx_kagi_down",F9Z);q9Z.colors.push(u9Z.getCanvasColor("stx_kagi_up"));q9Z.colors.push(u9Z.getCanvasColor(v6qt));}else if(F9Z.type == "pandf"){W6qt="s";W6qt+="tx_";W6qt+="pand";W6qt+="f_up";u9Z.drawPointFigureChart(h9Z.panel,W6qt,("5285" >> 2070616224,8188) < (9017,922.44)?(130.63,2.43e+3):+"873.64" <= ("48.16" - 0,8059)?"X":(+"4350","2" >> 575143008) < 975.26?(246,0x9be):0x19af,F9Z);q9Z.colors.push(u9Z.getCanvasColor("stx_pandf_up"));u9Z.drawPointFigureChart(h9Z.panel,"stx_pandf_down","O",F9Z);q9Z.colors.push(u9Z.getCanvasColor("stx_pandf_down"));}return q9Z;};d5Z.ChartEngine.prototype.setAggregationType=function(m9Z){var M9Z;this.layout.chartType="candle";M9Z=this.chart;L8gg.R1Gj();if(M9Z.baseline.userLevel !== ! !""){M9Z.baseline.userLevel=M9Z.baseline.defaultLevel;M9Z.panel.yAxis.scroll=d5Z.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=m9Z;this.setMainSeriesRenderer();if(M9Z.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};d5Z.ChartEngine.prototype.drawKagiSquareWave=function(L9Z,x9Z,G9Z,Z9Z){var V5Gj=L8gg;var S9Z,B9Z,U9Z,i9Z,g9Z,t9Z,e9Z,r9Z,A9Z,p9Z,W9Z,X9Z,f9Z,n9Z,K9Z,b9Z,C9Z,k9Z,w9Z,o9Z,N9Z;S9Z=L9Z.chart;this.startClip(L9Z.name);B9Z=S9Z.dataSegment;U9Z=S9Z.context;i9Z=L9Z.yAxis;if(i9Z.flipped){g9Z=x9Z;x9Z=G9Z;G9Z=g9Z;}t9Z=this.canvasStyle(x9Z);e9Z=this.canvasStyle(G9Z);this.canvasColor(x9Z);if(Z9Z.border_color_up){U9Z.strokeStyle=Z9Z.border_color_up;}r9Z=U9Z.strokeStyle;this.canvasColor(G9Z);if(Z9Z.border_color_down){U9Z.strokeStyle=Z9Z.border_color_down;}A9Z=U9Z.strokeStyle;V5Gj.R1Gj();p9Z=1;if(t9Z.width && parseInt(t9Z.width,10) <= 25){p9Z=Math.max(1,d5Z.stripPX(t9Z.width));}W9Z=1;if(e9Z.width && parseInt(e9Z.width,"10" - 0) <= 25){W9Z=Math.max(1,d5Z.stripPX(e9Z.width));}if(this.highlightedDraggable){U9Z.globalAlpha*=0.3;}U9Z.beginPath();V5Gj.S5Ld(0);var M5Dt=V5Gj.Q5Ld(17,82715357,1571591762);X9Z=S9Z.dataSet.length - S9Z.scroll - ("1" << M5Dt);f9Z=! ![];n9Z=null;K9Z=null;b9Z=null;V5Gj.W5Ld(1);var f5Dt=V5Gj.K5Ld(0,13,25,4,7);C9Z=L9Z.left - 0.5 * this.layout.candleWidth + this.micropixels - f5Dt;for(var y9Z=+"0";y9Z <= B9Z.length;y9Z++){C9Z+=this.layout.candleWidth;k9Z=B9Z[y9Z];if(!k9Z)continue;if(k9Z.projection)break;b9Z=k9Z.kagiTrend;if(i9Z.flipped){b9Z*=-1;}if(k9Z.transform && S9Z.transformFunc){w9Z=k9Z.kagiPrevOpen;k9Z=k9Z.transform;k9Z.kagiPrevOpen=S9Z.transformFunc(this,S9Z,w9Z);}o9Z=k9Z.cache;V5Gj.S5Ld(2);N9Z=V5Gj.Q5Ld(y9Z,X9Z);if(N9Z < L9Z.cacheLeft || N9Z > L9Z.cacheRight || !o9Z.kagiOpen){o9Z.kagiOpen=i9Z.semiLog?i9Z.height * (1 - (Math.log(Math.max(k9Z.Open,0)) / Math.LN10 - i9Z.logLow) / i9Z.logShadow):(i9Z.high - k9Z.Open) * i9Z.multiplier;o9Z.kagiClose=i9Z.semiLog?i9Z.height * (1 - (Math.log(Math.max(k9Z.Close,0)) / Math.LN10 - i9Z.logLow) / i9Z.logShadow):(i9Z.high - k9Z.Close) * i9Z.multiplier;if(i9Z.flipped){o9Z.kagiOpen=i9Z.bottom - o9Z.kagiOpen;o9Z.kagiClose=i9Z.bottom - o9Z.kagiClose;}else {o9Z.kagiOpen+=i9Z.top;o9Z.kagiClose+=i9Z.top;}}K9Z=o9Z.kagiClose;n9Z=i9Z.semiLog?i9Z.height * (1 - (Math.log(Math.max(k9Z.kagiPrevOpen,0)) / Math.LN10 - i9Z.logLow) / i9Z.logShadow):(i9Z.high - k9Z.kagiPrevOpen) * i9Z.multiplier;if(i9Z.flipped){n9Z=i9Z.bottom - n9Z;}else {n9Z+=i9Z.top;}if(f9Z){U9Z.moveTo(X9Z >= 0?L9Z.left:Math.floor(C9Z),o9Z.kagiOpen);U9Z.lineTo(Math.floor(C9Z),o9Z.kagiOpen);if(o9Z.kagiClose < o9Z.kagiOpen){U9Z.strokeStyle=r9Z;U9Z.lineWidth=p9Z;}else {U9Z.strokeStyle=A9Z;U9Z.lineWidth=W9Z;}}else {if(b9Z != -("1" >> 176112832) && o9Z.kagiClose < n9Z && n9Z < o9Z.kagiOpen){U9Z.lineTo(Math.floor(C9Z),n9Z);U9Z.stroke();U9Z.beginPath();U9Z.moveTo(Math.floor(C9Z),n9Z);U9Z.strokeStyle=r9Z;U9Z.lineWidth=p9Z;}else if(b9Z != 1 && o9Z.kagiClose > n9Z && n9Z > o9Z.kagiOpen){U9Z.lineTo(Math.floor(C9Z),n9Z);U9Z.stroke();U9Z.beginPath();U9Z.moveTo(Math.floor(C9Z),n9Z);U9Z.strokeStyle=A9Z;U9Z.lineWidth=W9Z;}}U9Z.lineTo(Math.floor(C9Z),o9Z.kagiClose);if(y9Z + 1 < B9Z.length){U9Z.lineTo(Math.floor(C9Z + this.layout.candleWidth),o9Z.kagiClose);}f9Z=!"1";}U9Z.stroke();this.endClip();U9Z.lineWidth=1;};d5Z.ChartEngine.prototype.drawPointFigureChart=function(v9Z,o7Z,H9Z,u7Z){var s5Gj=L8gg;var c9Z,M7Z,V9Z,d9Z,D9Z,T9Z,R9Z,I9Z,m7Z,C7Z,s9Z,U7Z,J9Z,E9Z,P9Z,F7Z,q7Z,a9Z,j9Z,O9Z,S7Z,h7Z,Q9Z,i7Z,Y9Z,l7Z;c9Z=v9Z.chart;this.startClip(v9Z.name);M7Z=c9Z.dataSegment;V9Z=c9Z.context;this.canvasColor(o7Z);if(H9Z == "X" && u7Z.border_color_up){V9Z.strokeStyle=u7Z.border_color_up;}else if(H9Z == (+"216.37" === (233.43,873)?20.74 <= 551.74?+"1.35e+3":"0x483" - 0:"O") && u7Z.border_color_down){V9Z.strokeStyle=u7Z.border_color_down;}d9Z=this.canvasStyle(o7Z);function n7Z(G7Z,Z7Z,x7Z){s5Gj.W5Ld(3);V9Z.moveTo(s5Gj.Q5Ld(Z7Z,2,G7Z),s5Gj.Q5Ld(x7Z,P9Z,D9Z,s5Gj.S5Ld(4)));s5Gj.W5Ld(2);V9Z.bezierCurveTo(s5Gj.Q5Ld(I9Z,Z7Z),s5Gj.K5Ld(x7Z,P9Z,D9Z,s5Gj.S5Ld(4)),s5Gj.Q5Ld(I9Z,Z7Z,s5Gj.S5Ld(2)),s5Gj.K5Ld(x7Z,E9Z,P9Z,T9Z,s5Gj.S5Ld(5)),s5Gj.Q5Ld(Z7Z,2,G7Z,s5Gj.S5Ld(3)),s5Gj.Q5Ld(x7Z,E9Z,P9Z,T9Z,s5Gj.W5Ld(5)));s5Gj.S5Ld(6);V9Z.bezierCurveTo(s5Gj.K5Ld(G7Z,R9Z),s5Gj.K5Ld(x7Z,E9Z,P9Z,T9Z,s5Gj.S5Ld(5)),s5Gj.K5Ld(G7Z,R9Z,s5Gj.S5Ld(6)),s5Gj.K5Ld(x7Z,P9Z,D9Z,s5Gj.S5Ld(4)),s5Gj.K5Ld(Z7Z,2,G7Z,s5Gj.W5Ld(3)),s5Gj.K5Ld(x7Z,P9Z,D9Z,s5Gj.S5Ld(4)));}D9Z=parseInt(d9Z.paddingTop,10);T9Z=parseInt(d9Z.paddingBottom,10);R9Z=parseInt(d9Z.paddingLeft,10);I9Z=parseInt(d9Z.paddingRight,10);if(d9Z.width && parseInt(d9Z.width,10) <= 25){V9Z.lineWidth=Math.max(+"1",d5Z.stripPX(d9Z.width));}else {V9Z.lineWidth=2;}if(this.highlightedDraggable){s5Gj.S5Ld(7);V9Z.globalAlpha*=s5Gj.K5Ld("0.3",1);}V9Z.beginPath();m7Z=this.chart.state.aggregation.box;function k7Z(y7Z,b7Z,L7Z){s5Gj.W5Ld(2);V9Z.moveTo(s5Gj.K5Ld(R9Z,y7Z),s5Gj.Q5Ld(T9Z,L7Z,P9Z,s5Gj.W5Ld(8)));s5Gj.W5Ld(6);V9Z.lineTo(s5Gj.Q5Ld(b7Z,I9Z),s5Gj.Q5Ld(L7Z,P9Z,D9Z,E9Z,s5Gj.S5Ld(9)));s5Gj.S5Ld(2);V9Z.moveTo(s5Gj.Q5Ld(R9Z,y7Z),s5Gj.Q5Ld(L7Z,P9Z,D9Z,E9Z,s5Gj.W5Ld(9)));s5Gj.W5Ld(6);V9Z.lineTo(s5Gj.Q5Ld(b7Z,I9Z),s5Gj.K5Ld(T9Z,L7Z,P9Z,s5Gj.W5Ld(8)));}s5Gj.W5Ld(4);var s3zt=s5Gj.K5Ld(0,12,13);C7Z=c9Z.dataSet.length - c9Z.scroll - s3zt;s9Z=v9Z.yAxis;E9Z=m7Z * s9Z.multiplier;s5Gj.S5Ld(10);P9Z=s5Gj.Q5Ld("2",E9Z);F7Z=this.layout.candleWidth;s5Gj.S5Ld(11);s5Gj.o1Gj();var Y3zt=s5Gj.K5Ld(1599,10,20,8);q7Z=v9Z.left - F7Z + this.micropixels - Y3zt;for(var z9Z=0;z9Z < M7Z.length;z9Z++){q7Z+=F7Z;a9Z=M7Z[z9Z];if(!a9Z)continue;if(a9Z.projection)break;j9Z=a9Z.pfOpen;O9Z=a9Z.pfClose;S7Z=a9Z.pfTrend;h7Z=a9Z.pfStepBack;if(a9Z.transform && c9Z.transformFunc){a9Z=a9Z.transform;j9Z=c9Z.transformFunc(this,c9Z,j9Z);O9Z=c9Z.transformFunc(this,c9Z,O9Z);}Q9Z=a9Z.cache;s5Gj.S5Ld(2);i7Z=s5Gj.Q5Ld(z9Z,C7Z);if(i7Z < v9Z.cacheLeft || i7Z > v9Z.cacheRight || !Q9Z.pfOpen){if(s9Z.flipped){Q9Z.pfOpen=s9Z.bottom - (s9Z.high - j9Z) * s9Z.multiplier;Q9Z.pfClose=s9Z.bottom - (s9Z.high - O9Z) * s9Z.multiplier;}else {Q9Z.pfOpen=(s9Z.high - j9Z) * s9Z.multiplier + s9Z.top;Q9Z.pfClose=(s9Z.high - O9Z) * s9Z.multiplier + s9Z.top;}}Y9Z=Math.round(q7Z);s5Gj.W5Ld(2);l7Z=Math.round(s5Gj.K5Ld(F7Z,q7Z));U7Z=Math.abs(Math.round((O9Z - j9Z) / m7Z));J9Z=Q9Z.pfOpen;if(H9Z == h7Z){if(h7Z == ((+"9650",771.11) === 9427?"0x17db" & 2147483647:6130 < 1640?"718.39" - 0:"X")){s5Gj.W5Ld(6);k7Z(Y9Z,l7Z,s5Gj.K5Ld(J9Z,E9Z));}else if(h7Z == "O"){s5Gj.S5Ld(2);n7Z(Y9Z,l7Z,s5Gj.Q5Ld(E9Z,J9Z));}}if(H9Z == S7Z){for(;U7Z >= +"0";U7Z--){if(H9Z == ("519.47" * 1 < (3830,5110)?"X":(! !1,"k"))){k7Z(Y9Z,l7Z,J9Z,E9Z,P9Z);J9Z-=s9Z.flipped?-E9Z:E9Z;}else if(H9Z == "O"){n7Z(Y9Z,l7Z,J9Z,E9Z,P9Z);J9Z+=s9Z.flipped?-E9Z:E9Z;}}}}V9Z.stroke();this.endClip();V9Z.lineWidth=1;};d5Z.ChartEngine.calculateAggregation=function(B7Z,e7Z,p7Z,W7Z){var T6qt,X6qt,t7Z,r7Z;T6qt="heiken";T6qt+="a";T6qt+="s";T6qt+="hi";X6qt="he";X6qt+="ikinash";X6qt+="i";r7Z=B7Z.layout;if([X6qt,T6qt].indexOf(e7Z) > -1){t7Z=d5Z.calculateHeikinAshi(B7Z,p7Z,W7Z);}else if(e7Z == "rangebars"){t7Z=d5Z.calculateRangeBars(B7Z,p7Z,r7Z.rangebars,W7Z);}else if(e7Z == "kagi"){t7Z=d5Z.calculateKagi(B7Z,p7Z,r7Z.kagi,W7Z);}else if(e7Z == "linebreak"){t7Z=d5Z.calculateLineBreak(B7Z,p7Z,r7Z.priceLines,W7Z);}else if(e7Z == "renko"){t7Z=d5Z.calculateRenkoBars(B7Z,p7Z,r7Z.renko,W7Z);}else if(e7Z == "pandf"){t7Z=d5Z.calculatePointFigure(B7Z,p7Z,r7Z.pandf,W7Z);}return t7Z;};d5Z.calculateHeikinAshi=function(J7Z,a7Z,c7Z){var k5Gj=L8gg;var w7Z,A7Z,X7Z,V7Z,g7Z,f7Z,N7Z,K7Z,d7Z,D7Z,E7Z;if(!a7Z.length){return a7Z;}if(!c7Z){c7Z=[];}w7Z=[];for(var s7Z=+"0";s7Z < a7Z.length;s7Z++){A7Z=a7Z[s7Z];if(!A7Z)continue;k5Gj.W5Ld(8);var b3zt=k5Gj.Q5Ld(3,0,4);X7Z=w7Z[w7Z.length - b3zt];if(!X7Z && !s7Z){k5Gj.W5Ld(12);var t3zt=k5Gj.Q5Ld(1,2,1);X7Z=c7Z[c7Z.length - t3zt];}if(!X7Z){X7Z=A7Z;}V7Z=A7Z.Close;g7Z=A7Z.Open;f7Z=A7Z.High;N7Z=A7Z.Low;K7Z=X7Z.Open;g7Z=g7Z || g7Z === 0?g7Z:V7Z;f7Z=f7Z || f7Z === +"0"?f7Z:V7Z;N7Z=N7Z || N7Z === +"0"?N7Z:V7Z;K7Z=K7Z || K7Z === 0?K7Z:X7Z.Close;d7Z=(K7Z + X7Z.Close) / +"2";k5Gj.S5Ld(13);D7Z=k5Gj.K5Ld(N7Z,V7Z,4,f7Z,g7Z);E7Z={DT:A7Z.DT,displayDate:A7Z.displayDate,Date:A7Z.Date,Open:d7Z,Close:D7Z,High:Math.max(f7Z,Math.max(d7Z,D7Z)),Low:Math.min(N7Z,Math.min(d7Z,D7Z)),Volume:A7Z.Volume,iqPrevClose:X7Z.Close};for(var P7Z in A7Z){if(!E7Z[P7Z] && E7Z[P7Z] !== 0){E7Z[P7Z]=A7Z[P7Z];}}w7Z.push(E7Z);}return w7Z;};d5Z.calculateKagi=function(u4Z,j7Z,T7Z,Y7Z){var l4Z,I7Z,R7Z,Q7Z,q4Z,H7Z,F4Z,v7Z;if(!j7Z.length){return j7Z;}if(!Y7Z){Y7Z=[];}l4Z=u4Z.layout;I7Z=u4Z.chart;L8gg.R1Gj();T7Z=parseFloat(T7Z);I7Z.defaultChartStyleConfig.kagi=d5Z.ChartEngine.isDailyInterval(l4Z.interval)?4:0.4;if(isNaN(T7Z) || T7Z <= 0){T7Z=I7Z.defaultChartStyleConfig.kagi;if(d5Z.Market.Symbology.isForexSymbol(I7Z.symbol)){T7Z/=4;}if(l4Z.kagi !== null){l4Z.kagi=null;u4Z.changeOccurred("layout");}}T7Z/=100;R7Z=[];Q7Z=Y7Z[Y7Z.length - ("1" | 0)];q4Z=Q7Z?Q7Z.DT:+"0";for(var O7Z=0;O7Z < j7Z.length;O7Z++){H7Z=j7Z[O7Z];if(!H7Z)continue;if(!Q7Z){L8gg.W5Ld(6);Q7Z=j7Z[L8gg.K5Ld(O7Z,1)];}if(!Q7Z)continue;F4Z=Q7Z.Open || Q7Z.Open === 0?Q7Z.Open:Q7Z.Close;if(F4Z > Q7Z.Close){if(H7Z.Close > Q7Z.Close * (1 + T7Z)){H7Z.Open=Q7Z.Close;}else {if(Q7Z.Close > H7Z.Close){Q7Z.Close=H7Z.Close;}Q7Z.Volume+=H7Z.Volume;if(O7Z < j7Z.length - 1)continue;}}else if(F4Z < Q7Z.Close){if(H7Z.Close < Q7Z.Close * (1 - T7Z)){H7Z.Open=Q7Z.Close;}else {if(Q7Z.Close < H7Z.Close){Q7Z.Close=H7Z.Close;}Q7Z.Volume+=H7Z.Volume;if(O7Z < j7Z.length - 1)continue;}}else {Q7Z.Close=H7Z.Close;Q7Z.Volume+=H7Z.Volume;if(O7Z < j7Z.length - 1)continue;}v7Z={DT:Q7Z.DT,displayDate:Q7Z.displayDate,Date:Q7Z.Date,Open:Q7Z.Open,Close:Q7Z.Close,High:Math.max(Q7Z.Open,Q7Z.Close),Low:Math.min(Q7Z.Open,Q7Z.Close),Volume:Q7Z.Volume,iqPrevClose:Q7Z.iqPrevClose};for(var z7Z in Q7Z){if(!v7Z[z7Z] && v7Z[z7Z] !== 0){v7Z[z7Z]=Q7Z[z7Z];}}if(R7Z.length){v7Z.kagiPrevOpen=R7Z[R7Z.length - 1].Open;}else {v7Z.kagiPrevOpen=v7Z.Open;}if(v7Z.Close > v7Z.kagiPrevOpen && v7Z.kagiPrevOpen > v7Z.Open){v7Z.kagiTrend=1;}else if(v7Z.Close < v7Z.kagiPrevOpen && v7Z.kagiPrevOpen < v7Z.Open){v7Z.kagiTrend=-1;}if(q4Z < v7Z.DT){R7Z.push(v7Z);}Q7Z=H7Z;I7Z.currentQuote={Close:H7Z.Close};}return R7Z;};d5Z.calculateLineBreak=function(p4Z,b4Z,m4Z,W4Z){var Q5Gj=L8gg;var G4Z,Z4Z,P2qt,Z2qt,F2qt,g6qt,U4Z,A4Z,B4Z,h4Z,i4Z,o4Z,C4Z,S4Z,k4Z,M4Z,n4Z,L4Z;if(!b4Z.length){return b4Z;}if(!W4Z){W4Z=[];}G4Z=p4Z.layout;Z4Z=p4Z.chart;Q5Gj.W5Ld(6);Z4Z.defaultChartStyleConfig.priceLines=Q5Gj.K5Ld("3",0);Q5Gj.o1Gj();m4Z=parseInt(m4Z,10);if(isNaN(m4Z) || m4Z <= 0){m4Z=Z4Z.defaultChartStyleConfig.priceLines;if(G4Z.priceLines !== null){P2qt=-1295164767;Z2qt=564617577;F2qt=2;for(var C2qt=1;Q5Gj.g5tt(C2qt.toString(),C2qt.toString().length,63303) !== P2qt;C2qt++){g6qt="la";g6qt+="yo";g6qt+="ut";G4Z.priceLines=null;p4Z.changeOccurred(g6qt);F2qt+=2;}if(Q5Gj.T5tt(F2qt.toString(),F2qt.toString().length,43189) !== Z2qt){G4Z.priceLines=1;p4Z.changeOccurred("");}}}else if(m4Z > "10" - 0){G4Z.priceLines=m4Z=10;}U4Z=W4Z.slice(-m4Z);A4Z=U4Z.length;B4Z=0;a:for(var e4Z=0;e4Z < b4Z.length;e4Z++){h4Z=b4Z[e4Z];if(!h4Z)continue;B4Z+=h4Z.Volume;i4Z=U4Z[U4Z.length - +"1"];if(!i4Z){i4Z={Open:h4Z.Open,Close:h4Z.Open,High:h4Z.Open,Low:h4Z.Open};}o4Z=i4Z.Close;C4Z=i4Z.High;S4Z=i4Z.Low;k4Z=i4Z.Open;C4Z=C4Z || C4Z === "0" - 0?C4Z:o4Z;S4Z=S4Z || S4Z === "0" * 1?S4Z:o4Z;k4Z=k4Z || k4Z === "0" - 0?k4Z:o4Z;M4Z={DT:h4Z.DT,displayDate:h4Z.displayDate,Date:h4Z.Date,Close:h4Z.Close,Volume:B4Z,iqPrevClose:o4Z};Z4Z.currentQuote={Close:h4Z.Close};if(h4Z.Close > o4Z && i4Z.Close > k4Z){;}else if(h4Z.Close < o4Z && i4Z.Close < k4Z){;}else if(h4Z.Close > C4Z){for(n4Z=2;n4Z <= m4Z;n4Z++){L4Z=U4Z[U4Z.length - n4Z];if(L4Z && h4Z.Close <= L4Z.High){continue a;}}}else if(h4Z.Close < S4Z){for(n4Z=2;n4Z <= m4Z;n4Z++){L4Z=U4Z[U4Z.length - n4Z];if(L4Z && h4Z.Close >= L4Z.Low){continue a;}}}else continue;if(h4Z.Close < i4Z.Close){M4Z.Open=Math.min(k4Z,o4Z);}else {M4Z.Open=Math.max(k4Z,o4Z);}M4Z.Low=Math.min(M4Z.Open,M4Z.Close);M4Z.High=Math.max(M4Z.Open,M4Z.Close);for(var y4Z in h4Z){if(!M4Z[y4Z] && M4Z[y4Z] !== 0){M4Z[y4Z]=h4Z[y4Z];}}U4Z.push(M4Z);B4Z=0;}return U4Z.slice(A4Z);};L8gg.R1Gj();d5Z.calculateRenkoBars=function(E4Z,f4Z,X4Z,P4Z){var L5Gj=L8gg;var e6qt,a4Z,s4Z,V4Z,R4Z,J4Z,c4Z,i6qt,Q4Z,N4Z,g4Z,K4Z,v4Z,w4Z,H4Z,T4Z,j4Z,Q0qt,n0qt,k0qt;e6qt="Hi";e6qt+="g";e6qt+="h";if(!f4Z.length){return [];}if(!P4Z){P4Z=[];}a4Z=E4Z.layout;s4Z=E4Z.chart;V4Z=s4Z.state.aggregation;if(!V4Z){V4Z=s4Z.state.aggregation={};}R4Z=Math.min(300,f4Z.length);if(!V4Z.minMax){V4Z.minMax=E4Z.determineMinMax(f4Z.slice(f4Z.length - R4Z),["Close",e6qt,"Low"]);}L5Gj.S5Ld(14);var L3zt=L5Gj.K5Ld(2,3,8);J4Z=V4Z.minMax[L3zt] - V4Z.minMax[0];c4Z=E4Z.panels[s4Z.name].height;if(!c4Z){return [];}L5Gj.S5Ld(15);var d3zt=L5Gj.Q5Ld(7,7,7,37);L5Gj.S5Ld(8);var O3zt=L5Gj.K5Ld(13,9981,32);s4Z.defaultChartStyleConfig.renko=Math.floor(+"10000" * J4Z / (c4Z / d3zt)) / O3zt;if(X4Z === null || isNaN(X4Z) || X4Z <= 0){X4Z=s4Z.defaultChartStyleConfig.renko;if(a4Z.renko !== null){a4Z.renko=null;E4Z.changeOccurred("layout");}}else {L5Gj.W5Ld(16);X4Z=Math.max(X4Z,L5Gj.Q5Ld(J4Z,c4Z));if(a4Z.renko !== X4Z){i6qt="la";i6qt+="y";i6qt+="ou";i6qt+="t";a4Z.renko=X4Z;E4Z.changeOccurred(i6qt);}}Q4Z=[];N4Z=null;g4Z=null;K4Z=null;function d4Z(I4Z,z4Z){L5Gj.o1Gj();var Y4Z;I4Z=Number(I4Z.toFixed(+"8"));z4Z=Number(z4Z.toFixed(8));Y4Z={DT:K4Z.DT,displayDate:K4Z.displayDate,Date:K4Z.Date,Open:I4Z,Close:z4Z,High:Math.max(I4Z,z4Z),Low:Math.min(I4Z,z4Z),Volume:+"0",iqPrevClose:I4Z != z4Z?I4Z:null};for(var l6Z in K4Z){if(!Y4Z[l6Z] && Y4Z[l6Z] !== 0){Y4Z[l6Z]=K4Z[l6Z];}}Q4Z.push(Y4Z);}if(P4Z.length){L5Gj.S5Ld(4);var a3zt=L5Gj.Q5Ld(0,7,8);v4Z=P4Z[P4Z.length - a3zt];N4Z=v4Z.Low - X4Z;g4Z=v4Z.High + X4Z;}for(var D4Z=0;D4Z < f4Z.length;D4Z++){w4Z=f4Z[D4Z];if(!w4Z)continue;if(!N4Z && !g4Z){H4Z=w4Z.Open || w4Z.Open === 0?w4Z.Open:w4Z.Close;T4Z=Math.floor(H4Z / X4Z) * X4Z;j4Z=isNaN(T4Z)?H4Z:T4Z;L5Gj.W5Ld(6);N4Z=L5Gj.K5Ld(j4Z,X4Z);L5Gj.S5Ld(2);g4Z=L5Gj.Q5Ld(X4Z,j4Z);}while(! !{}){if(!K4Z){K4Z=w4Z;}if(w4Z.Close <= N4Z){L5Gj.W5Ld(2);d4Z(L5Gj.Q5Ld(X4Z,N4Z),N4Z);L5Gj.W5Ld(17);g4Z=L5Gj.Q5Ld(2,X4Z,N4Z);N4Z-=X4Z;K4Z=null;}else if(w4Z.Close >= g4Z){L5Gj.W5Ld(6);d4Z(L5Gj.Q5Ld(g4Z,X4Z),g4Z);L5Gj.S5Ld(18);N4Z=L5Gj.K5Ld(g4Z,2,X4Z);g4Z+=X4Z;K4Z=null;}else break;}s4Z.currentQuote=w4Z;}Q0qt=2134090017;n0qt=- +"2030080612";k0qt=2;for(var D0qt=1;L5Gj.g5tt(D0qt.toString(),D0qt.toString().length,96969) !== Q0qt;D0qt++){if(N4Z > f4Z[f4Z.length + 8].Close || N4Z - X4Z <= f4Z[f4Z.length + 3].Close){L5Gj.S5Ld(16);d4Z(L5Gj.Q5Ld(N4Z,X4Z),f4Z[f4Z.length + 2].Close);}else if(g4Z < f4Z[f4Z.length / 6].Close || g4Z + X4Z <= f4Z[f4Z.length * 3].Close){L5Gj.S5Ld(2);d4Z(L5Gj.K5Ld(X4Z,g4Z),f4Z[f4Z.length * 5].Close);}return Q4Z;}if(L5Gj.g5tt(k0qt.toString(),k0qt.toString().length,28125) !== n0qt){if(N4Z < f4Z[f4Z.length - 1].Close && N4Z + X4Z > f4Z[f4Z.length - 1].Close){L5Gj.W5Ld(2);d4Z(L5Gj.K5Ld(X4Z,N4Z),f4Z[f4Z.length - 1].Close);}else if(g4Z > f4Z[f4Z.length - +"1"].Close && g4Z - X4Z < f4Z[f4Z.length - +"1"].Close){L5Gj.W5Ld(6);d4Z(L5Gj.Q5Ld(g4Z,X4Z),f4Z[f4Z.length - 1].Close);}return Q4Z;}};d5Z.calculateRangeBars=function(b6Z,U6Z,F6Z,Z6Z){var I5Gj=L8gg;var y6qt,l6qt,G6Z,x6Z,S6Z,A6Z,e6Z,B6Z,p6Z,u6Z,i6Z,o6Z,t6Z,k6Z,q6Z,y6Z,n6Z,h6Z,M6Z,m6Z,r6Z,f6Z;y6qt="L";y6qt+="ow";l6qt="C";function X6Z(w6Z){var N6Z;N6Z={DT:k6Z.DT,displayDate:k6Z.displayDate,Date:k6Z.Date,Open:Number(t6Z.toFixed(8)),Close:Number(w6Z.toFixed(8)),High:Number(i6Z.toFixed(8)),Low:Number(o6Z.toFixed(8)),Volume:"0" ^ 0};I5Gj.R1Gj();N6Z.iqPrevClose=N6Z.Open;for(var g6Z in k6Z){if(!N6Z[g6Z] && N6Z[g6Z] !== 0){N6Z[g6Z]=k6Z[g6Z];}}p6Z.push(N6Z);}l6qt+="lo";l6qt+="s";I5Gj.R1Gj();l6qt+="e";if(!U6Z.length){return U6Z;}if(!Z6Z){Z6Z=[];}G6Z=b6Z.layout;x6Z=b6Z.chart;S6Z=x6Z.state.aggregation;if(!S6Z){S6Z=x6Z.state.aggregation={};}A6Z=Math.min(300,U6Z.length);if(!S6Z.minMax){S6Z.minMax=b6Z.determineMinMax(U6Z.slice(U6Z.length - A6Z),[l6qt,"High",y6qt]);}e6Z=S6Z.minMax[+"1"] - S6Z.minMax[0];B6Z=b6Z.panels[x6Z.name].height;if(!B6Z){return [];}function L6Z(V6Z,s6Z){var E6qt;I5Gj.o1Gj();while("1" * 1){if(!k6Z){k6Z=V6Z;}if(u6Z < s6Z){u6Z=Math.min(s6Z,i6Z);I5Gj.S5Ld(6);o6Z=Math.max(o6Z,I5Gj.K5Ld(u6Z,F6Z));if(s6Z < i6Z)break;}else if(u6Z >= s6Z){u6Z=Math.max(s6Z,o6Z);I5Gj.S5Ld(2);i6Z=Math.min(i6Z,I5Gj.K5Ld(F6Z,u6Z));if(s6Z > o6Z)break;}if(typeof u6Z == "undefined"){E6qt="Uh oh undefined";E6qt+=" in calculateRangeBars:processMove";console.log(E6qt);return;}X6Z(u6Z);k6Z=null;W6Z();}}I5Gj.W5Ld(8);var Q3zt=I5Gj.K5Ld(8,0,9);I5Gj.W5Ld(19);var n3zt=I5Gj.Q5Ld(19,4,2,2,7);x6Z.defaultChartStyleConfig.range=Math.floor("10000" * Q3zt * e6Z / (B6Z / n3zt)) / ("10000" ^ 0);function W6Z(){I5Gj.S5Ld(2);i6Z=I5Gj.Q5Ld(F6Z,u6Z);I5Gj.R1Gj();I5Gj.W5Ld(6);o6Z=I5Gj.Q5Ld(u6Z,F6Z);t6Z=u6Z;}if(F6Z === null || isNaN(F6Z) || F6Z < 0){F6Z=x6Z.defaultChartStyleConfig.range;if(G6Z.range !== null){G6Z.range=null;b6Z.changeOccurred("layout");}}else {I5Gj.S5Ld(16);F6Z=Math.max(F6Z,I5Gj.Q5Ld(e6Z,B6Z));if(G6Z.range !== F6Z){G6Z.range=F6Z;b6Z.changeOccurred("layout");}}p6Z=[];u6Z=null;i6Z=null;o6Z=null;t6Z=null;k6Z=null;for(var C6Z=0;C6Z < U6Z.length;C6Z++){q6Z=U6Z[C6Z];if(!q6Z)continue;I5Gj.W5Ld(6);y6Z=U6Z[I5Gj.Q5Ld(C6Z,1)];if(!C6Z){if(!y6Z){I5Gj.W5Ld(20);var k3zt=I5Gj.Q5Ld(7,132,19);y6Z=Z6Z[Z6Z.length - k3zt];}if(y6Z){u6Z=y6Z.Close;if(u6Z || u6Z === 0){W6Z();}}}if(!y6Z)continue;n6Z=q6Z.Close;h6Z=q6Z.Open;M6Z=q6Z.High;m6Z=q6Z.Low;if(!n6Z && n6Z !== 0)continue;h6Z=h6Z || h6Z === 0?h6Z:n6Z;M6Z=M6Z || M6Z === 0?M6Z:n6Z;m6Z=m6Z || m6Z === 0?m6Z:n6Z;if(!u6Z && u6Z !== 0){r6Z=Math.floor(h6Z / F6Z) * F6Z;u6Z=isNaN(r6Z)?h6Z:r6Z;W6Z();L6Z(y6Z,h6Z);}if(C6Z){L6Z(q6Z,h6Z);}if(M6Z - h6Z < h6Z - m6Z){if(M6Z){L6Z(q6Z,M6Z);}if(m6Z){L6Z(q6Z,m6Z);}}else {if(m6Z){L6Z(q6Z,m6Z);}if(M6Z){L6Z(q6Z,M6Z);}}L6Z(q6Z,n6Z);if(C6Z == U6Z.length - 1 && n6Z != t6Z){f6Z=i6Z;I5Gj.W5Ld(2);i6Z=I5Gj.Q5Ld(F6Z,o6Z);I5Gj.S5Ld(6);o6Z=I5Gj.Q5Ld(f6Z,F6Z);X6Z(n6Z);}}return p6Z;};d5Z.calculatePointFigure=function(F0Z,q0Z,M0Z,m0Z){var D5Gj=L8gg;var v6Z,j6Z,U0Z,E6Z,J6Z,i2qt,l2qt,y2qt,O6Z,l0Z,u0Z,z6Z,Q6Z,D6Z,H6Z,a6Z,T6Z,Y6Z,c6Z,d6Z,R6Z,I6Z;if(!q0Z.length){return q0Z;}if(!m0Z){m0Z=[];}v6Z=F0Z.layout;j6Z=F0Z.chart;U0Z=j6Z.state.aggregation;if(!U0Z){U0Z=j6Z.state.aggregation={};}j6Z.defaultChartStyleConfig.box=1;j6Z.defaultChartStyleConfig.reversal=3;if(!M0Z){M0Z={};}function o0Z(S0Z,C0Z){for(var n0Z in S0Z){if(!C0Z[n0Z] && C0Z[n0Z] !== 0){C0Z[n0Z]=S0Z[n0Z];}}return C0Z;}E6Z=M0Z.box;if(!E6Z){if(v6Z.pandf){if(v6Z.pandf.box !== null){v6Z.pandf.box=null;F0Z.changeOccurred("layout");}}E6Z=j6Z.defaultChartStyleConfig.box;J6Z=q0Z[q0Z.length - 1].Close;if(J6Z){if(J6Z < 0.25){E6Z=0.0625;}else if(J6Z < 1){E6Z=0.125;}else if(J6Z < 5){E6Z=0.25;}else if(J6Z < 20){E6Z=0.5;}else if(J6Z < 100){E6Z=+"1";}else if(J6Z < 200){E6Z=2;}else if(J6Z < 500){E6Z=4;}else if(J6Z < 1000){E6Z=5;}else if(J6Z < 25000){E6Z=50;}else {E6Z=500;}}if(!d5Z.ChartEngine.isDailyInterval(v6Z.interval)){E6Z/=10;}if(d5Z.Market.Symbology.isForexSymbol(j6Z.symbol)){if(J6Z){if(J6Z < 1){E6Z=0.001;}else if(J6Z < 2){E6Z=0.002;}else if(J6Z < +"50"){E6Z=0.02;}else if(J6Z < 200){E6Z=+"0.2";}}if(d5Z.ChartEngine.isDailyInterval(v6Z.interval)){E6Z*=+"10";}}j6Z.defaultChartStyleConfig.box=E6Z;}E6Z=parseFloat(E6Z);if(isNaN(E6Z) || E6Z <= 0){if(v6Z.pandf){if(v6Z.pandf.box !== null){v6Z.pandf.box=null;F0Z.changeOccurred("layout");}}D5Gj.W5Ld(21);i2qt=D5Gj.Q5Ld(1627390213,"1764739351");l2qt=-314265582;y2qt=2;for(var x2qt=1;D5Gj.T5tt(x2qt.toString(),x2qt.toString().length,85) !== i2qt;x2qt++){j6Z.defaultChartStyleConfig.box=E6Z=7;y2qt+=2;}if(D5Gj.T5tt(y2qt.toString(),y2qt.toString().length,59345) !== l2qt){j6Z.defaultChartStyleConfig.box=E6Z=+"7";}j6Z.defaultChartStyleConfig.box=E6Z=1;}O6Z=Math.ceil(parseFloat(M0Z.reversal));if(O6Z > ("0" | 0) && O6Z > M0Z.reversal){v6Z.pandf.reversal=O6Z;F0Z.changeOccurred("layout");}else if(isNaN(O6Z) || O6Z <= 0){if(v6Z.pandf){if(v6Z.pandf.reversal !== null){v6Z.pandf.reversal=null;F0Z.changeOccurred("layout");}}O6Z=j6Z.defaultChartStyleConfig.reversal;}U0Z.box=E6Z;function h0Z(L0Z,y0Z,b0Z,x0Z,G0Z){L0Z.High=Math.max(y0Z,L0Z.High);L0Z.Low=Math.min(b0Z,L0Z.Low);L0Z.Close=x0Z;L0Z.Volume+=G0Z;}O6Z*=E6Z;l0Z=0.00000001;u0Z=(E6Z.toString() + ".").split((8826,342) !== ("5332" * 1,+"128.09")?".":9.86 <= +"816.41"?("6490" - 0,"6901" ^ 0) >= (5615,6882)?("s",3.95e+3):(0x1a68,! !""):(0x1775,463.20))[1].length;z6Z=[];function k0Z(Z0Z,B0Z,t0Z,e0Z,p0Z,W0Z,r0Z,A0Z,X0Z){return {DT:Z0Z.DT,Date:Z0Z.Date,pfOpen:A0Z,pfClose:X0Z,Open:B0Z,Close:p0Z,High:t0Z,Low:e0Z,Volume:W0Z,iqPrevClose:r0Z};}Q6Z=0;for(var i0Z=0;i0Z < q0Z.length;i0Z++){H6Z=q0Z[i0Z];if(!H6Z)continue;Q6Z+=H6Z.Volume;T6Z=H6Z.Close;Y6Z=H6Z.Open;c6Z=H6Z.High;d6Z=H6Z.Low;Y6Z=Y6Z || Y6Z === 0?Y6Z:T6Z;c6Z=c6Z || c6Z === 0?c6Z:T6Z;d6Z=d6Z || d6Z === 0?d6Z:T6Z;if(!z6Z.length && !m0Z.length){D6Z=o0Z(H6Z,k0Z(H6Z,Y6Z,c6Z,d6Z,T6Z,Q6Z,c6Z + E6Z,Number((Math.ceil(d6Z / E6Z - l0Z) * E6Z).toFixed(u0Z)),Number((Math.floor(c6Z / E6Z + l0Z) * E6Z).toFixed(u0Z))));D6Z.pfTrend=982.61 === (116,20)?(1.91e+3,526.14):1048 > 2590?("h",8.19e+3):5773 >= "7540" - 0?("F",0x49a):"X";if(D6Z.pfOpen == D6Z.pfClose){D6Z.pfStepBack="-";}z6Z.push(D6Z);Q6Z=0;continue;}D5Gj.S5Ld(20);var G3zt=D5Gj.K5Ld(5,54,11);a6Z=z6Z[z6Z.length - G3zt];if(!a6Z){a6Z=d5Z.clone(m0Z[m0Z.length - 1]);}if(a6Z.pfTrend == "O"){if(d6Z <= a6Z.pfClose - E6Z){a6Z.pfClose=Number((Math.ceil(d6Z / E6Z - l0Z) * E6Z).toFixed(u0Z));if(a6Z.pfStepBack == ((+"2851",383.08) <= (5095,224.87)?"a":(5470,95.62) < (1490,512.28)?(767.65,570.83) <= "339.5" * 1?"m":"O":"t")){a6Z.pfStepBack=null;}h0Z(a6Z,c6Z,d6Z,T6Z,Q6Z);}else if(c6Z >= a6Z.pfClose + O6Z){R6Z=a6Z.pfClose + E6Z;I6Z=Number((Math.floor(c6Z / E6Z + l0Z) * E6Z).toFixed(u0Z));D6Z=k0Z(H6Z,Y6Z,c6Z,d6Z,T6Z,Q6Z,a6Z.pfClose,R6Z,I6Z);if(R6Z == I6Z){D6Z.pfStepBack="X";}if(a6Z.pfStepBack == (2780 >= (5.64,875.71)?"O":!{})){a6Z.pfOpen=R6Z;a6Z.pfClose=I6Z;a6Z.pfTrend=(8369,7982) >= (3367,679)?(+"892.37",588) <= (782.09,"1500" >> 2042301312)?"X":(91.46,9656) <= 2248?660.26:"9.67e+3" * 1:(598.54,3.34e+2);h0Z(a6Z,c6Z,d6Z,T6Z,Q6Z);}else {D6Z=o0Z(H6Z,D6Z);D6Z.pfTrend=(417.82,9790) !== 959.3?"X":(+"148.96",112.68) >= 4384?"m":(!"",397.39);z6Z.push(D6Z);}}else {h0Z(a6Z,c6Z,d6Z,T6Z,Q6Z);}Q6Z=0;}else if(a6Z.pfTrend == "X"){if(c6Z >= a6Z.pfClose + E6Z){a6Z.pfClose=Number((Math.floor(c6Z / E6Z + l0Z) * E6Z).toFixed(u0Z));if(a6Z.pfStepBack == "X" || a6Z.pfStepBack == ((+"465",+"4700") !== ("211.25" - 0,4053)?9170 == (2676,9428)?! !{}:"-":("U","h"))){a6Z.pfStepBack=null;}h0Z(a6Z,c6Z,d6Z,T6Z,Q6Z);}else if(d6Z <= a6Z.pfClose - O6Z){R6Z=a6Z.pfClose - E6Z;I6Z=Number((Math.ceil(d6Z / E6Z - l0Z) * E6Z).toFixed(u0Z));D6Z=k0Z(H6Z,Y6Z,c6Z,d6Z,T6Z,Q6Z,a6Z.pfClose,R6Z,I6Z);if(R6Z == I6Z){D6Z.pfStepBack=712.58 < (+"406",2860)?8310 == 2402?(4.94e+3,! ![]):"O":!"";}if(a6Z.pfStepBack == "X" || a6Z.pfStepBack == "-"){a6Z.pfOpen=R6Z;a6Z.pfClose=I6Z;a6Z.pfTrend=643.52 === (3102,860.54)?(811,8640) > (6290,7028)?(4.67e+3,11.38):"6.18e+3" >> 1109013696:"O";h0Z(a6Z,c6Z,d6Z,T6Z,Q6Z);if(R6Z != I6Z && a6Z.pfStepBack == (8150 < +"3975"?(628.94,"J"):"-")){a6Z.pfStepBack=null;}}else {D6Z=o0Z(H6Z,D6Z);D6Z.pfTrend=5520 == (907.04,598)?0x212b:"O";z6Z.push(D6Z);}}else {h0Z(a6Z,c6Z,d6Z,T6Z,Q6Z);}Q6Z=0;}}return z6Z;};};H8A=g0Z=>{var J1Gj=L8gg;var x6qt,f0Z,N0Z,Z1qt,P1qt,S1qt,Q1qt,L1qt,b1qt,Y1qt,e8qt,g8qt,X8qt,W8qt,v8qt,q8qt,A8qt,c8qt,p7qt,h7qt,j7qt,u7qt,V7qt,R7qt,U7qt,w7qt,D7qt,n7qt,Q7qt,a7qt,t7qt;x6qt="undefin";x6qt+="ed";J1Gj.R1Gj();f0Z=typeof _CIQ !== x6qt?_CIQ:g0Z.CIQ;N0Z=typeof _timezoneJS !== "undefined"?_timezoneJS:g0Z.timezoneJS;if(!f0Z.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {Z1qt="l";Z1qt+="in";Z1qt+="eWidth";P1qt="c";P1qt+="o";P1qt+="lo";P1qt+="r";S1qt="I";S1qt+="II";Q1qt="line";Q1qt+="W";Q1qt+="id";Q1qt+="th";L1qt="axis";L1qt+="Label";b1qt="line";b1qt+="W";b1qt+="idth";Y1qt="fil";Y1qt+="lColor";e8qt="cq-cvp-controller[cq-cvp-head";e8qt+="er=\"2";e8qt+="\"]";g8qt="cq-c";g8qt+="vp-contr";g8qt+="oller[cq-cvp-head";g8qt+="er=\"1\"]";X8qt="l";X8qt+="ineWid";X8qt+="th2";W8qt="c";W8qt+="o";W8qt+="lo";W8qt+="r2";v8qt="ac";v8qt+="tive2";q8qt="c";q8qt+="o";q8qt+="lor";q8qt+="1";A8qt="l";A8qt+="in";A8qt+="e";A8qt+="Width";c8qt="c";c8qt+="olor";p7qt="p";p7qt+="ara";p7qt+="me";p7qt+="ters";h7qt="l";h7qt+="ineWid";h7qt+="th";j7qt="fil";j7qt+="lColor";u7qt="c";u7qt+="o";u7qt+="lor";V7qt="p";V7qt+="v";R7qt="p";R7qt+="l";U7qt="patter";U7qt+="n";w7qt="lineWi";w7qt+="d";w7qt+="t";w7qt+="h";D7qt="fill";D7qt+="Colo";D7qt+="r";n7qt="pat";n7qt+="tern";Q7qt="l";Q7qt+="ine";Q7qt+="Widt";Q7qt+="h";a7qt="colo";a7qt+="r";t7qt="fil";t7qt+="lC";t7qt+="o";t7qt+="lor";f0Z.Drawing.ray=function(){J1Gj.R1Gj();this.name="ray";};f0Z.inheritsFrom(f0Z.Drawing.ray,f0Z.Drawing.line);f0Z.Drawing.ray.prototype.calculateOuterSet=function(s0Z){var K0Z,w0Z;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || f0Z.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}K0Z={x0:this.p0[0],y0:this.p0[1],x1:this.p1["0" * 1],y1:this.p1[1]};J1Gj.S5Ld(22);var D3zt=J1Gj.K5Ld(987,9040,10,14,3);w0Z=K0Z.x1 + D3zt;if(K0Z.x0 > K0Z.x1){J1Gj.S5Ld(23);var w3zt=J1Gj.Q5Ld(2000,3800,12,5);w0Z=K0Z.x1 - w3zt;}this.v0B=this.v0;this.v1B=f0Z.yIntersection(K0Z,w0Z);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(w0Z,s0Z.chart);};f0Z.Drawing.ray.prototype.adjust=function(){var V0Z;J1Gj.o1Gj();V0Z=this.stx.panels[this.panelName];if(!V0Z){return;}this.setPoint(0,this.d0,this.v0,V0Z.chart);this.setPoint(1,this.d1,this.v1,V0Z.chart);if(f0Z.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,V0Z.chart);}};f0Z.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=!{};J1Gj.o1Gj();this.maxSegments=null;};f0Z.inheritsFrom(f0Z.Drawing.continuous,f0Z.Drawing.segment);f0Z.Drawing.continuous.prototype.click=function(J0Z,P0Z,a0Z){var E0Z,d0Z,c0Z,D0Z;E0Z=this.stx.panels[this.panelName];if(!E0Z){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,P0Z,a0Z,E0Z.chart);this.penDown=!0;return !{};}if(this.accidentalClick(P0Z,a0Z)){this.stx.undo();return ! !"1";}J1Gj.W5Ld(24);this.setPoint(J1Gj.Q5Ld("1",0),P0Z,a0Z,E0Z.chart);d0Z=f0Z.Drawing.segment;c0Z=new d0Z();D0Z=this.serialize(this.stx);c0Z.reconstruct(this.stx,D0Z);this.stx.addDrawing(c0Z);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! ![];}J1Gj.o1Gj();this.setPoint(+"0",P0Z,a0Z,E0Z.chart);return !{};};f0Z.Drawing.ellipse=function(){J1Gj.R1Gj();this.name="ellipse";};f0Z.inheritsFrom(f0Z.Drawing.ellipse,f0Z.Drawing.BaseTwoPoint);f0Z.Drawing.ellipse.prototype.render=function(Q0Z){var M6qt,T0Z,z2qt,m2qt,o2qt,M8Z,I0Z,z0Z,Y0Z,j0Z,u8Z,F8Z,q8Z,h8Z,O0Z,v0Z,H0Z,f6qt,R0Z,s7qt,m8Z;M6qt="a";M6qt+="ut";M6qt+="o";T0Z=this.stx.panels[this.panelName];z2qt=-153064625;m2qt=-2059250743;o2qt=2;for(var J2qt=1;J1Gj.T5tt(J2qt.toString(),J2qt.toString().length,36965) !== z2qt;J2qt++){if(+T0Z){return;}M8Z=this.stx.pixelFromTick(this.p0[2],T0Z.chart);I0Z=this.stx.pixelFromTick(this.p1[6],T0Z.chart);z0Z=this.stx.pixelFromValueAdjusted(T0Z,this.p0[7],this.p0[9]);o2qt+=2;}if(J1Gj.g5tt(o2qt.toString(),o2qt.toString().length,65501) !== m2qt){if(!T0Z){return;}M8Z=this.stx.pixelFromTick(this.p0[0],T0Z.chart);I0Z=this.stx.pixelFromTick(this.p1[0],T0Z.chart);z0Z=this.stx.pixelFromValueAdjusted(T0Z,this.p0[0],this.p0[1]);}Y0Z=this.stx.pixelFromValueAdjusted(T0Z,this.p1["0" - 0],this.p1[+"1"]);J1Gj.S5Ld(25);j0Z=J1Gj.Q5Ld(I0Z,M8Z,M8Z);u8Z=I0Z;F8Z=z0Z;q8Z=Y0Z;J1Gj.W5Ld(25);h8Z=J1Gj.K5Ld(Y0Z,z0Z,z0Z);J1Gj.W5Ld(26);O0Z=J1Gj.Q5Ld(6,q8Z,h8Z);v0Z=this.lineWidth;if(!v0Z){v0Z=1.1;}H0Z=this.color;if(H0Z == M6qt || f0Z.isTransparent(H0Z)){H0Z=this.stx.defaultColor;}if(this.highlighted){f6qt="s";f6qt+="tx_hi";f6qt+="ghlight_vecto";f6qt+="r";H0Z=this.stx.getCanvasColor(f6qt);if(v0Z == 0.1){v0Z=1.1;}}R0Z=this.fillColor;Q0Z.beginPath();Q0Z.moveTo(j0Z,F8Z);J1Gj.S5Ld(2);Q0Z.bezierCurveTo(j0Z,J1Gj.K5Ld(O0Z,q8Z),u8Z,J1Gj.K5Ld(O0Z,q8Z),u8Z,F8Z);J1Gj.W5Ld(6);Q0Z.bezierCurveTo(u8Z,J1Gj.K5Ld(h8Z,O0Z),j0Z,J1Gj.Q5Ld(h8Z,O0Z),j0Z,F8Z);J1Gj.o1Gj();if(R0Z && !f0Z.isTransparent(R0Z) && R0Z != "auto"){Q0Z.fillStyle=R0Z;Q0Z.globalAlpha=0.2;Q0Z.fill();J1Gj.W5Ld(7);Q0Z.globalAlpha=J1Gj.Q5Ld("1",1);}if(H0Z && this.pattern != "none"){Q0Z.strokeStyle=H0Z;Q0Z.lineWidth=v0Z;if(Q0Z.setLineDash){Q0Z.setLineDash(f0Z.borderPatternToArray(v0Z,this.pattern));Q0Z.lineDashOffset=0;;}Q0Z.stroke();}Q0Z.closePath();if(this.highlighted){s7qt="p";s7qt+="1";m8Z=this.highlighted == s7qt?!"":! !0;this.littleCircle(Q0Z,I0Z,Y0Z,m8Z);}};f0Z.Drawing.ellipse.prototype.intersected=function(L8Z,y8Z,U8Z){var b7qt,Y7qt,i8Z,o8Z,C8Z,S8Z;b7qt="mo";b7qt+="ve";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[+"1"],U8Z)){Y7qt="p";Y7qt+="1";this.highlighted=Y7qt;return {action:"drag",point:"p1"};}i8Z=this.p0[0] - (this.p1[0] - this.p0[+"0"]);o8Z=this.p1[0];C8Z=this.p1[1];J1Gj.W5Ld(27);var S3zt=J1Gj.Q5Ld(9,19,438,16,16);J1Gj.S5Ld(28);var P3zt=J1Gj.K5Ld(7,6,18,4);S8Z=this.p0["1" & 2147483647] - (this.p1[S3zt] - this.p0[P3zt]);if(U8Z.x0 > Math.max(i8Z,o8Z) || U8Z.x1 < Math.min(i8Z,o8Z)){return !"1";}if(U8Z.y1 > Math.max(S8Z,C8Z) || U8Z.y0 < Math.min(S8Z,C8Z)){return ![];}this.highlighted=! !{};return {action:b7qt,p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),tick:L8Z,value:y8Z};};f0Z.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"];f0Z.Drawing.ellipse.prototype.reconstruct=function(x8Z,b8Z){this.stx=x8Z;this.color=b8Z.col;this.fillColor=b8Z.fc;this.panelName=b8Z.pnl;this.pattern=b8Z.ptrn;this.lineWidth=b8Z.lw;this.d0=b8Z.d0;this.d1=b8Z.d1;this.tzo0=b8Z.tzo0;this.tzo1=b8Z.tzo1;this.v0=b8Z.v0;this.v1=b8Z.v1;this.adjust();};f0Z.Drawing.ellipse.prototype.serialize=function(){J1Gj.R1Gj();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};f0Z.Drawing.channel=function(){this.name="channel";this.dragToDraw=!{};this.p2=null;};f0Z.inheritsFrom(f0Z.Drawing.channel,f0Z.Drawing.segment);f0Z.Drawing.channel.prototype.configs=["color",t7qt,"lineWidth","pattern"];f0Z.Drawing.channel.prototype.move=function(p8Z,G8Z,B8Z){var t8Z;if(!this.penDown){return;}J1Gj.R1Gj();this.copyConfig();if(this.p2 === null){this.p1=[G8Z,B8Z];}else {J1Gj.W5Ld(29);var Z3zt=J1Gj.K5Ld(27,15,11);J1Gj.W5Ld(8);var F3zt=J1Gj.K5Ld(8,0,9);t8Z=B8Z - (this.p1["1" * Z3zt] - this.p0[F3zt]) / (this.p1[0] - this.p0[0]) * (G8Z - this.p1[+"0"]);this.p2=[this.p1[0],t8Z];}this.render(p8Z);};f0Z.Drawing.channel.prototype.click=function(X8Z,r8Z,A8Z){var W8Z,V2qt,u2qt,j2qt;W8Z=this.stx.panels[this.panelName];J1Gj.o1Gj();if(!W8Z){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,r8Z,A8Z,W8Z.chart);this.penDown=! ![];V2qt=1301809468;u2qt=1855333706;j2qt=2;for(var p2qt=1;J1Gj.g5tt(p2qt.toString(),p2qt.toString().length,87826) !== V2qt;p2qt++){return ! !1;}if(J1Gj.T5tt(j2qt.toString(),j2qt.toString().length,51502) !== u2qt){return ![];}}if(this.accidentalClick(r8Z,A8Z)){this.stx.undo();return ! ![];}if(this.p2 !== null){J1Gj.W5Ld(21);this.setPoint(J1Gj.K5Ld(0,"2"),this.p2[0],this.p2[1],W8Z.chart);this.penDown=! !0;return ! ![];}this.setPoint(1,r8Z,A8Z,W8Z.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !"1";}this.p2=[this.p1[0],this.p1[1]];return ![];};f0Z.Drawing.channel.prototype.boxIntersection=function(V8Z,a8Z,K8Z){var N8Z,g8Z,s8Z,E8Z,P8Z;N8Z=this.p0;g8Z=this.p1;s8Z=this.p2;if(!N8Z || !g8Z || !s8Z){return ![];}if(K8Z.x0 > Math.max(N8Z[0],g8Z[0]) || K8Z.x1 < Math.min(N8Z[0],g8Z["0" & 2147483647])){return ![];}J1Gj.S5Ld(4);J1Gj.R1Gj();var U3zt=J1Gj.Q5Ld(0,19,20);J1Gj.W5Ld(30);var C3zt=J1Gj.K5Ld(15,12,64,4);J1Gj.W5Ld(31);var z3zt=J1Gj.Q5Ld(19,1,0,19,2);J1Gj.W5Ld(32);var m3zt=J1Gj.K5Ld(20,17,2);E8Z=(g8Z[0] - N8Z["0" * U3zt]) * ((s8Z[C3zt] < N8Z[z3zt]?K8Z.y1:K8Z.y0) - N8Z[m3zt]) - (g8Z[1] - N8Z[+"1"]) * (V8Z - N8Z[0]);J1Gj.W5Ld(12);var o3zt=J1Gj.Q5Ld(4,2,4);J1Gj.W5Ld(29);var K3zt=J1Gj.K5Ld(28,20,7);J1Gj.W5Ld(6);var J3zt=J1Gj.K5Ld(15,14);J1Gj.W5Ld(12);var c3zt=J1Gj.K5Ld(7,2,7);J1Gj.W5Ld(2);var A3zt=J1Gj.Q5Ld(1,0);J1Gj.W5Ld(5);var r3zt=J1Gj.Q5Ld(18,19,31,5);J1Gj.S5Ld(12);var N3zt=J1Gj.Q5Ld(3,4,9);P8Z=(s8Z[0] - N8Z[+"0"]) * ((s8Z[o3zt] > N8Z[K3zt]?K8Z.y1:K8Z.y0) - (N8Z[J3zt] + s8Z[c3zt] - g8Z[A3zt])) - (g8Z[r3zt] - N8Z[N3zt]) * (V8Z - N8Z[0]);J1Gj.S5Ld(33);return J1Gj.K5Ld(E8Z,P8Z,"0",52458752);};f0Z.Drawing.channel.prototype.intersected=function(J8Z,Q8Z,v8Z){J1Gj.o1Gj();var D8Z;if(!this.p0 || !this.p1 || !this.p2){return null;}D8Z={0:this.p0,1:this.p1,2:this.p2};for(var d8Z in D8Z){if(this.pointIntersection(D8Z[d8Z][0],D8Z[d8Z][1],v8Z)){J1Gj.W5Ld(2);this.highlighted=J1Gj.K5Ld(d8Z,"p");return {action:"drag",point:((9860,1875) > (3710,1800)?"p":"C") + d8Z};}}if(this.boxIntersection(J8Z,Q8Z,v8Z)){this.highlighted=! !1;return {action:"move",p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),p2:f0Z.clone(this.p2),tick:J8Z,value:Q8Z};}return null;};f0Z.Drawing.channel.prototype.render=function(j8Z){var L7qt,O8Z,l1Z,I8Z,h1Z,M1Z,Y8Z,C1Z,n1Z,m1Z,o1Z,O7qt,d7qt,L1Z,y1Z,x1Z;L7qt="n";L7qt+="o";L7qt+="n";L7qt+="e";O8Z=this.stx.panels[this.panelName];if(!O8Z){return;}l1Z=this.stx.pixelFromTick(this.p0[0],O8Z.chart);I8Z=this.stx.pixelFromTick(this.p1["0" & 2147483647],O8Z.chart);h1Z=this.stx.pixelFromValueAdjusted(O8Z,this.p0[0],this.p0[1]);M1Z=this.stx.pixelFromValueAdjusted(O8Z,this.p1[0],this.p1[1]);Y8Z=null;if(this.p2){Y8Z=this.stx.pixelFromValueAdjusted(O8Z,this.p2[0],this.p2[1]);}C1Z=this.lineWidth;n1Z=this.getLineColor();m1Z=this.fillColor;if(this.p2 && m1Z && !f0Z.isTransparent(m1Z) && m1Z != "auto"){j8Z.beginPath();j8Z.moveTo(l1Z,h1Z);j8Z.lineTo(I8Z,M1Z);j8Z.lineTo(I8Z,Y8Z);J1Gj.S5Ld(34);j8Z.lineTo(l1Z,J1Gj.Q5Ld(h1Z,Y8Z,M1Z));j8Z.closePath();j8Z.globalAlpha=0.2;j8Z.fillStyle=m1Z;j8Z.fill();j8Z.globalAlpha=1;}o1Z={pattern:this.pattern,lineWidth:C1Z};if((this.penDown || this.highlighted) && this.pattern == L7qt){o1Z.pattern="dotted";}this.stx.plotLine(l1Z,I8Z,h1Z,M1Z,n1Z,"segment",j8Z,O8Z,o1Z);if(this.p2){J1Gj.S5Ld(34);this.stx.plotLine(l1Z,I8Z,J1Gj.K5Ld(h1Z,Y8Z,M1Z),Y8Z,n1Z,"segment",j8Z,O8Z,o1Z);}if(this.highlighted){O7qt="p";O7qt+="1";d7qt="p";d7qt+="0";L1Z=this.highlighted == d7qt?! !{}:!1;y1Z=this.highlighted == O7qt?! !{}:!{};x1Z=this.highlighted == "p2"?! ![]:![];this.littleCircle(j8Z,l1Z,h1Z,L1Z);this.littleCircle(j8Z,I8Z,M1Z,y1Z);this.littleCircle(j8Z,I8Z,Y8Z,x1Z);}};f0Z.Drawing.channel.prototype.reposition=function(e1Z,G1Z,W1Z,r1Z){var Z1Z,B1Z,t1Z;if(!G1Z){return;}Z1Z=this.stx.panels[this.panelName];B1Z=G1Z.tick - W1Z;t1Z=G1Z.value - r1Z;if(G1Z.action == "move"){this.setPoint(0,G1Z.p0["0" >> 443695552] - B1Z,G1Z.p0["1" | 1] - t1Z,Z1Z.chart);J1Gj.S5Ld(35);this.setPoint(J1Gj.Q5Ld(422187424,"1"),G1Z.p1[0] - B1Z,G1Z.p1[1] - t1Z,Z1Z.chart);this.setPoint(2,G1Z.p2["0" & 2147483647] - B1Z,G1Z.p2["1" & 2147483647] - t1Z,Z1Z.chart);this.render(e1Z);}else if(G1Z.action == "drag"){this[G1Z.point]=[W1Z,r1Z];this.setPoint(0,this.p0[0],this.p0["1" | 1],Z1Z.chart);this.setPoint(1,this.p1[0],this.p1[1],Z1Z.chart);this.setPoint(2,this.p2[0],this.p2[1],Z1Z.chart);this.render(e1Z);}};f0Z.Drawing.channel.prototype.adjust=function(){var A1Z;A1Z=this.stx.panels[this.panelName];if(!A1Z){return;}this.setPoint(0,this.d0,this.v0,A1Z.chart);this.setPoint(1,this.d1,this.v1,A1Z.chart);this.setPoint(2,this.d1,this.v2,A1Z.chart);;};f0Z.Drawing.channel.prototype.reconstruct=function(g1Z,N1Z){this.stx=g1Z;this.color=N1Z.col;this.fillColor=N1Z.fc;this.panelName=N1Z.pnl;this.pattern=N1Z.ptrn;this.lineWidth=N1Z.lw;this.d0=N1Z.d0;this.d1=N1Z.d1;this.tzo0=N1Z.tzo0;this.tzo1=N1Z.tzo1;J1Gj.R1Gj();this.v0=N1Z.v0;this.v1=N1Z.v1;this.v2=N1Z.v2;this.adjust();};f0Z.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};f0Z.Drawing.pitchfork=function(){J1Gj.R1Gj();this.name="pitchfork";this.dragToDraw=![];this.p2=null;};f0Z.inheritsFrom(f0Z.Drawing.pitchfork,f0Z.Drawing.channel);f0Z.Drawing.pitchfork.prototype.configs=[a7qt,Q7qt,n7qt];f0Z.Drawing.pitchfork.prototype.move=function(a1Z,K1Z,V1Z){if(!this.penDown){return;}J1Gj.R1Gj();this.copyConfig();if(this.p2 === null){this.p1=[K1Z,V1Z];}else {this.p2=[K1Z,V1Z];}this.render(a1Z);};f0Z.Drawing.pitchfork.prototype.intersected=function(T1Z,R1Z,I1Z){var J1Z,v1Z;if(!this.p0 || !this.p1 || !this.p2){return null;}J1Z={0:this.p0,1:this.p1,2:this.p2};for(var d1Z in J1Z){if(this.pointIntersection(J1Z[d1Z]["0" << 214875584],J1Z[d1Z][1],I1Z)){J1Gj.W5Ld(2);this.highlighted=J1Gj.Q5Ld(d1Z,(122.36,"6522" & 2147483647) !== "8870" >> 868544224?(286.64,1177) <= +"883.15"?("n","0x789" ^ 0):"p":(0x914,"M"));return {action:"drag",point:((205.65,9116) < 740.66?(3171,783.12) != 3646?"V":(530.12,5.58e+3):"p") + d1Z};}}v1Z=this.rays;for(var c1Z=+"0";c1Z < v1Z.length;c1Z++){if(this.lineIntersection(T1Z,R1Z,I1Z,c1Z?"ray":"segment",v1Z[c1Z][0],v1Z[c1Z][1],! !{})){this.highlighted=! !1;return {action:"move",p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),p2:f0Z.clone(this.p2),tick:T1Z,value:R1Z};}}return null;};f0Z.Drawing.pitchfork.prototype.render=function(S5o){var z1Z,Y1Z,h5o,L5o,l5o,u5o,y5o,F5o,q5o,G5o,Z5o,B5o,M5o,b5o,x5o,n5o,t5o,G7qt,k7qt,p5o,W5o,r5o;z1Z=this.stx.panels[this.panelName];if(!z1Z){return;}J1Gj.o1Gj();Y1Z=this.stx;h5o=this.p2;if(!h5o){h5o=this.p1;}L5o=Y1Z.pixelFromTick(this.p0[0],z1Z.chart);l5o=Y1Z.pixelFromTick(this.p1[+"0"],z1Z.chart);u5o=Y1Z.pixelFromTick(h5o[0],z1Z.chart);y5o=Y1Z.pixelFromValueAdjusted(z1Z,this.p0[0],this.p0[+"1"]);F5o=Y1Z.pixelFromValueAdjusted(z1Z,this.p1[0],this.p1[1]);q5o=Y1Z.pixelFromValueAdjusted(z1Z,h5o["0" - 0],h5o[+"1"]);G5o=this.lineWidth;Z5o=this.getLineColor();B5o={pattern:this.pattern,lineWidth:G5o};M5o=50;J1Gj.S5Ld(36);b5o=J1Gj.Q5Ld(2,y5o,q5o,F5o);J1Gj.W5Ld(36);x5o=J1Gj.K5Ld(2,L5o,u5o,l5o);if(x5o < 0){M5o*=- +"1";}J1Gj.S5Ld(16);b5o*=J1Gj.Q5Ld(M5o,x5o);J1Gj.W5Ld(3);this.rays=[[[l5o,F5o],[u5o,q5o]],[[L5o,y5o],[J1Gj.K5Ld(u5o,2,l5o),J1Gj.K5Ld(q5o,2,F5o)]]];if(!(l5o == u5o && F5o == q5o)){J1Gj.W5Ld(6);this.rays.push([[l5o,F5o],[J1Gj.K5Ld(l5o,M5o),J1Gj.K5Ld(F5o,b5o)]],[[u5o,q5o],[J1Gj.Q5Ld(u5o,M5o),J1Gj.Q5Ld(q5o,b5o)]]);}for(var m5o=0;m5o < this.rays.length;m5o++){n5o=this.rays[m5o];t5o=m5o?"ray":"segment";Y1Z.plotLine(n5o[0][0],n5o[1][0],n5o[0][1],n5o[+"1"][1],Z5o,t5o,S5o,z1Z,B5o);}if(this.highlighted){G7qt="p";G7qt+="2";k7qt="p";k7qt+="0";p5o=this.highlighted == k7qt?!0:!"1";W5o=this.highlighted == "p1"?!0:!"1";r5o=this.highlighted == G7qt?! !1:! !"";this.littleCircle(S5o,L5o,y5o,p5o);this.littleCircle(S5o,l5o,F5o,W5o);this.littleCircle(S5o,u5o,q5o,r5o);}};f0Z.Drawing.pitchfork.prototype.adjust=function(){var A5o;A5o=this.stx.panels[this.panelName];if(!A5o){return;}this.setPoint(0,this.d0,this.v0,A5o.chart);this.setPoint(1,this.d1,this.v1,A5o.chart);this.setPoint(2,this.d2,this.v2,A5o.chart);};f0Z.Drawing.pitchfork.prototype.reconstruct=function(f5o,X5o){this.stx=f5o;this.color=X5o.col;this.panelName=X5o.pnl;this.pattern=X5o.ptrn;this.lineWidth=X5o.lw;this.d0=X5o.d0;this.d1=X5o.d1;this.d2=X5o.d2;this.tzo0=X5o.tzo0;this.tzo1=X5o.tzo1;this.tzo2=X5o.tzo2;this.v0=X5o.v0;this.v1=X5o.v1;this.v2=X5o.v2;this.adjust();};f0Z.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};f0Z.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=![];this.maxSegments=4;this.shape=null;this.points=[];};f0Z.inheritsFrom(f0Z.Drawing.gartley,f0Z.Drawing.continuous);f0Z.Drawing.gartley.prototype.check=function(V5o,K5o){var u9qt,j9qt,h9qt;if(!K5o){return ! !"1";}J1Gj.o1Gj();if(V5o[0] >= K5o[0] || V5o[1] == K5o[1]){return !{};}if(this.segment == +"1"){if(V5o[1] < K5o[1]){this.shape=9150 == (2020,532)?"s":(1830,8690) > (529,306.85)?"M":898.18 != 1650?("p","4.65e+3" - 0):2.56e+3;}else {this.shape=5020 <= (3600,6500)?"W":(0xe27,0x100a);}}else if(this.segment == 2){if(this.shape == ("395.01" - 0 >= (1870,6780)?! !1:"M") && V5o[1] < K5o[1]){return !"1";}else if(this.shape == "W" && V5o[1] > K5o[1]){return ![];}else if((K5o[1] - V5o[1]) / (this.points[0][1] - V5o[1]) < 0.618){return ![];}else if((K5o[1] - V5o[1]) / (this.points[0][1] - V5o[1]) >= 0.786){return !{};}}else if(this.segment == ("3" ^ 0)){if(this.shape == (113 <= 9649?"M":("9280" ^ 0,126.34) < (4280,984.99)?(0x18df,"g"):("M",0x1267)) && V5o[1] > K5o[1]){return !"1";}else if(this.shape == ("762.74" * 1 !== 3012?(1590,+"237.55") == ("4850" | 226,1980)?334.91 == (4779,7409)?(0x3f,6.04e+3):(!1,2.23e+3):"W":7.93e+3) && V5o[1] < K5o[1]){return ![];}else if((K5o["1" >> 644132096] - V5o[+"1"]) / (this.points[1][1] - V5o["1" & 2147483647]) < 0.618){return ! !"";}else if((K5o[1] - V5o[1]) / (this.points[1][1] - V5o[1]) >= 0.786){return ! !"";}}else if(this.segment == 4){if(this.shape == ((6088,4034) < (6123,+"4861")?"M":(468.94,348.21) !== (4649,"172.97" * 1)?("C",!0):(286.04,0xa0c)) && (V5o[1] < K5o[1] || K5o[1] < this.points[+"0"][1])){return !{};}else if(this.shape == ((6107,+"556.03") > (4480,"390.81" - 0)?(293.66,"268.25" * 1) <= 1263?(1550,6793) < "249.71" * 1?(0x1f67,"e"):"W":(! !{},! !{}):("i",0xc34)) && (V5o[1] > K5o[1] || K5o[1] > this.points[0][1])){return ! !"";}else if((this.points[1][1] - K5o[+"1"]) / (this.points[1][1] - this.points[2]["1" >> 388013856]) < 1.27){return !{};}else if((this.points[1]["1" * 1] - K5o[1]) / (this.points[1][1] - this.points[2]["1" ^ 0]) >= +"1.618"){return !"1";}}u9qt=1179764435;j9qt=58633209;h9qt=2;for(var I9qt=+"1";J1Gj.T5tt(I9qt.toString(),I9qt.toString().length,15852) !== u9qt;I9qt++){return ! ![];}if(J1Gj.T5tt(h9qt.toString(),h9qt.toString().length,28007) !== j9qt){return ! !0;}};f0Z.Drawing.gartley.prototype.click=function(d5o,a5o,c5o){var E5o;E5o=this.stx.panels[this.panelName];if(!E5o){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,a5o,c5o,E5o.chart);this.pts=[];this.penDown=! !{};this.segment=1;return ![];}if(this.accidentalClick(a5o,c5o)){this.penDown=! !{};return !{};}if(this.check(this.p0,this.p1)){if(this.segment == ("1" ^ 0)){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,a5o,c5o,E5o.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0][+"1"],E5o.chart);this.penDown=!{};return ! !{};}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,a5o,c5o,E5o.chart);;}return ![];};f0Z.Drawing.gartley.prototype.render=function(Q5o){var D5o,i9o,u9o,o9o,F9o,R5o,k9o,q9o,l9o,Y5o,T5o,h9o,M9o,m9o,U9o;D5o=this.stx.panels[this.panelName];if(!D5o){return;}i9o=this.stx.pixelFromTick(this.p0[0],D5o.chart);u9o=this.stx.pixelFromTick(this.p1[0],D5o.chart);o9o=this.stx.pixelFromValueAdjusted(D5o,this.p0[0],this.p0[+"1"]);F9o=this.stx.pixelFromValueAdjusted(D5o,this.p1["0" >> 1891171968],this.p1[1]);if(this.segment == 2){this.drawDropZone(Q5o,0.618 * this.points[0][1] + "0.382" * 1 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == "3" << 1807266592){this.drawDropZone(Q5o,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[+"1"][1] + 0.214 * this.p0[+"1"],this.p0[0]);}else if(this.segment == 4){J1Gj.W5Ld(37);var R3zt=J1Gj.K5Ld(7,12,11,8,3);J1Gj.W5Ld(6);var V3zt=J1Gj.Q5Ld(4,3);J1Gj.W5Ld(38);var u3zt=J1Gj.Q5Ld(23,4,2,12);J1Gj.S5Ld(39);var j3zt=J1Gj.K5Ld(11,11,12,6,6);R5o=1.618 * this.points[R3zt][V3zt] - 0.618 * this.points[u3zt][j3zt];if(this.shape == "M"){R5o=Math.max(R5o,this.points[0][+"1"]);}else {R5o=Math.min(R5o,this.points[0][1]);}this.drawDropZone(Q5o,R5o,1.27 * this.points[2][1] - 0.27 * this.points[1][1],this.p0[0]);}k9o=this.lineWidth;q9o=this.getLineColor();l9o={pattern:this.pattern,lineWidth:k9o};if((this.penDown || this.highlighted) && this.pattern == "none"){l9o.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(i9o,u9o,o9o,F9o,q9o,this.name,Q5o,D5o,l9o);}Y5o=this.fillColor;T5o=[];if(this.points.length){Q5o.beginPath();for(var v5o=1;v5o < this.points.length && v5o <= 4;v5o++){h9o=this.stx.pixelFromTick(this.points[v5o - 1][0],D5o.chart);M9o=this.stx.pixelFromTick(this.points[v5o][0],D5o.chart);m9o=this.stx.pixelFromValueAdjusted(D5o,this.points[v5o - 1][0],this.points[v5o - 1][1]);U9o=this.stx.pixelFromValueAdjusted(D5o,this.points[v5o][0],this.points[v5o]["1" | 0]);if(v5o == 1){T5o.push(h9o,m9o);}T5o.push(M9o,U9o);this.stx.plotLine(h9o,M9o,m9o,U9o,q9o,this.name,Q5o,D5o,l9o);}if(this.points.length == 2 || this.points.length == 4){T5o.push(u9o,F9o);}if(this.points[2]){T5o.push(this.stx.pixelFromTick(this.points[2]["0" >> 1917280800],D5o.chart),this.stx.pixelFromValueAdjusted(D5o,this.points[2][0],this.points[+"2"][1]));}if(Y5o && Y5o != "auto" && !f0Z.isTransparent(Y5o)){for(var I5o=0;I5o < T5o.length;I5o+="2" & 2147483647){if(I5o === 0){Q5o.moveTo(T5o["0" ^ 0],T5o[1]);}Q5o.lineTo(T5o[I5o],T5o[I5o + 1]);}Q5o.fillStyle=Y5o;Q5o.globalAlpha=0.2;Q5o.closePath();Q5o.fill();Q5o.globalAlpha=1;}}J1Gj.R1Gj();;};f0Z.Drawing.gartley.prototype.lineIntersection=function(L9o,y9o,b9o,x9o){var n9o,S9o;n9o=this.points;J1Gj.o1Gj();S9o=this.stx.panels[this.panelName];if(n9o.length != this.maxSegments + ("1" & 2147483647) || !S9o){return !{};}for(var C9o=0;C9o < n9o.length - ("1" ^ 0);C9o++){if(f0Z.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,L9o,y9o,b9o,"segment",n9o[C9o],n9o[C9o + 1])){return ! !{};}}return !"1";};f0Z.Drawing.gartley.prototype.boxIntersection=function(e9o,p9o,Z9o){var B9o,t9o;if(!this.p0 || !this.p1){return !1;}if(Z9o.x0 > Math.max(this.p0[0],this.p1[0]) || Z9o.x1 < Math.min(this.p0["0" | 0],this.p1[0])){return ! !"";}B9o=Math.min(this.p0[1],this.p1[1]);t9o=Math.max(this.p0[1],this.p1[1]);for(var G9o=0;G9o < this.points.length;G9o++){B9o=Math.min(B9o,this.points[G9o][1]);t9o=Math.max(t9o,this.points[G9o]["1" << 1246240064]);}if(Z9o.y1 > t9o || Z9o.y0 < B9o){return ![];}return ! !{};};f0Z.Drawing.gartley.prototype.reposition=function(K9o,r9o,X9o,f9o){var A9o,N9o,g9o;if(!r9o){return;}A9o=this.stx.panels[this.panelName];N9o=r9o.tick - X9o;r9o.tick=X9o;g9o=r9o.value - f9o;r9o.value=f9o;if(r9o.action == "move"){this.pts=[];for(var W9o=0;W9o < this.points.length;W9o++){this.points[W9o][0]-=N9o;this.points[W9o][1]-=g9o;this.setPoint(1,this.points[W9o][+"0"],this.points[W9o][1],A9o.chart);if(W9o && W9o < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[W9o]=this.p1;}this.setPoint(0,this.points[0][0],this.points["0" >> 1793449472][+"1"],A9o.chart);this.render(K9o);;}};f0Z.Drawing.gartley.prototype.configs=["color",D7qt,w7qt,"pattern"];f0Z.Drawing.gartley.prototype.adjust=function(){var w9o;w9o=this.stx.panels[this.panelName];if(!w9o){return;}this.reconstructPoints();J1Gj.W5Ld(40);J1Gj.R1Gj();this.setPoint(J1Gj.K5Ld("0",2147483647),this.d0,this.v0,w9o.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,w9o.chart);this.points.push(this.p1);};f0Z.Drawing.gartley.prototype.reconstructPoints=function(){var E9o,V9o;E9o=this.stx.panels[this.panelName];if(!E9o){return;}this.points=[];for(var s9o="0" >> 247145856;s9o < this.pts.length;s9o+=3){V9o=f0Z.strToDateTime(this.pts[s9o]);V9o.setMinutes(V9o.getMinutes() + Number(this.pts[s9o + 1]) - V9o.getTimezoneOffset());this.points.push([this.stx.tickFromDate(f0Z.yyyymmddhhmmssmmm(V9o),E9o.chart),this.pts[s9o + 2]]);}};f0Z.Drawing.gartley.prototype.reconstruct=function(a9o,P9o){this.stx=a9o;this.color=P9o.col;this.fillColor=P9o.fc;this.panelName=P9o.pnl;this.pattern=P9o.ptrn;this.lineWidth=P9o.lw;this.d0=P9o.d0;this.d1=P9o.d1;this.tzo0=P9o.tzo0;this.tzo1=P9o.tzo1;this.v0=P9o.v0;this.v1=P9o.v1;this.pts=P9o.pts.split((2747,2780) <= (5028,3123)?",":6990 != 997?9.48e+3:("Q",!0));this.adjust();};f0Z.Drawing.gartley.prototype.serialize=function(){J1Gj.o1Gj();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(1760 !== (196,4950)?(620,+"5020") <= (1040,9900)?",":! ![]:"o")};};f0Z.Drawing.freeform=function(){var S7qt;S7qt="f";S7qt+="r";S7qt+="eefo";S7qt+="rm";this.name=S7qt;this.splineTension=0.3;this.dragToDraw=! !{};};f0Z.inheritsFrom(f0Z.Drawing.freeform,f0Z.Drawing.segment);f0Z.Drawing.freeform.prototype.measure=function(){};f0Z.Drawing.freeform.prototype.intersected=function(d9o,D9o,c9o){J1Gj.o1Gj();if(c9o.x0 > this.hiX || c9o.x1 < this.lowX){return null;}if(c9o.y1 > this.hiY || c9o.y0 < this.lowY){return null;}this.highlighted=! !1;return {action:"move",p0:f0Z.clone(this.p0),tick:d9o,value:D9o};};f0Z.Drawing.freeform.prototype.reposition=function(T9o,J9o,j9o,O9o){var Q9o,v9o,H9o;if(!J9o){return;}Q9o=this.stx.panels[this.panelName];v9o=J9o.tick - j9o;H9o=J9o.value - O9o;J1Gj.R1Gj();if(J9o.action == "move"){this.setPoint(0,J9o.p0[0] - v9o,J9o.p0["1" << 1393666912] - H9o,Q9o.chart);this.adjust();this.render(T9o);}};f0Z.Drawing.freeform.prototype.click=function(l7o,I9o,Y9o){J1Gj.R1Gj();var R9o,z9o;R9o=this.stx.panels[this.panelName];if(!R9o){return;}if(this.penDown === !"1"){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(I9o,R9o.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(R9o,I9o,Y9o)));z9o=this.stx.dateFromTick(I9o,R9o.chart,! !1);this.d0=f0Z.yyyymmddhhmmssmmm(z9o);this.tzo0=z9o.getTimezoneOffset();this.v0=Y9o;this.p0=[f0Z.ChartEngine.crosshairX - this.startX,f0Z.ChartEngine.crosshairY - this.startY];J1Gj.W5Ld(35);this.nodes=[this.p0[0],this.p0[J1Gj.Q5Ld(1216266688,"1")]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=R9o.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=!0;return !{};}this.penDown=![];this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return ! ![];};f0Z.Drawing.freeform.prototype.move=function(q7o,h7o,M7o){var u7o,F7o;if(!this.penDown){return;}u7o=this.stx.panels[this.panelName];F7o=this.stx.dateFromTick(h7o,u7o.chart,!"");this.d1=f0Z.yyyymmddhhmmssmmm(F7o);this.tzo1=F7o.getTimezoneOffset();this.v1=M7o;this.p1=[f0Z.ChartEngine.crosshairX - this.startX,u7o.yAxis.flipped?this.startY - f0Z.ChartEngine.crosshairY:f0Z.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);J1Gj.o1Gj();this.render(q7o);return ! !"";};f0Z.Drawing.freeform.prototype.intervalRatio=function(k7o,m7o,y7o,b7o,i7o,o7o){var U7o,P7qt,F7qt,Z7qt;U7o=0;if(k7o == m7o){U7o=1;}else if(!isNaN(k7o) && !isNaN(m7o)){J1Gj.S5Ld(16);U7o=J1Gj.Q5Ld(k7o,m7o);}else if(isNaN(k7o)){if(k7o == "month"){P7qt="d";P7qt+="a";P7qt+="y";if(m7o == "week"){U7o=L7o(i7o,o7o);}else if(m7o == P7qt){U7o=S7o(i7o,o7o);}else if(!isNaN(m7o)){U7o=S7o(i7o,o7o) * n7o(i7o,o7o) / m7o;}}else if(k7o == "week"){F7qt="d";F7qt+="a";F7qt+="y";Z7qt="mon";Z7qt+="t";Z7qt+="h";if(m7o == Z7qt){J1Gj.S5Ld(41);var h3zt=J1Gj.Q5Ld(0,179,12,15);U7o=h3zt / L7o(i7o,o7o);}if(m7o == F7qt){U7o=C7o(i7o,o7o);}else if(!isNaN(m7o)){U7o=C7o(i7o,o7o) * n7o(i7o,o7o) / m7o;}}else if(k7o == "day"){if(m7o == "week"){J1Gj.S5Ld(42);var p3zt=J1Gj.Q5Ld(14,15);U7o=p3zt / C7o(i7o,o7o);}else if(m7o == "month"){J1Gj.S5Ld(41);var I3zt=J1Gj.K5Ld(10,269,5,18);U7o=I3zt / S7o(i7o,o7o);}else if(!isNaN(m7o)){U7o=n7o(i7o,o7o) / m7o;}}}else if(!isNaN(k7o)){if(m7o == "month"){U7o=k7o / (S7o(i7o,o7o) * n7o(i7o,o7o));}else if(m7o == "week"){U7o=k7o / (C7o(i7o,o7o) * n7o(i7o,o7o));}else if(m7o == "day"){U7o=k7o / n7o(i7o,o7o);}}J1Gj.S5Ld(16);U7o*=J1Gj.K5Ld(y7o,b7o);function S7o(t7o,e7o){return 30;}J1Gj.o1Gj();function C7o(Z7o,B7o){return 5;}function n7o(W7o,p7o){J1Gj.o1Gj();if(f0Z.Market.Symbology.isForexSymbol(p7o)){return 1440;}return 390;}function L7o(x7o,G7o){J1Gj.o1Gj();return 5;}return U7o;};f0Z.Drawing.freeform.prototype.render=function(s7o){var r7o,N7o,V7o,E7o,P7o,g7o,A7o,a7o,K7o,w7o,c7o,f7o;r7o=this.stx.panels[this.panelName];if(!r7o){return;}N7o=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,r7o.chart.symbol);if(N7o === +"0"){return;}V7o=this.stx.layout.candleWidth / this.candleWidth;J1Gj.o1Gj();E7o=r7o.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,r7o.chart);P7o=this.stx.pixelFromTick(this.p0[0],r7o.chart);g7o=this.stx.pixelFromValueAdjusted(r7o,this.p0[0],this.p0[1]);A7o=[];a7o=this.lineWidth;K7o=this.getLineColor();w7o={pattern:this.pattern,lineWidth:a7o};for(var X7o=0;X7o < this.pNodes.length;X7o++){c7o=N7o * V7o * this.pNodes[X7o][0] + P7o;J1Gj.W5Ld(4);var B3zt=J1Gj.Q5Ld(0,18,19);f7o=E7o * this.pNodes[X7o][B3zt];if(r7o.yAxis.flipped){J1Gj.S5Ld(6);f7o=J1Gj.Q5Ld(g7o,f7o);}else {f7o+=g7o;}A7o.push(c7o,f7o);}if(!A7o.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(A7o,K7o,this.name,s7o,r7o,w7o);}else {this.stx.plotSpline(A7o,this.splineTension,K7o,this.name,s7o,! ![],w7o);}};f0Z.Drawing.freeform.prototype.adjust=function(){var d7o,O7o,D7o,H7o,T7o,Q7o,j7o,v7o;d7o=this.stx.panels[this.panelName];if(!d7o){return;}O7o=[this.nodes[0],this.nodes[1]];this.pNodes=[O7o];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var J7o=+"2";J7o < this.nodes.length;J7o+=2){J1Gj.S5Ld(2);D7o=[this.nodes[J7o],this.nodes[J1Gj.Q5Ld(1,J7o)]];this.pNodes.push(D7o);this.lowX=Math.min(this.lowX,D7o[+"0"]);this.hiX=Math.max(this.hiX,D7o[0]);this.lowY=Math.max(this.lowY,D7o[1]);this.hiY=Math.min(this.hiY,D7o[1]);}H7o=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,d7o.chart.symbol);if(H7o === 0){return;}T7o=this.stx.layout.candleWidth / this.candleWidth;Q7o=d7o.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,d7o.chart);j7o=this.stx.pixelFromTick(this.p0[0],d7o.chart);v7o=this.stx.pixelFromValueAdjusted(d7o,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(H7o * T7o * this.lowX) + j7o,d7o.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(H7o * T7o * this.hiX) + j7o,d7o.chart);if(d7o.yAxis.flipped){this.lowY=this.stx.valueFromPixel(v7o - Math.floor(Q7o * this.lowY),d7o);this.hiY=this.stx.valueFromPixel(v7o - Math.ceil(Q7o * this.hiY),d7o);}else {this.lowY=this.stx.valueFromPixel(Math.floor(Q7o * this.lowY) + v7o,d7o);this.hiY=this.stx.valueFromPixel(Math.ceil(Q7o * this.hiY) + v7o,d7o);}};f0Z.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed("4" ^ 0)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};f0Z.Drawing.freeform.prototype.reconstruct=function(I7o,R7o){this.stx=I7o;this.color=R7o.col;this.panelName=R7o.pnl;this.pattern=R7o.ptrn;this.lineWidth=R7o.lw;this.candleWidth=R7o.cw;this.multiplier=R7o.mlt;this.d0=R7o.d0;this.tzo0=R7o.tzo0;this.v0=R7o.v0;J1Gj.R1Gj();this.interval=R7o.inter;this.periodicity=R7o.pd;this.nodes=R7o.nodes;this.adjust();};f0Z.Drawing.callout=function(){this.name="callout";this.arr=[];J1Gj.W5Ld(21);this.w=J1Gj.K5Ld(0,"0");this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};f0Z.inheritsFrom(f0Z.Drawing.callout,f0Z.Drawing.annotation);f0Z.Drawing.callout.prototype.configs=["color","fillColor","lineWidth",U7qt,"font"];f0Z.Drawing.callout.prototype.copyConfig=function(z7o){f0Z.Drawing.copyConfig(this,z7o);this.borderColor=this.color;};f0Z.Drawing.callout.prototype.move=function(Y7o,l4o,u4o){if(!this.penDown){return;}this.copyConfig();J1Gj.R1Gj();this.p0=[l4o,u4o];this.render(Y7o);};f0Z.Drawing.callout.prototype.onChange=function(M4o){var h4o,j3qt,h3qt,p3qt,q4o,F4o;h4o=this.stx.panels[this.panelName];j3qt=-1987745487;h3qt=+"1946629320";p3qt=2;for(var B3qt=1;J1Gj.g5tt(B3qt.toString(),B3qt.toString().length,86855) !== j3qt;B3qt++){if(~h4o){return;}J1Gj.W5Ld(7);p3qt+=J1Gj.K5Ld("2",1);}if(J1Gj.T5tt(p3qt.toString(),p3qt.toString().length,"48507" * 1) !== h3qt){if(!h4o){return;}}if(!h4o){return;}q4o=M4o.target;this.w=q4o.clientWidth;this.h=q4o.clientHeight;F4o=this.context || this.stx.chart.tempCanvas.context;f0Z.clearCanvas(F4o.canvas,this.stx);this.render(F4o);this.edit(F4o);};f0Z.Drawing.callout.prototype.render=function(m4o){var m7qt,z7qt,C7qt,b4o,p4o,e4o,i4o,U4o,k4o,o4o,x4o,G4o,y4o,C4o,Z4o,S4o,B4o,n4o,L4o,c7qt,J7qt,K7qt,o7qt,t0qt,L0qt,d0qt,A7qt,W4o;m7qt="s";m7qt+="tx_highligh";m7qt+="t_vect";m7qt+="or";z7qt="a";z7qt+="u";z7qt+="t";z7qt+="o";C7qt="au";C7qt+="to";this.context=m4o;b4o=this.stx.panels[this.panelName];if(!b4o){return;}p4o=this.stx.pixelFromTick(this.p0[0],b4o.chart);e4o=this.stx.pixelFromValueAdjusted(b4o,this.p0[0],this.p0[1]);if(isNaN(e4o)){return;}m4o.font=this.fontString;m4o.textBaseline="top";i4o=p4o;U4o=e4o;J1Gj.W5Ld(43);var H3zt=J1Gj.K5Ld(13,20,1,5);k4o=this.w / H3zt;J1Gj.W5Ld(44);var q3zt=J1Gj.Q5Ld(4,6,6,15,146);o4o=this.h / q3zt;J1Gj.R1Gj();if(this.penDown){k4o=this.defaultWidth;o4o=this.defaultHeight;if(!o4o){o4o=this.fontSize;}}x4o=this.lineWidth;if(!x4o){x4o=1.1;}G4o=this.color;if(G4o == C7qt || f0Z.isTransparent(G4o)){G4o=this.stx.defaultColor;}y4o=this.borderColor;if(y4o == z7qt || f0Z.isTransparent(y4o)){y4o=this.stx.defaultColor;}if(this.highlighted){y4o=this.stx.getCanvasColor(m7qt);}n4o=Math.min(Math.min(k4o,o4o) / 2,"8" - 0);if(this.stem){if(this.stem.t){C4o=this.stx.pixelFromTick(this.stem.t);S4o=this.stx.pixelFromValueAdjusted(b4o,this.stem.t,this.stem.v);}else if(this.stem.x){C4o=i4o;S4o=U4o;i4o+=this.stem.x;U4o+=this.stem.y;}L4o="";if(C4o >= i4o + k4o){J1Gj.S5Ld(2);Z4o=J1Gj.K5Ld(k4o,i4o);L4o=(707.65,"5" & 2147483647) == 839.48?(8852,6430) < (1168,"538.91" - 0)?(357.46,0x5ac):(88.73,+"407"):"r";}else if(C4o > i4o - k4o && C4o < i4o + k4o){Z4o=i4o;L4o="c";}else if(C4o <= i4o - k4o){J1Gj.S5Ld(6);Z4o=J1Gj.Q5Ld(i4o,k4o);L4o=(3840,3310) !== 1728?"l":7.27e+2;}if(S4o >= U4o + o4o){J1Gj.S5Ld(2);B4o=J1Gj.Q5Ld(o4o,U4o);L4o+=8800 != ("4360" | 4096,5840)?(3501,264.55) != (107,639.84)?"b":("m","P"):("g",+"6.62e+3");}else if(S4o > U4o - o4o && S4o < U4o + o4o){B4o=U4o;L4o+=(1470,5679) <= 365.3?(4.61e+3,6.80e+3):"m";}else if(S4o <= U4o - o4o){J1Gj.S5Ld(6);B4o=J1Gj.Q5Ld(U4o,o4o);L4o+=(5330,427.36) <= (9563,5819)?"t":2.87e+3;}this.stemEntry=L4o;if(L4o != "cm"){C4o=Math.round(C4o);Z4o=Math.round(Z4o);S4o=Math.round(S4o);B4o=Math.round(B4o);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",m4o);}else {if(this.fillColor){m4o.fillStyle=this.fillColor;m4o.globalAlpha=0.4;}else if(this.stem){m4o.fillStyle=this.stx.containerColor;}}m4o.strokeStyle=y4o;if(m4o.setLineDash){m4o.setLineDash(f0Z.borderPatternToArray(x4o,this.pattern));m4o.lineDashOffset=0;;}if(y4o){c7qt="l";c7qt+="m";J7qt="l";J7qt+="b";K7qt="c";K7qt+="b";o7qt="r";o7qt+="t";m4o.beginPath();m4o.lineWidth=x4o;J1Gj.S5Ld(4);m4o.moveTo(J1Gj.K5Ld(i4o,n4o,k4o),J1Gj.K5Ld(U4o,o4o,J1Gj.S5Ld(6)));if(this.stemEntry != o7qt){J1Gj.W5Ld(2);m4o.quadraticCurveTo(J1Gj.Q5Ld(k4o,i4o),J1Gj.Q5Ld(U4o,o4o,J1Gj.S5Ld(6)),J1Gj.Q5Ld(k4o,i4o,J1Gj.W5Ld(2)),J1Gj.K5Ld(o4o,U4o,n4o,J1Gj.W5Ld(8)));;}else {m4o.lineTo(C4o,S4o);J1Gj.S5Ld(2);m4o.lineTo(J1Gj.K5Ld(k4o,i4o),J1Gj.K5Ld(o4o,U4o,n4o,J1Gj.S5Ld(8)));}J1Gj.S5Ld(2);m4o.lineTo(J1Gj.Q5Ld(k4o,i4o),J1Gj.Q5Ld(n4o,2,U4o,J1Gj.S5Ld(45)));if(this.stemEntry == "rm"){m4o.lineTo(C4o,S4o);}J1Gj.W5Ld(2);m4o.lineTo(J1Gj.Q5Ld(k4o,i4o),J1Gj.Q5Ld(U4o,n4o,2,J1Gj.S5Ld(46)));J1Gj.S5Ld(2);m4o.lineTo(J1Gj.K5Ld(k4o,i4o),J1Gj.Q5Ld(U4o,n4o,o4o,J1Gj.W5Ld(4)));if(this.stemEntry != "rb"){J1Gj.W5Ld(2);m4o.quadraticCurveTo(J1Gj.Q5Ld(k4o,i4o),J1Gj.K5Ld(o4o,U4o,J1Gj.S5Ld(2)),J1Gj.Q5Ld(i4o,n4o,k4o,J1Gj.W5Ld(4)),J1Gj.Q5Ld(o4o,U4o,J1Gj.W5Ld(2)));;}else {m4o.lineTo(C4o,S4o);J1Gj.S5Ld(4);m4o.lineTo(J1Gj.Q5Ld(i4o,n4o,k4o),J1Gj.K5Ld(o4o,U4o,J1Gj.S5Ld(2)));}J1Gj.W5Ld(47);m4o.lineTo(J1Gj.Q5Ld(n4o,i4o,"2"),J1Gj.Q5Ld(o4o,U4o,J1Gj.W5Ld(2)));if(this.stemEntry == K7qt){m4o.lineTo(C4o,S4o);}J1Gj.W5Ld(45);m4o.lineTo(J1Gj.K5Ld(n4o,2,i4o),J1Gj.Q5Ld(o4o,U4o,J1Gj.W5Ld(2)));J1Gj.S5Ld(8);m4o.lineTo(J1Gj.Q5Ld(k4o,i4o,n4o),J1Gj.K5Ld(o4o,U4o,J1Gj.W5Ld(2)));if(this.stemEntry != J7qt){J1Gj.S5Ld(6);m4o.quadraticCurveTo(J1Gj.K5Ld(i4o,k4o),J1Gj.Q5Ld(o4o,U4o,J1Gj.W5Ld(2)),J1Gj.Q5Ld(i4o,k4o,J1Gj.S5Ld(6)),J1Gj.K5Ld(U4o,n4o,o4o,J1Gj.W5Ld(4)));;}else {m4o.lineTo(C4o,S4o);J1Gj.S5Ld(6);m4o.lineTo(J1Gj.Q5Ld(i4o,k4o),J1Gj.K5Ld(U4o,n4o,o4o,J1Gj.W5Ld(4)));}J1Gj.S5Ld(6);m4o.lineTo(J1Gj.Q5Ld(i4o,k4o),J1Gj.Q5Ld(n4o,U4o,"2",J1Gj.S5Ld(47)));if(this.stemEntry == c7qt){m4o.lineTo(C4o,S4o);}J1Gj.S5Ld(6);m4o.lineTo(J1Gj.K5Ld(i4o,k4o),J1Gj.K5Ld(n4o,2,U4o,J1Gj.W5Ld(45)));J1Gj.S5Ld(6);m4o.lineTo(J1Gj.Q5Ld(i4o,k4o),J1Gj.K5Ld(o4o,U4o,n4o,J1Gj.S5Ld(8)));if(this.stemEntry != "lt"){J1Gj.S5Ld(6);m4o.quadraticCurveTo(J1Gj.Q5Ld(i4o,k4o),J1Gj.Q5Ld(U4o,o4o,J1Gj.S5Ld(6)),J1Gj.K5Ld(k4o,i4o,n4o,J1Gj.S5Ld(8)),J1Gj.K5Ld(U4o,o4o,J1Gj.S5Ld(6)));;}else {m4o.lineTo(C4o,S4o);t0qt=-1779575324;L0qt=1130271445;d0qt=2;for(var a0qt=+"1";J1Gj.g5tt(a0qt.toString(),a0qt.toString().length,"22713" >> 1724882336) !== t0qt;a0qt++){J1Gj.S5Ld(48);m4o.lineTo(J1Gj.Q5Ld(k4o,i4o,n4o),J1Gj.K5Ld(U4o,o4o,J1Gj.W5Ld(49)));d0qt+=2;}if(J1Gj.g5tt(d0qt.toString(),d0qt.toString().length,1248) !== L0qt){J1Gj.S5Ld(8);m4o.lineTo(J1Gj.K5Ld(k4o,i4o,n4o),J1Gj.K5Ld(U4o,o4o,J1Gj.S5Ld(6)));}}J1Gj.W5Ld(45);m4o.lineTo(J1Gj.Q5Ld(n4o,2,i4o),J1Gj.K5Ld(U4o,o4o,J1Gj.S5Ld(6)));if(this.stemEntry == "ct"){m4o.lineTo(C4o,S4o);}J1Gj.W5Ld(46);m4o.lineTo(J1Gj.K5Ld(i4o,n4o,2),J1Gj.Q5Ld(U4o,o4o,J1Gj.S5Ld(6)));J1Gj.W5Ld(4);m4o.lineTo(J1Gj.K5Ld(i4o,n4o,k4o),J1Gj.Q5Ld(U4o,o4o,J1Gj.S5Ld(6)));m4o.fill();m4o.globalAlpha=1;if(this.pattern != "none"){m4o.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",m4o);}else {m4o.fillStyle=G4o;}U4o+=this.padding;if(!this.ta){for(var t4o=0;t4o < this.arr.length;t4o++){m4o.fillText(this.arr[t4o],i4o - k4o + this.padding,U4o - o4o);U4o+=this.fontSize;}}m4o.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){A7qt="p";A7qt+="0";W4o=this.highlighted == A7qt?! ![]:!{};this.littleCircle(m4o,C4o,S4o,W4o);};};f0Z.Drawing.callout.prototype.click=function(A4o,X4o,f4o){var r4o;if(this.stx.overXAxis || this.stx.overYAxis){return;}r4o=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,X4o,f4o,r4o.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!0;this.adjust();return ![];}this.adjust();this.edit(A4o);this.penDown=! !0;return ! !0;};f0Z.Drawing.callout.prototype.reposition=function(E4o,N4o,s4o,V4o){var g4o,K4o,w4o;J1Gj.o1Gj();if(!N4o){return;}g4o=this.stx.panels[this.panelName];K4o=N4o.tick - s4o;w4o=N4o.value - V4o;if(N4o.stem){if(N4o.action == "drag"){this.stem={d:this.stx.dateFromTick(s4o,g4o.chart,!""),v:V4o};}else if(N4o.action == "move"){J1Gj.S5Ld(24);this.setPoint(J1Gj.Q5Ld("0",0),N4o.p0[0] - K4o,N4o.p0[1] - w4o,g4o.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(N4o.stem.d,g4o.chart) - K4o),v:N4o.stem.v - w4o};}this.adjust();}else {this.setPoint(+"0",N4o.p0[+"0"] - K4o,N4o.p0[1] - w4o,g4o.chart);}this.render(E4o);};f0Z.Drawing.callout.prototype.lineIntersection=function(z4o,Y4o,R4o,I4o){var r7qt,Q4o,P4o,d4o,v4o,H4o,T4o,a4o,D4o,J4o,j4o,O4o,c4o;r7qt="st";r7qt+="r";r7qt+="i";r7qt+="ng";Q4o=this.stx.panels[this.panelName];P4o=this.stem;d4o=this.p0;v4o=this.stx;if(!d4o || !P4o || !Q4o){return ! !"";}H4o=P4o.t || this.stx.tickFromDate(P4o.d,Q4o.chart);T4o={x0:d4o[0],x1:H4o,y0:d4o[+"1"],y1:P4o.v};a4o=f0Z.convertBoxToPixels(v4o,this.panelName,T4o);D4o=a4o.x0;J1Gj.R1Gj();J4o=a4o.y0;j4o=a4o.x1;O4o=a4o.y1;if(typeof this.stemEntry == r7qt){if(this.stemEntry.indexOf((992.18,3880) > (6520,302.63)?+"963" <= (470.44,6930)?3701 === 7380?(!"1",! !{}):"l":(6.73e+3,322.30):! !1) > -1){J1Gj.W5Ld(50);var v3zt=J1Gj.K5Ld(5,4,53,11,4);D4o-=this.w / v3zt;}else if(this.stemEntry.indexOf("r") > - +"1"){J1Gj.W5Ld(42);var W3zt=J1Gj.K5Ld(12,14);D4o+=this.w / W3zt;}if(this.stemEntry.indexOf((501,6315) !== "371.36" * 1?"t":(737,291.95) == 8330?"H":0x1fcf) > -1){J1Gj.W5Ld(51);var X3zt=J1Gj.Q5Ld(5,5,53,2,12);J4o-=this.h / X3zt;}else if(this.stemEntry.indexOf("b") > -("1" << 1942630080)){J1Gj.S5Ld(6);var T3zt=J1Gj.K5Ld(12,10);J4o+=this.h / T3zt;}}c4o=f0Z.convertBoxToPixels(v4o,this.panelName,R4o);return f0Z.boxIntersects(c4o.x0,c4o.y0,c4o.x1,c4o.y1,D4o,J4o,j4o,O4o,I4o);};f0Z.Drawing.callout.prototype.intersected=function(u2o,q2o,l2o){var N7qt,F2o,h2o,M2o,m2o,U2o,i2o,o2o,k2o;N7qt="segmen";N7qt+="t";F2o=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,l2o)){this.highlighted="p0";return {action:"drag",stem:! !{}};}h2o=this.stx.pixelFromTick(this.p0[0],F2o.chart) - this.w / ("2" | 0);J1Gj.W5Ld(42);var g3zt=J1Gj.Q5Ld(14,15);J1Gj.W5Ld(8);var e3zt=J1Gj.K5Ld(20,0,22);M2o=this.stx.pixelFromValueAdjusted(F2o,this.p0[0],this.p0[g3zt]) - this.h / e3zt;m2o=h2o + this.w;U2o=M2o + this.h;if(this.stem && this.stem.x){h2o+=this.stem.x;m2o+=this.stem.x;M2o+=this.stem.y;U2o+=this.stem.y;}i2o=this.stx.pixelFromTick(u2o,F2o.chart);o2o=this.stx.pixelFromValueAdjusted(F2o,u2o,q2o);if(i2o + l2o.r >= h2o && i2o - l2o.r <= m2o && o2o + l2o.r >= M2o && o2o - l2o.r <= U2o){this.highlighted=! !{};return {p0:f0Z.clone(this.p0),tick:u2o,value:q2o};}k2o=this.lineIntersection(u2o,q2o,l2o,N7qt);if(k2o){this.highlighted=!0;return {action:"move",stem:f0Z.clone(this.stem),p0:f0Z.clone(this.p0),tick:u2o,value:q2o};}return null;};f0Z.Drawing.fibonacci=function(){this.name="fibonacci";this.configurator="fibonacci";};f0Z.inheritsFrom(f0Z.Drawing.fibonacci,f0Z.Drawing.BaseTwoPoint);f0Z.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:"p",pattern:"pt",opacity:9900 <= "712" - 0?! !0:"o",lineWidth:"lw",level:"63.94" * 1 < (766,3620)?(+"619",3383) === (3040,7070)?(+"448.7",5770) >= 6360?("a","I"):+"5.17e+3":"l":659.14,extendLeft:"e",printLevels:R7qt,printValues:V7qt,timezone:"tz",display:(3420,2250) === (5970,"8457" - 0)?(0x1202,0x1083):"d"};J1Gj.S5Ld(7);f0Z.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,J1Gj.Q5Ld("0.5",1),0.618,1,1.382,1.618];f0Z.Drawing.fibonacci.prototype.configs=[u7qt,j7qt,h7qt,"pattern",p7qt];f0Z.Drawing.fibonacci.prototype.initializeSettings=function(y2o){var S2o,C2o;S2o=this.recommendedLevels;J1Gj.o1Gj();if(S2o && !y2o.currentVectorParameters.fibonacci.fibsAlreadySet){C2o=y2o.currentVectorParameters.fibonacci.fibs;for(var n2o=0;n2o < C2o.length;n2o++){delete C2o[n2o].display;for(var L2o=0;L2o < S2o.length;L2o++){if(C2o[n2o].level == S2o[L2o]){C2o[n2o].display=! ![];}}}}};f0Z.Drawing.fibonacci.prototype.setOuter=function(){var b2o,x2o,p2o,W2o,r2o,A2o,X2o,N2o,g2o,Z2o,B2o,G2o,e2o,f2o;b2o=this.stx;x2o=b2o.panels[this.panelName];if(!x2o){return;}p2o=Math.max(this.p0[1],this.p1[1]);W2o=Math.min(this.p0[1],this.p1[1]);J1Gj.S5Ld(6);r2o=J1Gj.K5Ld(p2o,W2o);this.outer={p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1)};J1Gj.R1Gj();A2o=b2o.pixelFromValueAdjusted(x2o,this.p0[+"0"],this.p0[+"1"]);X2o=b2o.pixelFromValueAdjusted(x2o,this.p1[0],this.p1["1" & 2147483647]);N2o=b2o.pixelFromTick(this.p0[0],x2o.chart);g2o=b2o.pixelFromTick(this.p1[0],x2o.chart);Z2o=0;B2o=1;for(var t2o=0;t2o < this.parameters.fibs.length;t2o++){G2o=this.parameters.fibs[t2o];if(G2o.level >= Z2o && G2o.level <= B2o || !G2o.display)continue;e2o=b2o.pixelFromValueAdjusted(x2o,this.p0[0],X2o < A2o?p2o - r2o * G2o.level:W2o + r2o * G2o.level);f2o=f0Z.xIntersection({x0:N2o,x1:g2o,y0:A2o,y1:X2o},e2o);if(G2o.level < Z2o){Z2o=G2o.level;this.outer.p1[1]=b2o.valueFromPixel(e2o,x2o);this.outer.p1[0]=b2o.tickFromPixel(f2o,x2o.chart);}else if(G2o.level > B2o){B2o=G2o.level;this.outer.p0[+"1"]=b2o.valueFromPixel(e2o,x2o);this.outer.p0[0]=b2o.tickFromPixel(f2o,x2o.chart);}}};f0Z.Drawing.fibonacci.prototype.click=function(V2o,w2o,s2o){var K2o;K2o=this.stx.panels[this.panelName];if(!K2o){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",w2o,s2o,K2o.chart);this.penDown=! !{};return !"1";}if(this.accidentalClick(w2o,s2o)){return this.dragToDraw;}this.setPoint(1,w2o,s2o,K2o.chart);this.setOuter();this.parameters=f0Z.clone(this.parameters);this.penDown=![];return ! !1;;};f0Z.Drawing.fibonacci.prototype.render=function(E2o){var I7qt,P2o,F6o,q6o,h6o,i6o,R2o,j2o,D2o,c2o,o6o,k6o,n6o,y6o,b6o,C6o,x6o,M6o,I2o,m6o,z2o,O2o,X7qt,W7qt,v7qt,B7qt,v2o,a2o,l6o,H2o,d2o,q7qt,G6o,H7qt,Y2o,T2o,J2o,S6o,Q2o,L6o,Z6o,B6o;I7qt="1";I7qt+="6";I7qt+="1.";I7qt+="8%";P2o=this.stx.panels[this.panelName];if(!P2o){return;}F6o=P2o.yAxis;if(!this.p1){return;}q6o=Math.max(this.p0[1],this.p1[+"1"]);h6o=Math.min(this.p0[1],this.p1[1]);i6o=F6o.flipped?h6o - q6o:q6o - h6o;R2o=this.stx.pixelFromTick(this.p0[0],P2o.chart);j2o=this.stx.pixelFromTick(this.p1[+"0"],P2o.chart);D2o=this.stx.pixelFromValueAdjusted(P2o,this.p0[+"0"],this.p0[1]);c2o=this.stx.pixelFromValueAdjusted(P2o,this.p1[0],this.p1[1]);o6o=Math.min(c2o,D2o);k6o=Math.max(c2o,D2o);J1Gj.W5Ld(6);n6o=J1Gj.K5Ld(k6o,o6o);J1Gj.S5Ld(52);y6o=J1Gj.Q5Ld(D2o,j2o,c2o,R2o,0);b6o={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=b6o;}C6o=this.getLineColor(this.parameters.trend.color);E2o.textBaseline="middle";this.stx.canvasFont("stx_yaxis",E2o);J1Gj.W5Ld(53);var i3zt=J1Gj.Q5Ld(1,1,5,5);x6o=E2o.measureText(I7qt).width + i3zt;M6o=Number.MAX_VALUE;I2o=Number.MAX_VALUE;J1Gj.o1Gj();J1Gj.W5Ld(8);var l3zt=J1Gj.Q5Ld(16,0,15);m6o=Number.MAX_VALUE * l3zt;z2o=Number.MAX_VALUE * -("1" | 0);O2o=this.color;if(O2o == "auto" || f0Z.isTransparent(O2o)){O2o=this.stx.defaultColor;}this.rays=[];for(var U6o=0;U6o < this.parameters.fibs.length;U6o++){X7qt="u";X7qt+="nde";X7qt+="fine";X7qt+="d";W7qt="a";W7qt+="ut";W7qt+="o";v7qt="a";v7qt+="u";v7qt+="t";v7qt+="o";B7qt="l";B7qt+="ef";B7qt+="t";E2o.textAlign=B7qt;E2o.fillStyle=O2o;v2o=this.parameters.fibs[U6o];if(!v2o.display)continue;a2o=this.stx.pixelFromValueAdjusted(P2o,this.p0["0" - 0],c2o < D2o?q6o - i6o * v2o.level:h6o + i6o * v2o.level);l6o=f0Z.xIntersection({x0:R2o,x1:j2o,y0:D2o,y1:c2o},a2o);H2o=this.parameters.extendLeft?0:l6o;d2o=P2o.left + P2o.width;if(this.parameters.printLevels){q7qt="ri";q7qt+="ght";J1Gj.S5Ld(2);var y3zt=J1Gj.Q5Ld(2,998);J1Gj.S5Ld(54);var E3zt=J1Gj.Q5Ld(2,7,5,11,1);J1Gj.W5Ld(2);var x3zt=J1Gj.K5Ld(1445,80);J1Gj.W5Ld(15);var M3zt=J1Gj.Q5Ld(33,9,12,2655);G6o=Math.round(v2o.level * y3zt) / E3zt + ((x3zt,M3zt) >= (385.4,"9770" - 0)?("x",![]):"%");d2o-=x6o;if(this.parameters.printValues){H7qt="stx_ya";H7qt+="xis";E2o.fillStyle=O2o;this.stx.canvasFont(H7qt,E2o);;}if(d2o < H2o){E2o.textAlign=q7qt;}E2o.fillText(G6o,d2o,a2o);if(d2o < H2o){d2o+=+"5";}else {d2o-=5;}}if(this.parameters.printValues){if(l6o < P2o.width){Y2o=this.stx.transformedPriceFromPixel(a2o,P2o);if(F6o.priceFormatter){Y2o=F6o.priceFormatter(this.stx,P2o,Y2o);}else {Y2o=this.stx.formatYAxisPrice(Y2o,P2o);}if(E2o == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(P2o,Y2o,a2o,O2o,null,E2o);if(E2o == this.stx.chart.context){this.stx.startClip(P2o.name);}}}T2o=v2o.color;if(T2o == v7qt || f0Z.isTransparent(T2o)){T2o=this.color;}if(T2o == "auto" || f0Z.isTransparent(T2o)){T2o=this.stx.defaultColor;}J2o=v2o.color;if(J2o == "auto" || f0Z.isTransparent(J2o)){J2o=this.fillColor;}if(J2o == W7qt || f0Z.isTransparent(J2o)){J2o=this.stx.defaultColor;}E2o.fillStyle=J2o;S6o=f0Z.clone(v2o.parameters);if(this.highlighted){S6o.opacity=1;}this.stx.plotLine(H2o,d2o,a2o,a2o,this.highlighted?C6o:T2o,"segment",E2o,P2o,S6o);this.rays.push([[H2o,a2o],[d2o,a2o]]);E2o.globalAlpha=+"0.05";E2o.beginPath();E2o.moveTo(d2o,a2o);E2o.lineTo(H2o,a2o);if(H2o){E2o.lineTo(j2o,c2o);}else {E2o.lineTo(H2o,c2o);}E2o.lineTo(d2o,c2o);if(typeof J2o != X7qt){E2o.fill();}E2o.globalAlpha=1;if(a2o < I2o){M6o=l6o;I2o=a2o;}if(a2o > z2o){m6o=l6o;z2o=a2o;}}for(var u6o=0;u6o <= 1;u6o++){Q2o=y6o?k6o - n6o * u6o:o6o + n6o * u6o;Q2o=Math.round(Q2o);if(Q2o < I2o){M6o=f0Z.xIntersection({x0:R2o,x1:j2o,y0:D2o,y1:c2o},Q2o);I2o=Q2o;}if(Q2o > z2o){m6o=f0Z.xIntersection({x0:R2o,x1:j2o,y0:D2o,y1:c2o},Q2o);z2o=Q2o;}}L6o=f0Z.clone(this.parameters.trend.parameters);if(this.highlighted){L6o.opacity=1;}this.stx.plotLine(M6o,m6o,I2o,z2o,C6o,"segment",E2o,P2o,L6o);if(this.highlighted){Z6o=this.highlighted == "p0"?! !{}:! !"";B6o=this.highlighted == "p1"?!"":!1;this.littleCircle(E2o,R2o,D2o,Z6o);this.littleCircle(E2o,j2o,c2o,B6o);}};f0Z.Drawing.fibonacci.prototype.reposition=function(e6o,t6o,p6o,W6o){if(!t6o){return;}f0Z.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};f0Z.Drawing.fibonacci.prototype.intersected=function(s6o,V6o,E6o){var X6o,f6o,N6o,g6o,K6o,w6o,T7qt;X6o=this.p0;f6o=this.p1;if(!X6o || !f6o){return null;}N6o={0:X6o,1:f6o};J1Gj.o1Gj();for(var r6o in N6o){if(this.pointIntersection(N6o[r6o][0],N6o[r6o][1],E6o)){J1Gj.W5Ld(2);this.highlighted=J1Gj.K5Ld(r6o,(6020,"9681" >> 1312247552) != (229.69,4636)?"p":(+"4.89e+2",0x1437));return {action:"drag",point:(324.14 == 4520?(8.01e+3,"R"):7100 > 3480?"p":886 == (609.52,3847)?9.77e+3:(796.09,! !{})) + r6o};}}g6o=this.outer;K6o=this.rays;w6o=g6o && this.lineIntersection(s6o,V6o,E6o,"segment",g6o.p0,g6o.p1);if(!w6o){for(var A6o=0;A6o < K6o.length;A6o++){T7qt="r";T7qt+="ay";if(this.lineIntersection(s6o,V6o,E6o,T7qt,K6o[A6o]["0" * 1],K6o[A6o]["1" << 2034895680],!"")){w6o=! ![];break;}}}if(w6o){this.highlighted=! ![];return {action:"move",p0:f0Z.clone(X6o),p1:f0Z.clone(f6o),tick:s6o,value:V6o};}return null;};f0Z.Drawing.fibonacci.prototype.reconstruct=function(a6o,P6o){P6o=f0Z.replaceFields(P6o,f0Z.reverseObject(f0Z.Drawing.fibonacci.mapping));this.stx=a6o;this.parameters=P6o.parameters;if(!this.parameters){this.parameters=f0Z.clone(this.stx.currentVectorParameters.fibonacci);}this.color=P6o.col;this.fillColor=P6o.fc;this.panelName=P6o.pnl;this.d0=P6o.d0;this.d1=P6o.d1;this.d2=P6o.d2;this.tzo0=P6o.tzo0;this.tzo1=P6o.tzo1;this.tzo2=P6o.tzo2;this.v0=P6o.v0;this.v1=P6o.v1;this.v2=P6o.v2;this.adjust();};f0Z.Drawing.fibonacci.prototype.adjust=function(){var c6o;c6o=this.stx.panels[this.panelName];if(!c6o){return;}this.setPoint(0,this.d0,this.v0,c6o.chart);J1Gj.o1Gj();this.setPoint(1,this.d1,this.v1,c6o.chart);this.setOuter();};f0Z.Drawing.fibonacci.prototype.serialize=function(){var d6o;J1Gj.o1Gj();d6o={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return f0Z.replaceFields(d6o,f0Z.Drawing.fibonacci.mapping);};f0Z.Drawing.retracement=function(){J1Gj.R1Gj();this.name="retracement";};f0Z.inheritsFrom(f0Z.Drawing.retracement,f0Z.Drawing.fibonacci);f0Z.Drawing.fibprojection=function(){var g7qt;g7qt="fibp";J1Gj.o1Gj();g7qt+="rojec";g7qt+="t";g7qt+="ion";this.name=g7qt;this.dragToDraw=!{};this.p2=null;};f0Z.inheritsFrom(f0Z.Drawing.fibprojection,f0Z.Drawing.fibonacci);J1Gj.S5Ld(40);f0Z.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,J1Gj.K5Ld("1",2147483647),1.272,1.618,J1Gj.K5Ld("2.618",1,J1Gj.W5Ld(7)),4.236];f0Z.Drawing.fibprojection.prototype.click=function(v6o,J6o,Q6o){var D6o;D6o=this.stx.panels[this.panelName];if(!D6o){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,J6o,Q6o,D6o.chart);this.penDown=! !{};return ![];}if(this.accidentalClick(J6o,Q6o)){this.stx.undo();return !0;}if(this.p2 !== null){this.setPoint(+"2",this.p2[+"0"],this.p2[1],D6o.chart);this.parameters=f0Z.clone(this.parameters);return ! !{};}this.setPoint(1,J6o,Q6o,D6o.chart);this.p2=[this.p1[0],this.p1[+"1"]];J1Gj.R1Gj();return ![];;};f0Z.Drawing.fibprojection.prototype.render=function(H6o){var l7qt,i7qt,e7qt,T6o,s0o,D0o,i0o,k0o,Z0o,C0o,e0o,Y6o,J0o,N0o,H0o,l0o,x7qt,E7qt,y7qt,U0o,j6o,j0o,I6o,O6o,O0o,o0o,z6o,R6o,P0o,w0o,z0o,l8o,u8o;l7qt="s";l7qt+="tx";l7qt+="_y";l7qt+="axis";i7qt="sol";i7qt+="i";i7qt+="d";e7qt="a";e7qt+="u";e7qt+="t";e7qt+="o";T6o=this.stx.panels[this.panelName];if(!T6o){return;}s0o=T6o.yAxis;if(!this.p1){return;}J1Gj.W5Ld(8);var f3zt=J1Gj.K5Ld(15,0,16);J1Gj.S5Ld(15);var s2zt=J1Gj.K5Ld(29,16,18,6);D0o=this.p1[f3zt] - this.p0[s2zt];i0o=this.stx.pixelFromTick(this.p0[0],T6o.chart);k0o=this.stx.pixelFromTick(this.p1[+"0"],T6o.chart);Z0o=this.stx.pixelFromValueAdjusted(T6o,this.p0["0" & 2147483647],this.p0[1]);C0o=this.stx.pixelFromValueAdjusted(T6o,this.p1["0" * 1],this.p1[1]);e0o=null;Y6o=null;if(this.p2){e0o=this.stx.pixelFromTick(this.p2[0],T6o.chart);Y6o=this.stx.pixelFromValueAdjusted(T6o,this.p2[0],this.p2[1]);}J0o={color:e7qt,parameters:{pattern:i7qt,opacity:+"0.25",lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=J0o;}N0o=this.getLineColor(this.parameters.trend.color);H6o.textBaseline="middle";this.stx.canvasFont(l7qt,H6o);J1Gj.S5Ld(2);var Y2zt=J1Gj.Q5Ld(5,5);H0o=H6o.measureText("161.8%").width + Y2zt;l0o=this.color;J1Gj.o1Gj();if(l0o == "auto" || f0Z.isTransparent(l0o)){l0o=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var g0o=0;g0o < this.parameters.fibs.length;g0o++){x7qt="unde";x7qt+="fi";x7qt+="n";x7qt+="ed";E7qt="s";E7qt+="egmen";E7qt+="t";y7qt="au";y7qt+="to";H6o.textAlign="left";H6o.fillStyle=l0o;U0o=this.parameters.fibs[g0o];if(!U0o.display)continue;j6o=this.stx.pixelFromValueAdjusted(T6o,this.p2[+"0"],this.p2[1] + D0o * U0o.level);j0o=f0Z.xIntersection({x0:i0o,x1:k0o,y0:Z0o,y1:C0o},j6o);I6o=this.parameters.extendLeft?0:i0o;O6o=T6o.left + T6o.width;if(this.parameters.printLevels){J1Gj.S5Ld(55);var b2zt=J1Gj.Q5Ld(5,5665,20000,3);J1Gj.S5Ld(56);var t2zt=J1Gj.K5Ld(23,1,2,8,23);J1Gj.W5Ld(57);var L2zt=J1Gj.Q5Ld(18,20,157262,8271,13);J1Gj.W5Ld(14);var d2zt=J1Gj.K5Ld(9,958,34488);J1Gj.W5Ld(6);var O2zt=J1Gj.K5Ld(8948,14);J1Gj.W5Ld(15);var a2zt=J1Gj.K5Ld(4338,7,3,433);J1Gj.W5Ld(41);var Q2zt=J1Gj.K5Ld(2099,18962,6,12);J1Gj.S5Ld(6);var n2zt=J1Gj.K5Ld(3773,3430);J1Gj.W5Ld(58);var k2zt=J1Gj.Q5Ld(136,11,955,13,2);J1Gj.W5Ld(6);var G2zt=J1Gj.Q5Ld(6737,17);J1Gj.W5Ld(2);var D2zt=J1Gj.K5Ld(13,3447);J1Gj.S5Ld(59);var w2zt=J1Gj.K5Ld(92543,3,84146,13);O0o=Math.round(U0o.level * b2zt) / t2zt + ((+"4860","8770" | L2zt) <= (d2zt,O2zt)?203.36 != (a2zt,Q2zt)?n2zt <= (k2zt,+"249.58")?+"999.25":"%":(G2zt,D2zt):(w2zt,"n"));O6o-=H0o;if(this.parameters.printValues){H6o.fillStyle=l0o;this.stx.canvasFont("stx_yaxis",H6o);;}if(O6o < I6o){H6o.textAlign="right";}H6o.fillText(O0o,O6o,j6o);if(O6o < I6o){J1Gj.S5Ld(24);O6o+=J1Gj.Q5Ld("5",0);}else {J1Gj.W5Ld(7);O6o-=J1Gj.Q5Ld("5",1);}}if(this.parameters.printValues){if(j0o < T6o.width){o0o=this.stx.transformedPriceFromPixel(j6o,T6o);if(s0o.priceFormatter){o0o=s0o.priceFormatter(this.stx,T6o,o0o);}else {o0o=this.stx.formatYAxisPrice(o0o,T6o);}if(H6o == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(T6o,o0o,j6o,l0o,null,H6o);if(H6o == this.stx.chart.context){this.stx.startClip(T6o.name);}}}z6o=U0o.color;if(z6o == "auto" || f0Z.isTransparent(z6o)){z6o=this.color;}if(z6o == "auto" || f0Z.isTransparent(z6o)){z6o=this.stx.defaultColor;}R6o=U0o.color;if(R6o == "auto" || f0Z.isTransparent(R6o)){R6o=this.fillColor;}if(R6o == y7qt || f0Z.isTransparent(R6o)){R6o=this.stx.defaultColor;}H6o.fillStyle=R6o;P0o=f0Z.clone(U0o.parameters);if(this.highlighted){P0o.opacity=1;}this.stx.plotLine(I6o,O6o,j6o,j6o,this.highlighted?N0o:z6o,E7qt,H6o,T6o,P0o);this.rays.push([[I6o,j6o],[O6o,j6o]]);H6o.globalAlpha=0.05;H6o.beginPath();H6o.moveTo(O6o,j6o);H6o.lineTo(I6o,j6o);if(I6o){H6o.lineTo(i0o,Y6o);}else {H6o.lineTo(I6o,Y6o);}H6o.lineTo(O6o,Y6o);if(typeof R6o != x7qt){H6o.fill();}H6o.globalAlpha=+"1";}}w0o=f0Z.clone(this.parameters.trend.parameters);if(this.highlighted){w0o.opacity=1;}this.stx.plotLine(i0o,k0o,Z0o,C0o,N0o,"segment",H6o,T6o,w0o);if(this.p2){this.stx.plotLine(k0o,e0o,C0o,Y6o,N0o,"segment",H6o,T6o,w0o);}if(this.highlighted){z0o=this.highlighted == "p0"?! !{}:!1;l8o=this.highlighted == "p1"?! ![]:!{};u8o=this.highlighted == "p2"?! !{}:! !"";this.littleCircle(H6o,i0o,Z0o,z0o);this.littleCircle(H6o,k0o,C0o,l8o);this.littleCircle(H6o,e0o,Y6o,u8o);}};f0Z.Drawing.fibprojection.prototype.move=function(h8o,F8o,q8o){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[F8o,q8o];}else {this.p2=[F8o,q8o];}this.render(h8o);};f0Z.Drawing.fibprojection.prototype.reposition=function(o8o,M8o,k8o,n8o){J1Gj.o1Gj();var M7qt,m8o,U8o,i8o;M7qt="mo";M7qt+="v";M7qt+="e";if(!M8o){return;}m8o=this.stx.panels[this.panelName];U8o=M8o.tick - k8o;i8o=M8o.value - n8o;if(M8o.action == M7qt){this.setPoint(0,M8o.p0[0] - U8o,M8o.p0[1] - i8o,m8o.chart);this.setPoint(1,M8o.p1[0] - U8o,M8o.p1[1] - i8o,m8o.chart);J1Gj.W5Ld(7);this.setPoint(J1Gj.K5Ld("2",1),M8o.p2[0] - U8o,M8o.p2[1] - i8o,m8o.chart);this.render(o8o);}else if(M8o.action == "drag"){this[M8o.point]=[k8o,n8o];this.setPoint(0,this.p0[0],this.p0[+"1"],m8o.chart);this.setPoint(1,this.p1[0],this.p1[1],m8o.chart);this.setPoint(2,this.p2[0],this.p2[1],m8o.chart);this.render(o8o);}};f0Z.Drawing.fibprojection.prototype.intersected=function(x8o,G8o,Z8o){var S8o,C8o,L8o,B8o,f7qt,t8o,e8o;S8o=this.p0;C8o=this.p1;L8o=this.p2;if(!S8o || !C8o || !L8o){return null;}B8o={0:S8o,1:C8o,2:L8o};for(var y8o in B8o){if(this.pointIntersection(B8o[y8o][0],B8o[y8o][1],Z8o)){f7qt="dr";f7qt+="ag";J1Gj.W5Ld(2);this.highlighted=J1Gj.Q5Ld(y8o,"p");return {action:f7qt,point:(723.71 == (+"856.38","549.25" * 1)?(7060,548.67) == 9600?(595.68,6.40e+1):"14.71" * 1 <= (+"324.54",4660)?("i","742.42" - 0):(2.90e+3,+"9.22e+3"):"p") + y8o};}}t8o=this.rays;e8o=this.lineIntersection(x8o,G8o,Z8o,"segment",S8o,C8o) || this.lineIntersection(x8o,G8o,Z8o,"segment",C8o,L8o);if(!e8o){for(var b8o=+"0";b8o < t8o.length;b8o++){if(this.lineIntersection(x8o,G8o,Z8o,"ray",t8o[b8o][0],t8o[b8o][1],! !{})){e8o=! !1;break;}}}J1Gj.R1Gj();if(e8o){this.highlighted=!"";return {action:"move",p0:f0Z.clone(S8o),p1:f0Z.clone(C8o),p2:f0Z.clone(L8o),tick:x8o,value:G8o};}return null;};f0Z.Drawing.fibprojection.prototype.adjust=function(){J1Gj.R1Gj();var p8o;p8o=this.stx.panels[this.panelName];if(!p8o){return;}J1Gj.W5Ld(21);this.setPoint(J1Gj.Q5Ld(0,"0"),this.d0,this.v0,p8o.chart);this.setPoint(1,this.d1,this.v1,p8o.chart);this.setPoint(2,this.d2,this.v2,p8o.chart);};f0Z.Drawing.fibarc=function(){var s8qt;s8qt="fiba";s8qt+="rc";this.name=s8qt;;};f0Z.inheritsFrom(f0Z.Drawing.fibarc,f0Z.Drawing.fibonacci);J1Gj.W5Ld(6);f0Z.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,J1Gj.Q5Ld("0.618",0),J1Gj.Q5Ld("1",2147483647,J1Gj.W5Ld(40))];f0Z.Drawing.fibarc.prototype.setOuter=function(){var W8o,r8o,A8o,f8o,N8o,X8o,g8o;J1Gj.o1Gj();W8o=this.stx.panels[this.panelName];if(!W8o){return;}this.outer={p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1)};r8o=this.stx.pixelFromValueAdjusted(W8o,this.p0[0],this.p0[+"1"]);A8o=this.stx.pixelFromValueAdjusted(W8o,this.p1[0],this.p1[1]);f8o=this.stx.pixelFromTick(this.p0[0],W8o.chart);N8o=this.stx.pixelFromTick(this.p1[0],W8o.chart);J1Gj.S5Ld(60);X8o=J1Gj.K5Ld(r8o,"2",A8o);g8o=f0Z.xIntersection({x0:f8o,x1:N8o,y0:r8o,y1:A8o},X8o);this.outer.p0[1]=this.stx.valueFromPixel(X8o,W8o);this.outer.p0[0]=this.stx.tickFromPixel(g8o,W8o.chart);};f0Z.Drawing.fibarc.prototype.intersected=function(E8o,d8o,w8o){var D8o,s8o,V8o,Q8o,J8o,T3qt,g3qt,e3qt,H8o,K8o,a8o,v8o,c8o;D8o=this.stx.panels[this.panelName];if(!D8o){return;}s8o=this.p0;V8o=this.p1;Q8o=this.outer;if(!s8o || !V8o){return null;}J8o={0:s8o,1:V8o};for(var P8o in J8o){if(this.pointIntersection(J8o[P8o][0],J8o[P8o]["1" | 1],w8o)){J1Gj.S5Ld(2);this.highlighted=J1Gj.K5Ld(P8o,8186 != (442.13,6120)?"p":![]);return {action:"drag",point:((3620,172) === 7200?(0x1f34,277.04):6650 !== 3370?"p":!{}) + P8o};}}if(this.lineIntersection(E8o,d8o,w8o,"segment",Q8o.p0,Q8o.p1)){T3qt=-2001608547;g3qt=1576081723;e3qt=2;for(var l3qt=1;J1Gj.T5tt(l3qt.toString(),l3qt.toString().length,"20860" >> 1630616032) !== T3qt;l3qt++){this.highlighted=!1;return {action:"",p0:f0Z.clone(s8o),p1:f0Z.clone(V8o),tick:E8o,value:d8o};}if(J1Gj.T5tt(e3qt.toString(),e3qt.toString().length,58307) !== g3qt){this.highlighted=! !{};return {action:"move",p0:f0Z.clone(s8o),p1:f0Z.clone(V8o),tick:E8o,value:d8o};}}H8o={x0:s8o[0],x1:V8o[0],y0:s8o[1],y1:V8o[1]};K8o=f0Z.convertBoxToPixels(this.stx,this.panelName,H8o);a8o={x:Math.abs(Math.sqrt("2" * 1) * (K8o.x1 - K8o.x0)),y:Math.abs(Math.sqrt(2) * (K8o.y1 - K8o.y0))};v8o=this.stx.pixelFromTick(E8o,D8o.chart);c8o=this.stx.pixelFromValueAdjusted(D8o,E8o,d8o);if(v8o + w8o.r < K8o.x1 - a8o.x || v8o - w8o.r > K8o.x1 + a8o.x){return null;}if(c8o + w8o.r < K8o.y1 - a8o.y || c8o - w8o.r > K8o.y1 + a8o.y){return null;}if(K8o.y0 < K8o.y1 && c8o - w8o.r > K8o.y1){return null;}if(K8o.y0 > K8o.y1 && c8o + w8o.r < K8o.y1){return null;}this.highlighted=! !1;return {action:"move",p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),tick:E8o,value:d8o};};f0Z.Drawing.fibarc.prototype.render=function(T8o){var d8qt,b8qt,Y8qt,j8o,M1o,q1o,I8o,u1o,R8o,U1o,i1o,o1o,l1o,L8qt,O8o,C1o,k1o,h1o,S1o,L1o,t8qt,F1o,z8o,Y8o,n1o,y1o,b1o;d8qt="l";d8qt+="e";d8qt+="f";d8qt+="t";b8qt="a";b8qt+="u";b8qt+="to";Y8qt="m";Y8qt+="idd";Y8qt+="le";j8o=this.stx.panels[this.panelName];if(!j8o){return;}M1o=j8o.yAxis;if(!this.p1){return;}q1o=this.stx.pixelFromTick(this.p0[0],j8o.chart);I8o=this.stx.pixelFromTick(this.p1[0],j8o.chart);u1o=this.stx.pixelFromValueAdjusted(j8o,this.p0[0],this.p0["1" | 0]);R8o=this.stx.pixelFromValueAdjusted(j8o,this.p1[0],this.p1[1]);J1Gj.S5Ld(61);U1o=J1Gj.K5Ld(R8o,u1o);J1Gj.S5Ld(62);i1o=Math.abs(J1Gj.Q5Ld(q1o,R8o,u1o,I8o));o1o=this.getLineColor(this.parameters.trend.color);T8o.textBaseline=Y8qt;this.stx.canvasFont("stx_yaxis",T8o);l1o=this.color;if(l1o == b8qt || f0Z.isTransparent(l1o)){l1o=this.stx.defaultColor;}for(var m1o=0;m1o < this.parameters.fibs.length;m1o++){L8qt="a";L8qt+="u";L8qt+="to";T8o.fillStyle=l1o;O8o=this.parameters.fibs[m1o];if(O8o.level < 0 || !O8o.display)continue;J1Gj.S5Ld(63);var S2zt=J1Gj.K5Ld(12,5,6,15,541);J1Gj.S5Ld(64);var P2zt=J1Gj.K5Ld(3,3,3,2,8);J1Gj.W5Ld(65);var Z2zt=J1Gj.K5Ld(12,14,7,3);C1o=Math.abs(this.p1[S2zt] - this.p0[P2zt]) * Math.sqrt(Z2zt) * O8o.level;J1Gj.W5Ld(66);var F2zt=J1Gj.K5Ld(2,38,19,14,4);J1Gj.S5Ld(67);var U2zt=J1Gj.K5Ld(16,2,14,3,2);J1Gj.W5Ld(68);var C2zt=J1Gj.Q5Ld(12,7,0,2,18);J1Gj.S5Ld(65);var z2zt=J1Gj.Q5Ld(13,17,14,11);J1Gj.W5Ld(69);var m2zt=J1Gj.Q5Ld(7,6,6,0,6);k1o=this.p1[F2zt] + C1o * (U1o?U2zt:C2zt) * (M1o.flipped?z2zt:m2zt);h1o=this.stx.pixelFromValueAdjusted(j8o,this.p0[0],k1o);S1o=f0Z.xIntersection({x0:q1o,x1:I8o,y0:u1o,y1:R8o},h1o);if(this.parameters.printLevels){T8o.textAlign="center";J1Gj.S5Ld(6);var o2zt=J1Gj.K5Ld(1013,13);J1Gj.S5Ld(42);var K2zt=J1Gj.Q5Ld(10,20);L1o=Math.round(O8o.level * o2zt) / K2zt + "%";if(this.parameters.printValues){t8qt="st";t8qt+="x_";t8qt+="yax";t8qt+="is";T8o.fillStyle=l1o;this.stx.canvasFont(t8qt,T8o);;}T8o.fillText(L1o,I8o,Math.round(h1o - ("5" << 2042940704)));}T8o.textAlign="left";if(this.parameters.printValues){if(S1o < j8o.width){F1o=k1o;if(M1o.priceFormatter){F1o=M1o.priceFormatter(this.stx,j8o,F1o);}else {F1o=this.stx.formatYAxisPrice(F1o,j8o);}if(T8o == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(j8o,F1o,h1o,l1o,null,T8o);if(T8o == this.stx.chart.context){this.stx.startClip(j8o.name);}}}z8o=O8o.color;if(z8o == "auto" || f0Z.isTransparent(z8o)){z8o=this.color;}if(z8o == "auto" || f0Z.isTransparent(z8o)){z8o=this.stx.defaultColor;}T8o.strokeStyle=this.highlight?o1o:z8o;Y8o=O8o.color;if(Y8o == L8qt || f0Z.isTransparent(Y8o)){Y8o=this.fillColor;}if(Y8o == "auto" || f0Z.isTransparent(Y8o)){Y8o=this.stx.defaultColor;}T8o.fillStyle=Y8o;T8o.globalAlpha=this.highlighted?1:O8o.parameters.opacity;T8o.lineWidth=O8o.parameters.lineWidth;if(T8o.setLineDash){T8o.setLineDash(f0Z.borderPatternToArray(T8o.lineWidth,O8o.parameters.pattern));T8o.lineDashOffset=0;;}T8o.save();T8o.beginPath();J1Gj.W5Ld(16);T8o.scale(J1Gj.K5Ld(1,i1o),J1Gj.Q5Ld(0,"1",J1Gj.S5Ld(21)));J1Gj.S5Ld(7);T8o.arc(J1Gj.K5Ld(I8o,i1o),R8o,Math.abs(h1o - R8o),0,Math.PI,!U1o);if(this.pattern != "none"){T8o.stroke();}T8o.globalAlpha=0.05;T8o.fill();T8o.restore();if(T8o.setLineDash){T8o.setLineDash([]);}T8o.globalAlpha=1;}T8o.textAlign=d8qt;n1o=f0Z.clone(this.parameters.trend.parameters);if(this.highlighted){n1o.opacity=1;}J1Gj.S5Ld(70);this.stx.plotLine(I8o,J1Gj.K5Ld(0,I8o,"2",q1o),R8o,J1Gj.Q5Ld(u1o,R8o,2,J1Gj.S5Ld(20)),o1o,"segment",T8o,j8o,n1o);if(this.highlighted){y1o=this.highlighted == "p0"?! ![]:!{};b1o=this.highlighted == "p1"?! !{}:![];this.littleCircle(T8o,q1o,u1o,y1o);this.littleCircle(T8o,I8o,R8o,b1o);}};f0Z.Drawing.fibfan=function(){var O8qt;O8qt="fi";O8qt+="bf";O8qt+="a";O8qt+="n";this.name=O8qt;;};f0Z.inheritsFrom(f0Z.Drawing.fibfan,f0Z.Drawing.fibonacci);J1Gj.W5Ld(21);f0Z.Drawing.fibfan.prototype.recommendedLevels=[J1Gj.Q5Ld(0,"0"),0.382,0.5,+"0.618",1];f0Z.Drawing.fibfan.prototype.setOuter=function(){};f0Z.Drawing.fibfan.prototype.render=function(x1o){var n8qt,Q8qt,a8qt,Z1o,c1o,G1o,p1o,B1o,g1o,d1o,D1o,J1o,v1o,H1o,w1o,s1o,V1o,A1o,G8qt,k8qt,X1o,e1o,E1o,t1o,f1o,T1o,K1o,W1o,r1o,Q1o,N1o,w8qt,D8qt,j1o,O1o;n8qt="au";n8qt+="t";n8qt+="o";Q8qt="st";Q8qt+="x";Q8qt+="_yaxi";Q8qt+="s";a8qt="middl";a8qt+="e";Z1o=this.stx.panels[this.panelName];if(!Z1o){return;}c1o=Z1o.yAxis;if(!this.p1){return;}G1o=this.stx.pixelFromTick(this.p0[0],Z1o.chart);p1o=this.stx.pixelFromTick(this.p1[0],Z1o.chart);B1o=this.stx.pixelFromValueAdjusted(Z1o,this.p0[0],this.p0[+"1"]);g1o=this.stx.pixelFromValueAdjusted(Z1o,this.p1[0],this.p1[1]);d1o=Math.min(g1o,B1o);D1o=Math.max(g1o,B1o);J1Gj.S5Ld(6);J1o=J1Gj.K5Ld(D1o,d1o);J1Gj.S5Ld(52);v1o=J1Gj.K5Ld(B1o,p1o,g1o,G1o,0);H1o=this.getLineColor(this.parameters.trend.color);x1o.textBaseline=a8qt;this.stx.canvasFont(Q8qt,x1o);J1Gj.S5Ld(36);var J2zt=J1Gj.Q5Ld(70,9,612,8);w1o=x1o.measureText("161.8%").width + J2zt;s1o=Number.MAX_VALUE;J1Gj.W5Ld(71);var c2zt=J1Gj.K5Ld(4,0,1,4,1);V1o=Number.MAX_VALUE * c2zt;A1o=this.color;if(A1o == n8qt || f0Z.isTransparent(A1o)){A1o=this.stx.defaultColor;}this.rays=[];for(var a1o="0" | 0;a1o < this.parameters.fibs.length;a1o++){G8qt="a";G8qt+="uto";k8qt="a";k8qt+="u";k8qt+="t";k8qt+="o";x1o.fillStyle=A1o;X1o=this.parameters.fibs[a1o];if(!X1o.display)continue;e1o=this.stx.pixelFromValueAdjusted(Z1o,this.p0[0],(this.p0[1] - this.p1[1]) * X1o.level + this.p1["1" >> 1847632512]);E1o=f0Z.xIntersection({x0:p1o,x1:p1o,y0:B1o,y1:g1o},e1o);t1o=Z1o.left;if(p1o > G1o){t1o+=Z1o.width;}J1Gj.W5Ld(72);f1o=J1Gj.K5Ld(t1o,e1o,B1o,G1o,G1o,E1o,B1o);if(G1o > t1o - (this.parameters.printLevels?w1o + 5:0) && p1o > G1o)continue;else if(G1o < t1o + (this.parameters.printLevels?w1o + 5:0) && p1o < G1o)continue;if(this.parameters.printLevels){J1Gj.S5Ld(6);var A2zt=J1Gj.K5Ld(7000,6000);J1Gj.S5Ld(73);var r2zt=J1Gj.K5Ld(20,2620,5,10,2);J1Gj.S5Ld(36);var N2zt=J1Gj.K5Ld(14724,5,72378,15);J1Gj.W5Ld(74);var R2zt=J1Gj.Q5Ld(153347,8,19170,2129,13);J1Gj.W5Ld(75);var V2zt=J1Gj.Q5Ld(1263,633,5);J1Gj.W5Ld(76);var u2zt=J1Gj.K5Ld(12,3980,3570);J1Gj.W5Ld(2);var j2zt=J1Gj.K5Ld(3,1684636061);T1o=Math.round(X1o.level * A2zt) / +"10" + (r2zt >= (177.05,N2zt)?"%":93.08 <= (R2zt,V2zt)?u2zt:(73.22,"5.06e+3" >> j2zt));if(p1o > G1o){t1o-=w1o;x1o.textAlign="left";}else {t1o+=w1o;x1o.textAlign="right";}if(this.parameters.printValues){x1o.fillStyle=A1o;this.stx.canvasFont("stx_yaxis",x1o);;}J1Gj.W5Ld(72);f1o=J1Gj.K5Ld(t1o,e1o,B1o,G1o,G1o,E1o,B1o);x1o.fillText(T1o,t1o,f1o);if(p1o > G1o){t1o-=+"5";}else {J1Gj.S5Ld(21);t1o+=J1Gj.K5Ld(4,"5");}}x1o.textAlign="left";if(this.parameters.printValues){if(E1o < Z1o.width){K1o=this.stx.transformedPriceFromPixel(e1o,Z1o);if(c1o.priceFormatter){K1o=c1o.priceFormatter(this.stx,Z1o,K1o);}else {K1o=this.stx.formatYAxisPrice(K1o,Z1o);}if(x1o == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(Z1o,K1o,e1o,A1o,null,x1o);if(x1o == this.stx.chart.context){this.stx.startClip(Z1o.name);}}}W1o=X1o.color;if(W1o == k8qt || f0Z.isTransparent(W1o)){W1o=this.color;}if(W1o == "auto" || f0Z.isTransparent(W1o)){W1o=this.stx.defaultColor;}r1o=X1o.color;if(r1o == G8qt || f0Z.isTransparent(r1o)){r1o=this.fillColor;}if(r1o == "auto" || f0Z.isTransparent(r1o)){r1o=this.stx.defaultColor;}x1o.fillStyle=r1o;if(this.parameters.printLevels){J1Gj.S5Ld(72);f1o=J1Gj.Q5Ld(t1o,e1o,B1o,G1o,G1o,E1o,B1o);}Q1o=f0Z.clone(X1o.parameters);if(this.highlighted){J1Gj.S5Ld(40);Q1o.opacity=J1Gj.Q5Ld("1",2147483647);}this.stx.plotLine(G1o,t1o,B1o,f1o,this.highlighted?H1o:W1o,"segment",x1o,Z1o,Q1o);this.rays.push([[G1o,B1o],[t1o,f1o]]);x1o.globalAlpha=0.05;x1o.beginPath();x1o.moveTo(t1o,f1o);x1o.lineTo(G1o,B1o);x1o.lineTo(t1o,B1o);x1o.fill();x1o.globalAlpha=1;if(e1o < s1o){s1o=e1o;}if(e1o > V1o){V1o=e1o;}}for(var P1o="0" * 1;P1o <= 1;P1o++){N1o=v1o?D1o - J1o * P1o:d1o + J1o * P1o;N1o=Math.round(N1o);if(N1o < s1o){s1o=N1o;}if(N1o > V1o){V1o=N1o;}}if(this.highlighted){w8qt="p";w8qt+="1";D8qt="p";D8qt+="0";j1o=this.highlighted == D8qt?! ![]:!"1";O1o=this.highlighted == w8qt?! !{}:!"1";this.littleCircle(x1o,G1o,B1o,j1o);this.littleCircle(x1o,p1o,g1o,O1o);}};f0Z.Drawing.fibtimezone=function(){this.name="fibtimezone";;};f0Z.inheritsFrom(f0Z.Drawing.fibtimezone,f0Z.Drawing.fibonacci);f0Z.Drawing.fibtimezone.prototype.render=function(R1o){var Z8qt,P8qt,S8qt,I1o,z1o,F3m,i3m,n3m,m3m,C3m,B3m,S3m,M3m,Y1o,y3m,q3m,h3m,l3m,u3m,U3m,p3m,W3m,b3m;Z8qt="au";Z8qt+="t";Z8qt+="o";J1Gj.o1Gj();P8qt="au";P8qt+="t";P8qt+="o";S8qt="cen";S8qt+="ter";I1o=this.stx.panels[this.panelName];if(!I1o){return;}if(!this.p1){return;}z1o=this.stx.pixelFromTick(this.p0[0],I1o.chart);F3m=this.stx.pixelFromTick(this.p1[0],I1o.chart);i3m=this.stx.pixelFromValueAdjusted(I1o,this.p0[0],this.p0[1]);n3m=this.stx.pixelFromValueAdjusted(I1o,this.p1[0],this.p1[+"1"]);m3m=[1,0];C3m=this.getLineColor(this.parameters.trend.color);R1o.textBaseline="middle";this.stx.canvasFont("stx_yaxis",R1o);B3m=20;S3m=this.p1[0] - this.p0[0];M3m=this.color;if(M3m == "auto" || f0Z.isTransparent(M3m)){M3m=this.stx.defaultColor;}R1o.textAlign=S8qt;Y1o=z1o;y3m=I1o.yAxis.top;q3m=I1o.yAxis.bottom;h3m=0;l3m=this.parameters.timezone.color;if(l3m == "auto" || f0Z.isTransparent(l3m)){l3m=this.color;}if(l3m == P8qt || f0Z.isTransparent(l3m)){l3m=this.stx.defaultColor;}u3m=this.parameters.timezone.color;if(u3m == "auto" || f0Z.isTransparent(u3m)){u3m=this.fillColor;}if(u3m == Z8qt || f0Z.isTransparent(u3m)){u3m=this.stx.defaultColor;}if(this.parameters.printLevels){J1Gj.S5Ld(6);q3m-=J1Gj.Q5Ld(B3m,7);}U3m=f0Z.clone(this.parameters.timezone.parameters);if(this.highlighted){U3m.opacity=1;}do {Y1o=this.stx.pixelFromTick(this.p0[0] + h3m * S3m,I1o.chart);if(z1o < F3m && Y1o > I1o.left + I1o.width)break;else if(z1o > F3m && Y1o < I1o.left)break;if(this.parameters.printLevels){R1o.fillStyle=M3m;R1o.fillText(F3m > z1o?h3m:h3m * -1,Y1o,q3m + ("7" ^ 0));}R1o.fillStyle=u3m;this.stx.plotLine(Y1o,Y1o,0,q3m,this.highlighted?C3m:l3m,"segment",R1o,I1o,U3m);R1o.globalAlpha=0.05;R1o.beginPath();R1o.moveTo(z1o,y3m);R1o.lineTo(Y1o,y3m);R1o.lineTo(Y1o,q3m);R1o.lineTo(z1o,q3m);R1o.fill();R1o.globalAlpha=1;J1Gj.S5Ld(2);var h2zt=J1Gj.Q5Ld(1,0);h3m=m3m[0] + m3m[h2zt];m3m.unshift(h3m);}while(S3m);R1o.textAlign="left";this.stx.plotLine(z1o,F3m,i3m,n3m,C3m,"segment",R1o,I1o,U3m);if(this.highlighted){p3m=this.highlighted == "p0"?!"":!1;W3m=this.highlighted == "p1"?! ![]:![];this.littleCircle(R1o,z1o,i3m,p3m);this.littleCircle(R1o,F3m,n3m,W3m);}else {b3m=this.stx.valueFromPixel(I1o.height / 2,I1o);this.setPoint(0,this.p0[0],b3m,I1o.chart);this.setPoint(1,this.p1[0],b3m,I1o.chart);}};f0Z.Drawing.fibtimezone.prototype.intersected=function(g3m,w3m,X3m){var r3m,f3m,V3m,N3m,E3m;r3m=this.p0;f3m=this.p1;V3m=this.stx.panels[this.panelName];if(!r3m || !f3m || !V3m){return null;}N3m={0:r3m,1:f3m};for(var A3m in N3m){if(this.pointIntersection(N3m[A3m][0],N3m[A3m][1],X3m)){J1Gj.S5Ld(2);this.highlighted=J1Gj.Q5Ld(A3m,"p");return {action:"drag",point:("249.46" - 0 >= 4530?(9800,9940) <= 7583?! ![]:("p",5.13e+3):"p") + A3m};}}E3m=this.lineIntersection(g3m,w3m,X3m,"segment");if(E3m || X3m.x0 <= this.p0[0] && X3m.x1 >= r3m[0]){this.highlighted=! ![];return {action:"move",p0:f0Z.clone(r3m),p1:f0Z.clone(f3m),tick:g3m,value:w3m};}return null;};f0Z.Drawing.arrow_v0=function(){J1Gj.R1Gj();var F8qt;F8qt="arr";F8qt+="o";F8qt+="w";this.name=F8qt;this.dimension=[11,11];J1Gj.W5Ld(35);this.points=[[("4610" >> 335140352,8616) >= 5973?5900 === +"600.5"?"0x12cf" << 1412901760:"M":+"362.11",3,0,(1602,981.76) != (9990,+"427.85")?"L":(5.08e+3,0x1bf8),J1Gj.Q5Ld(799556640,"7"),0,8520 != 73.57?"L":5320 !== (3540,629.13)?(4636,3700) == 1920?0x1e54:"B":(+"4.53e+3","J"),+"7",5,(4470,347.19) > (499,+"9240")?"d":"L",10,5,("1237" - 0,6370) === (1187,4193)?647.85 <= (6530,9040)?(0x2238,2.54e+3):"3.77e+3" >> 1700932832:"L",5,+"10","4540" - 0 == (940.43,889.32)?(0x15e1,736.12):6223 !== 231.48?+"816" == 143.66?5.13e+3:"L":(!0,"L"),0,5,"L",3,5,(+"7829",6800) != "393.58" * 1?(269.48,6800) === (1693,2050)?(298,5560) == (+"3670",915.7)?"0x18a5" ^ 0:("Z",0x769):"L":!"1",3,0]];};f0Z.inheritsFrom(f0Z.Drawing.arrow_v0,f0Z.Drawing.shape);f0Z.Drawing.xcross=function(){var U8qt;U8qt="xcr";U8qt+="o";U8qt+="s";U8qt+="s";this.name=U8qt;this.dimension=[7,7];J1Gj.W5Ld(24);this.points=[[(+"955.98",8040) > +"7990"?(77.45,151.53) == (5110,5101)?(7705,9430) > 284?"R":(499.63,!""):"M":"s",1,0,(150.06,"818.43" * 1) != 2282?219.37 == 608.76?(!{},"J"):"L":"g",3,+"2",(9779,"806.24" * 1) >= 694.45?"L":"v",5,0,"L",+"6",+"1",+"9442" !== (151.54,9803)?"L":(1148,+"497") < 4470?(641.64,0x32f):(969.16,0x221d),+"4",J1Gj.K5Ld("3",0),"320.75" - 0 !== 9990?5100 >= (1584,4160)?111.94 > (3998,"9460" << 651080000)?(! !"",4.32e+3):"L":2.85e+3:(0x7a4,"u"),6,5,"L",5,6,+"2162" > ("4320" ^ 0,856.49)?5079 <= (1630,682)?0x1e3a:387.22 != (356,3710)?"L":![]:("z",! !"1"),3,4,(6210,790) > (7960,659)?"L":"803.31" * 1 !== ("1880" - 0,201.22)?4180 === 3387?("0x14ce" >> 1219023648,! !1):"z":(0x85a,+"0xc62"),1,6,("7810" ^ 0,66) >= 3130?(0x9e4,1.25e+3):(166.09,568.86) == ("928.93" - 0,705)?+"498.62":(+"9198",7002) <= (2050,434)?6.75e+3:"L",0,5,8390 >= +"5380"?196.82 === 621?("k","0x744" ^ 0):"L":(0x8c5,0xdf),2,3,(9560,"890.88" - 0) >= 148?"L":(821.00,186.30),0,+"1",+"9400" <= (8478,6550)?(7320,1624) < +"498.03"?5.75e+2:(! ![],"R"):"L",1,+"0"]];;};f0Z.inheritsFrom(f0Z.Drawing.xcross,f0Z.Drawing.shape);f0Z.Drawing.check=function(){var C8qt;C8qt="c";C8qt+="h";C8qt+="ec";C8qt+="k";this.name=C8qt;this.dimension=[8,9];J1Gj.S5Ld(35);this.points=[["M",1,5,"1790" - 0 === 2920?8631 == (8947,987)?"1.75e+2" ^ 0:! !{}:"L",0,6,(4912,958.48) <= (193,7010)?"L":(27.43,+"216.35") == +"3050"?(! ![],! !{}):5986 <= 8.34?(3.47e+3,853.35):(6.69e+2,0x14e4),2,8,"L",7,1,"L",+"6",J1Gj.K5Ld(325864160,"0"),"L",2,6,"L",+"1",5]];;};f0Z.inheritsFrom(f0Z.Drawing.check,f0Z.Drawing.shape);f0Z.Drawing.star=function(){var z8qt;z8qt="st";z8qt+="a";z8qt+="r";this.name=z8qt;J1Gj.S5Ld(24);this.dimension=[12,J1Gj.K5Ld("12",0)];J1Gj.R1Gj();J1Gj.S5Ld(24);this.points=[["M",0,4,(+"67.49",+"794.74") > 482.61?"L":(2529,3480) !== (6980,795.74)?9.66e+3:(5.69e+3,! !{}),4,4,3489 == (681.8,1778)?(0xf9e,751.97):2250 > 9960?(+"5620",359.71) > 988.98?(+"0x2057",7.06e+3):6.06e+3:"L",5.5,0,"L",7,4,"L",11,4,(771.44,40.49) === "9090" - 0?679.03:"L",8,+"7",+"913.11" > 8000?4676 === (1010,3880)?"P":8516 < (881.65,579)?(5.10e+3,+"0xc49"):4.35e+3:"L",9,11,"L",5.5,9,915.76 >= (8830,+"8900")?(! ![],0x1a9d):(6015,2960) != 4710?"L":(3.47e+3,![]),2,J1Gj.K5Ld("11",0),"L",3,7,(9000,9350) == (+"110.7",462.42)?(5.31e+3,! !0):"L",0,+"4"]];;};f0Z.inheritsFrom(f0Z.Drawing.star,f0Z.Drawing.shape);f0Z.Drawing.heart=function(){var m8qt;m8qt="hea";m8qt+="rt";this.name=m8qt;this.dimension=[23,20];J1Gj.S5Ld(7);this.points=[[(5220,70.45) < 186.92?3086 != 96.21?"M":(6.04e+3,!"1"):"b",11,3,(1470,5639) > +"999.26"?6110 > 658?"B":(638.38,"1.46e+3" | 1044):(618.78,!{}),11,2.4,10,J1Gj.K5Ld("0",1),6,0,4380 == (50.57,7147)?4.44e+3:"B",0,0,0,7.5,J1Gj.K5Ld("0",1,J1Gj.S5Ld(7)),J1Gj.K5Ld("7.5",1,J1Gj.W5Ld(7)),6120 >= (4710,4567)?"B":"L",0,J1Gj.Q5Ld(867405888,"11",J1Gj.W5Ld(35)),J1Gj.Q5Ld(583919488,"4",J1Gj.W5Ld(77)),15.4,11,19,(699,560.47) !== (5387,3990)?985.29 < 382.18?0x1fa9:"B":(3.26e+3,"2.71e+3" ^ 0),18,15.4,22,11,+"22",J1Gj.Q5Ld("7.5",0,J1Gj.S5Ld(6)),(+"6744",159.57) == (3020,2760)?(+"449.55",3390) == (3010,244.99)?(! !{},9.50e+2):! ![]:"B",22,7.5,22,0,16,0,(+"1700",9777) < +"7235"?(8.76e+3,! !{}):(309,"801.27" * 1) === (6130,1220)?(9.42e+3,"H"):"B",13,0,11,2.4,11,3]];J1Gj.R1Gj();;};f0Z.inheritsFrom(f0Z.Drawing.heart,f0Z.Drawing.shape);f0Z.Drawing.focusarrow=function(){this.name="focusarrow";J1Gj.R1Gj();this.dimension=[7,5];J1Gj.W5Ld(77);this.points=[["M",0,0,8190 <= (4030,481.25)?8.32e+3:7370 < (8404,975.58)?(6590,"9803" - 0) == 9970?! !"":579.39:"L",2,2,6190 == (6220,611.08)?(0xef7,!{}):"L",0,4,"L",J1Gj.Q5Ld(1903020928,"0"),0],[("9920" ^ 0,716.03) > (+"316.66",4712)?8.07e+3:9354 >= 3890?(9478,"2860" & 2147483647) > (339.5,1460)?"M":(8.70e+3,367.22):("S",!1),6,J1Gj.Q5Ld("0",1,J1Gj.S5Ld(7)),362 <= (554.11,846)?(1650,1086) != 6550?"L":(8730,2500) <= 7830?(637.18,"L"):"j":(3.22e+3,0xccc),4,+"2",8241 >= (822.53,992.72)?"L":4390 !== (+"7406",5700)?(873.55,"c"):0x130f,6,4,(+"5459",477.86) != 619?"L":(115.10,7.73e+3),+"6",J1Gj.Q5Ld("0",2147483647,J1Gj.W5Ld(40))]];;};f0Z.inheritsFrom(f0Z.Drawing.focusarrow,f0Z.Drawing.shape);f0Z.Drawing.crossline=function(){J1Gj.o1Gj();this.name="crossline";};f0Z.inheritsFrom(f0Z.Drawing.crossline,f0Z.Drawing.horizontal);f0Z.extend(f0Z.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(P3m,a3m){var B9qt,H9qt,q9qt;B9qt=361130915;H9qt=+"447920261";q9qt=+"2";for(var W9qt=1;J1Gj.g5tt(W9qt.toString(),W9qt.toString().length,69373) !== B9qt;W9qt++){return ! !"";}J1Gj.o1Gj();if(J1Gj.g5tt(q9qt.toString(),q9qt.toString().length,"36426" << 2009631328) !== H9qt){return ! !{};}},adjust:function(){var d3m;d3m=this.stx.panels[this.panelName];if(!d3m){return;}this.setPoint(0,this.d0,this.v0,d3m.chart);this.p1=f0Z.clone(this.p0);},intersected:function(J3m,Q3m,v3m){var o8qt,D3m,K8qt;o8qt="l";o8qt+="i";o8qt+="n";o8qt+="e";if(!this.p0 || !this.p1){return null;}this.p1[0]+=+"1";D3m=this.lineIntersection(J3m,Q3m,v3m,o8qt);this.p1=f0Z.clone(this.p0);if(!D3m){K8qt="lin";K8qt+="e";this.p1[1]+=+"1";D3m=this.lineIntersection(J3m,Q3m,v3m,K8qt);this.p1=f0Z.clone(this.p0);if(!D3m){return null;}}this.highlighted=! ![];if(this.pointIntersection(this.p0[+"0"],this.p0["1" - 0],v3m)){this.highlighted="p0";}return {action:"move",p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),tick:J3m,value:Q3m};},render:function(h4m){var J8qt,H3m,I3m,Y3m,u4m,M4m,R3m,O3m,l4m,m4m,F4m,q4m,U4m;J8qt="vert";J8qt+="ical";H3m=this.stx.panels[this.panelName];if(!H3m){return;}I3m=this.stx.pixelFromTick(this.p0[0],H3m.chart);Y3m=this.stx.pixelFromValueAdjusted(H3m,this.p0[0],this.p0[1]);u4m=this.getLineColor();M4m={pattern:this.pattern,lineWidth:this.lineWidth};J1Gj.o1Gj();J1Gj.S5Ld(2);this.stx.plotLine(I3m,J1Gj.K5Ld(100,I3m),Y3m,Y3m,u4m,"horizontal",h4m,H3m,M4m);J1Gj.W5Ld(2);this.stx.plotLine(I3m,I3m,Y3m,J1Gj.Q5Ld(100,Y3m),u4m,J8qt,h4m,H3m,M4m);if(this.axisLabel && !this.repositioner){this.stx.endClip();R3m=this.p0[1];if(H3m.chart.transformFunc){R3m=H3m.chart.transformFunc(this.stx,H3m.chart,R3m);}if(H3m.yAxis.priceFormatter){R3m=H3m.yAxis.priceFormatter(this.stx,H3m,R3m);}else {R3m=this.stx.formatYAxisPrice(R3m,H3m);}this.stx.createYAxisLabel(H3m,R3m,Y3m,u4m);this.stx.startClip(H3m.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){O3m=this.stx.dateFromTick(this.p0[0],H3m.chart,! !1);if(!f0Z.ChartEngine.isDailyInterval(this.stx.layout.interval)){J1Gj.S5Ld(78);var p2zt=J1Gj.K5Ld(50,18,935,3);m4m=O3m.getSeconds() * p2zt + O3m.getMilliseconds();if(N0Z.Date && this.stx.displayZone){l4m=new N0Z.Date(O3m.getTime(),this.stx.displayZone);O3m=new Date(l4m.getFullYear(),l4m.getMonth(),l4m.getDate(),l4m.getHours(),l4m.getMinutes());O3m=new Date(O3m.getTime() + m4m);}}else {O3m.setHours(0,0,0,+"0");}F4m=f0Z.mmddhhmm(f0Z.yyyymmddhhmm(O3m));if(H3m.chart.xAxis.formatter){F4m=H3m.chart.xAxis.formatter(O3m,this.name,null,null,F4m);}else if(this.stx.internationalizer){if(O3m.getHours() !== 0 || O3m.getMinutes() !== 0){q4m=this.stx.internationalizer.monthDay.format(O3m);q4m+=" " + this.stx.internationalizer.hourMinute.format(O3m);}else {q4m=this.stx.internationalizer.yearMonthDay.format(O3m);}F4m=q4m;}this.stx.endClip();this.stx.createXAxisLabel({panel:H3m,txt:F4m,x:I3m,backgroundColor:u4m,color:null,pointed:! !"1",padding:2});this.stx.startClip(H3m.name);}}if(this.highlighted){U4m=this.highlighted == "p0"?!"":! !"";this.littleCircle(h4m,I3m,Y3m,U4m);}}},! ![]);f0Z.Drawing.speedarc=function(){var X9qt,T9qt,g9qt;J1Gj.W5Ld(6);X9qt=-J1Gj.Q5Ld("1691518876",0);T9qt=-1173739056;g9qt=+"2";for(var i9qt=1;J1Gj.g5tt(i9qt.toString(),i9qt.toString().length,6993) !== X9qt;i9qt++){this.name="speedarc";g9qt+=2;}if(J1Gj.g5tt(g9qt.toString(),g9qt.toString().length,76715) !== T9qt){this.name="";}this.printLevels=!"";};f0Z.inheritsFrom(f0Z.Drawing.speedarc,f0Z.Drawing.segment);f0Z.extend(f0Z.Drawing.speedarc.prototype,{defaultOpacity:"0.25" - 0,configs:[c8qt,"fillColor",A8qt,"pattern"],copyConfig:function(){J1Gj.o1Gj();this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(i4m,o4m,b4m){var n4m,r8qt,x4m,C4m,S4m,L4m,y4m;if(!this.p0 || !this.p1){return null;}n4m={0:this.p0,1:this.p1};for(var k4m in n4m){if(this.pointIntersection(n4m[k4m][0],n4m[k4m]["1" ^ 0],b4m)){r8qt="d";r8qt+="r";r8qt+="a";r8qt+="g";J1Gj.W5Ld(2);this.highlighted=J1Gj.Q5Ld(k4m,4757 >= 2620?"p":(651.48,5.82e+3));return {action:r8qt,point:(929.92 >= (332.42,6490)?(3397,3730) <= (+"6320",845)?387.46:("m",!{}):"p") + k4m};}}x4m=this.lineIntersection(i4m,o4m,b4m,this.name);if(x4m){this.highlighted=! ![];return {action:"move",p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),tick:i4m,value:o4m};}J1Gj.W5Ld(57);var I2zt=J1Gj.K5Ld(11,18,2653401416,156082437,12);C4m=this.p1[0] - (this.p0["0" << I2zt] - this.p1[0]);S4m=this.p0[0];L4m=this.p1[1];y4m=this.p0[1];if(i4m > Math.max(C4m,S4m) || i4m < Math.min(C4m,S4m)){return null;}if(o4m > Math.max(y4m,L4m) || o4m < Math.min(y4m,L4m)){return null;}this.highlighted=! !"1";return {action:"move",p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),tick:i4m,value:o4m};},render:function(G4m){var Z4m,r4m,t4m,p4m,B4m,X4m,f4m,A4m,e4m,A9qt,r9qt,N9qt,g4m,K4m,N4m,w4m,s4m,N8qt,V4m,E4m;Z4m=this.stx.panels[this.panelName];if(!Z4m){return;}if(!this.p1){return;}r4m=this.stx.pixelFromTick(this.p0[0],Z4m.chart);t4m=this.stx.pixelFromTick(this.p1[0],Z4m.chart);p4m=this.stx.pixelFromValueAdjusted(Z4m,this.p0[0],this.p0[1]);B4m=this.stx.pixelFromValueAdjusted(Z4m,this.p1[0],this.p1[1]);J1Gj.S5Ld(61);X4m=J1Gj.K5Ld(B4m,p4m);J1Gj.W5Ld(62);f4m=Math.abs(J1Gj.K5Ld(r4m,B4m,p4m,t4m));A4m=this.getLineColor();G4m.strokeStyle=A4m;e4m=this.fillColor;if(e4m == "auto" || f0Z.isTransparent(e4m)){e4m=this.stx.defaultColor;}G4m.fillStyle=e4m;if(G4m.setLineDash){G4m.setLineDash(f0Z.borderPatternToArray(this.lineWidth,this.pattern));G4m.lineDashOffset=0;;}A9qt=690278755;J1Gj.S5Ld(40);r9qt=-J1Gj.Q5Ld("1764473774",2147483647);J1Gj.S5Ld(21);N9qt=J1Gj.K5Ld(2,"2");for(var V9qt=1;J1Gj.T5tt(V9qt.toString(),V9qt.toString().length,17857) !== A9qt;V9qt++){this.stx.canvasFont("",G4m);N9qt+=2;}if(J1Gj.T5tt(N9qt.toString(),N9qt.toString().length,68540) !== r9qt){this.stx.canvasFont("stx_yaxis",G4m);}for(var W4m=1;W4m < 3;W4m++){J1Gj.S5Ld(79);var B2zt=J1Gj.Q5Ld(10,14,10,279,20);J1Gj.S5Ld(41);var H2zt=J1Gj.K5Ld(0,107,12,9);J1Gj.W5Ld(42);var q2zt=J1Gj.Q5Ld(5,7);g4m=Math.abs(this.p1[B2zt] - this.p0[H2zt]) * Math.sqrt(q2zt) * W4m / +"3";J1Gj.W5Ld(68);var v2zt=J1Gj.Q5Ld(27,19,8,20,19);J1Gj.S5Ld(80);var W2zt=J1Gj.K5Ld(3,5,18,0);J1Gj.S5Ld(81);var X2zt=J1Gj.Q5Ld(13,8,3,15,7);J1Gj.W5Ld(42);var T2zt=J1Gj.K5Ld(10,9);K4m=this.p1[v2zt] + g4m * (X4m?W2zt:X2zt) * (Z4m.yAxis.flipped?T2zt:+"1");N4m=this.stx.pixelFromValueAdjusted(Z4m,this.p0[0],K4m);G4m.save();G4m.beginPath();J1Gj.W5Ld(16);G4m.scale(J1Gj.K5Ld(1,f4m),1);J1Gj.W5Ld(7);G4m.arc(J1Gj.Q5Ld(t4m,f4m),B4m,Math.abs(N4m - B4m),+"0",Math.PI,!X4m);G4m.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){G4m.stroke();}G4m.globalAlpha=0.1;G4m.fill();G4m.restore();G4m.globalAlpha=1;if(this.printLevels){G4m.fillStyle=A4m;G4m.textAlign="center";J1Gj.W5Ld(2);w4m=J1Gj.Q5Ld("/3",W4m);G4m.fillText(w4m,t4m,Math.round(N4m - 5));G4m.fillStyle=e4m;}}G4m.textAlign="left";s4m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(r4m,t4m,p4m,B4m,A4m,"segment",G4m,Z4m,s4m);if(G4m.setLineDash){G4m.setLineDash([]);}J1Gj.R1Gj();if(this.highlighted){N8qt="p";N8qt+="1";V4m=this.highlighted == "p0"?! ![]:!1;E4m=this.highlighted == N8qt?! !{}:! !"";this.littleCircle(G4m,r4m,p4m,V4m);this.littleCircle(G4m,t4m,B4m,E4m);}},reconstruct:function(a4m,P4m){this.stx=a4m;this.color=P4m.col;this.fillColor=P4m.fc;this.panelName=P4m.pnl;this.pattern=P4m.ptrn;this.lineWidth=P4m.lw;this.d0=P4m.d0;this.d1=P4m.d1;this.tzo0=P4m.tzo0;this.tzo1=P4m.tzo1;this.v0=P4m.v0;J1Gj.o1Gj();this.v1=P4m.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},!"");f0Z.Drawing.speedline=function(){this.name="speedline";this.printLevels=!0;};f0Z.inheritsFrom(f0Z.Drawing.speedline,f0Z.Drawing.speedarc);f0Z.extend(f0Z.Drawing.speedline.prototype,{intersected:function(H4m,T4m,j4m){var D4m,J4m,Q4m,R8qt,v4m;D4m=this.p0;J4m=this.p1;if(!D4m || !J4m){return null;}Q4m={0:D4m,1:J4m};for(var c4m in Q4m){if(this.pointIntersection(Q4m[c4m][0],Q4m[c4m][1],j4m)){R8qt="d";R8qt+="r";R8qt+="a";R8qt+="g";J1Gj.W5Ld(2);this.highlighted=J1Gj.Q5Ld(c4m,(3776,7296) >= (202.86,5666)?"p":(9982,357.65) != (6420,1030)?3745 > 959.04?(! ![],"390.06" * 1):("0x2423" ^ 0,0x242b):("7.06e+3" & 2147483647,"B"));return {action:R8qt,point:(6750 == 909?(0x1cf9,391.36):(7689,9110) <= 341.29?+"6918" != 534.87?(30.15,622.25):(0x1684,9.08e+2):"p") + c4m};}}v4m=this.rays;for(var d4m=0;d4m < v4m.length;d4m++){if(this.lineIntersection(H4m,T4m,j4m,"ray",v4m[d4m][0],v4m[d4m][1],! !{})){this.highlighted=!"";return {action:"move",p0:f0Z.clone(D4m),p1:f0Z.clone(J4m),tick:H4m,value:T4m};}}return null;},render:function(O4m){var V8qt,l6m,R4m,z4m,I4m,u6m,L6m,h6m,m6m,y6m,b6m,x6m,C6m,S6m,Y4m,F6m,M6m,o6m,q6m,i6m,k6m,n6m,u8qt,G6m,Z6m;V8qt="3";V8qt+="/";V8qt+="2";l6m=this.stx.panels[this.panelName];J1Gj.o1Gj();if(!l6m){return;}if(!this.p1){return;}R4m=this.stx.pixelFromTick(this.p0[0],l6m.chart);z4m=this.stx.pixelFromTick(this.p1[0],l6m.chart);I4m=this.stx.pixelFromValueAdjusted(l6m,this.p0["0" >> 1483075744],this.p0[1]);u6m=this.stx.pixelFromValueAdjusted(l6m,this.p1["0" ^ 0],this.p1[1]);this.stx.canvasFont("stx_yaxis",O4m);L6m=this.getLineColor();h6m=this.color;if(h6m == "auto" || f0Z.isTransparent(h6m)){h6m=this.stx.defaultColor;}O4m.strokeStyle=h6m;m6m=this.fillColor;if(m6m == "auto" || f0Z.isTransparent(m6m)){m6m=this.stx.defaultColor;}O4m.fillStyle=m6m;y6m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};C6m=[("18" | 2,4938) < (667.61,91)?(1106,4950) > 382?"z":"v":"1","2/3","1/3",V8qt,"3"];J1Gj.S5Ld(16);S6m=[1,J1Gj.Q5Ld(2,3),J1Gj.Q5Ld(1,3,J1Gj.S5Ld(16)),J1Gj.Q5Ld(2147483647,"2",3,J1Gj.S5Ld(82)),3];Y4m=[];this.rays=[];for(var U6m=0;U6m < S6m.length;U6m++){F6m=S6m[U6m];if(F6m > 1 && !this.extension)continue;M6m=this.stx.pixelFromValueAdjusted(l6m,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * F6m);if(F6m > "1" * 1){o6m=f0Z.xIntersection({x0:R4m,x1:z4m,y0:I4m,y1:M6m},u6m);Y4m.push(o6m);}else {o6m=f0Z.xIntersection({x0:z4m,x1:z4m,y0:I4m,y1:u6m},M6m);Y4m.push(M6m);}q6m=F6m > +"1"?o6m:z4m;i6m=F6m > 1?u6m:M6m;if(!this.confineToGrid){q6m=l6m.left;if(z4m > R4m){q6m+=l6m.width;}J1Gj.W5Ld(72);i6m=J1Gj.K5Ld(q6m,M6m,I4m,R4m,R4m,z4m,I4m);}if(this.printLevels){if(F6m != 1 || this.extension){O4m.fillStyle=h6m;k6m=0;n6m=0;if(I4m > u6m){n6m=- +"5";O4m.textBaseline="bottom";}else {n6m=5;O4m.textBaseline="top";}if(R4m > z4m){k6m=5;O4m.textAlign="right";}else {k6m=-5;O4m.textAlign="left";}if(F6m > ("1" | 1)){O4m.fillText(C6m[U6m],o6m + (this.confineToGrid?0:k6m),u6m);}else {O4m.fillText(C6m[U6m],z4m,M6m + (this.confineToGrid?0:n6m));}O4m.fillStyle=m6m;}}this.stx.plotLine(R4m,q6m,I4m,i6m,this.highlighted?L6m:h6m,"segment",O4m,l6m,y6m);if(F6m == +"1"){b6m=q6m;x6m=i6m;}this.rays.push([[R4m,I4m],[q6m,i6m]]);O4m.globalAlpha=0.1;O4m.beginPath();O4m.moveTo(q6m,i6m);O4m.lineTo(R4m,I4m);O4m.lineTo(b6m,x6m);O4m.fill();O4m.globalAlpha=1;}O4m.textAlign="left";O4m.textBaseline="middle";if(this.confineToGrid){O4m.globalAlpha=0.3;O4m.beginPath();J1Gj.W5Ld(6);O4m.strokeRect(R4m,I4m,J1Gj.K5Ld(z4m,R4m),J1Gj.K5Ld(u6m,I4m));O4m.moveTo(R4m,Y4m[1]);O4m.lineTo(z4m,Y4m[1]);O4m.moveTo(R4m,Y4m[2]);O4m.lineTo(z4m,Y4m[2]);if(this.extension){O4m.moveTo(Y4m[3],I4m);O4m.lineTo(Y4m[3],u6m);O4m.moveTo(Y4m[+"4"],I4m);O4m.lineTo(Y4m["4" << 1426059168],u6m);}O4m.stroke();O4m.globalAlpha=1;}if(this.highlighted){u8qt="p";u8qt+="0";G6m=this.highlighted == u8qt?! ![]:! !0;Z6m=this.highlighted == "p1"?! !"1":!1;this.littleCircle(O4m,R4m,I4m,G6m);this.littleCircle(O4m,z4m,u6m,Z6m);}}},! ![]);f0Z.Drawing.gannfan=function(){this.name="gannfan";this.printLevels=! ![];};f0Z.inheritsFrom(f0Z.Drawing.gannfan,f0Z.Drawing.speedline);f0Z.extend(f0Z.Drawing.gannfan.prototype,{render:function(B6m){var j8qt,p6m,t6m,W6m,e6m,N6m,P6m,r6m,f6m,a6m,c6m,d6m,V6m,A6m,D6m,E6m,X6m,g6m,w6m,s6m,h8qt,p8qt,J6m,Q6m;j8qt="a";j8qt+="u";j8qt+="t";j8qt+="o";p6m=this.stx.panels[this.panelName];if(!p6m){return;}if(!this.p1){return;}t6m=this.stx.pixelFromTick(this.p0[0],p6m.chart);W6m=this.stx.pixelFromTick(this.p1[0],p6m.chart);e6m=this.stx.pixelFromValueAdjusted(p6m,this.p0[0],this.p0[1]);J1Gj.o1Gj();N6m=this.stx.pixelFromValueAdjusted(p6m,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",B6m);P6m=this.getLineColor();r6m=this.color;if(r6m == "auto" || f0Z.isTransparent(r6m)){r6m=this.stx.defaultColor;}B6m.strokeStyle=r6m;f6m=this.fillColor;if(f6m == j8qt || f0Z.isTransparent(f6m)){f6m=this.stx.defaultColor;}B6m.fillStyle=f6m;a6m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};J1Gj.W5Ld(16);V6m=[1,2,3,4,8,J1Gj.Q5Ld(1,2),J1Gj.K5Ld(1,3),J1Gj.Q5Ld(1,4),J1Gj.Q5Ld(1,8)];this.rays=[];for(var K6m=0;K6m < V6m.length;K6m++){A6m=V6m[K6m];J1Gj.W5Ld(83);D6m=J1Gj.K5Ld(t6m,A6m,W6m,t6m);J1Gj.S5Ld(84);E6m=J1Gj.Q5Ld(e6m,N6m,A6m,e6m);X6m=p6m.left;if(W6m > t6m){X6m+=p6m.width;}J1Gj.S5Ld(72);g6m=J1Gj.Q5Ld(X6m,E6m,e6m,t6m,t6m,W6m,e6m);if(this.printLevels){B6m.fillStyle=r6m;w6m=0;s6m=0;if(e6m > N6m){h8qt="t";h8qt+="o";h8qt+="p";J1Gj.W5Ld(40);s6m=J1Gj.K5Ld("5",2147483647);B6m.textBaseline=h8qt;}else {p8qt="bot";p8qt+="tom";s6m=-5;B6m.textBaseline=p8qt;}if(t6m > W6m){w6m=5;B6m.textAlign="left";}else {w6m=-5;B6m.textAlign="right";}if(A6m > 1){J1Gj.S5Ld(2);B6m.fillText(J1Gj.Q5Ld("x1",A6m),J1Gj.K5Ld(w6m,D6m),N6m);}else {J1Gj.W5Ld(46);B6m.fillText(J1Gj.Q5Ld("1x",1,A6m),W6m,J1Gj.K5Ld(s6m,E6m,J1Gj.S5Ld(2)));}B6m.fillStyle=f6m;}this.stx.plotLine(t6m,X6m,e6m,g6m,this.highlighted?P6m:r6m,"segment",B6m,p6m,a6m);this.rays.push([[t6m,e6m],[X6m,g6m]]);if(A6m == 1){c6m=X6m;d6m=g6m;}B6m.globalAlpha=0.1;B6m.beginPath();B6m.moveTo(X6m,g6m);B6m.lineTo(t6m,e6m);B6m.lineTo(c6m,d6m);B6m.fill();B6m.globalAlpha=1;}B6m.textAlign="left";B6m.textBaseline="middle";if(this.highlighted){J6m=this.highlighted == "p0"?! !1:! !0;Q6m=this.highlighted == "p1"?!0:!"1";this.littleCircle(B6m,t6m,e6m,J6m);this.littleCircle(B6m,W6m,N6m,Q6m);}}},! !{});f0Z.Drawing.timecycle=function(){this.name="timecycle";this.printLevels=! !{};};f0Z.inheritsFrom(f0Z.Drawing.timecycle,f0Z.Drawing.speedarc);f0Z.extend(f0Z.Drawing.timecycle.prototype,{intersected:function(R6m,I6m,T6m){var v6m,j6m,z6m,O6m,Y6m;v6m=this.p0;j6m=this.p1;z6m=this.stx.panels[this.panelName];if(!v6m || !j6m || !z6m){return null;}O6m={0:v6m,1:j6m};for(var H6m in O6m){if(this.pointIntersection(O6m[H6m][0],O6m[H6m][1],T6m)){J1Gj.W5Ld(2);this.highlighted=J1Gj.Q5Ld(H6m,(5874,615) == ("2000" & 2147483647,8000)?0x1f74:(8802,+"9460") >= 8622?"p":835.04 === +"7442"?"O":(0x696,213.62));return {action:"drag",point:(("5988" ^ 0) > 105?(+"9978","787.1" - 0) != (906.27,6950)?"p":("520.71" - 0,! !0):![]) + H6m};}}Y6m=this.lineIntersection(R6m,I6m,T6m,"segment");if(Y6m || T6m.x0 <= this.p0[0] && T6m.x1 >= v6m[0]){this.highlighted=! !{};return {action:"move",p0:f0Z.clone(v6m),p1:f0Z.clone(j6m),tick:R6m,value:I6m};}J1Gj.o1Gj();return null;},render:function(l0m){var H8qt,B8qt,I8qt,u0m,q0m,i0m,C0m,S0m,k0m,L0m,Z0m,y0m,F0m,b0m,m0m,U0m,o0m,x0m,h0m,n0m,B0m,t0m,e0m,G0m,M2qt,f2qt,s0qt;H8qt="l";H8qt+="eft";B8qt="a";B8qt+="u";B8qt+="t";B8qt+="o";I8qt="s";I8qt+="tx";I8qt+="_yaxi";I8qt+="s";u0m=this.stx.panels[this.panelName];if(!u0m){return;}if(!this.p1){return;}q0m=this.stx.pixelFromTick(this.p0[0],u0m.chart);i0m=this.stx.pixelFromTick(this.p1[0],u0m.chart);C0m=this.stx.pixelFromValueAdjusted(u0m,this.p0[+"0"],this.p0[1]);S0m=this.stx.pixelFromValueAdjusted(u0m,this.p1[0],this.p1[1]);k0m=0;L0m=this.getLineColor();l0m.textBaseline="middle";this.stx.canvasFont(I8qt,l0m);Z0m=20;y0m=this.p1[+"0"] - this.p0[0];l0m.textAlign="center";F0m=q0m;b0m=u0m.yAxis.top;m0m=u0m.yAxis.bottom;U0m=this.color;if(U0m == "auto" || f0Z.isTransparent(U0m)){U0m=this.stx.defaultColor;}o0m=this.fillColor;if(o0m == B8qt || f0Z.isTransparent(o0m)){o0m=this.stx.defaultColor;}if(this.printLevels){J1Gj.S5Ld(6);m0m-=J1Gj.Q5Ld(Z0m,7);}x0m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};h0m=[];l0m.save();l0m.fillStyle=o0m;l0m.globalAlpha=0.05;do {F0m=this.stx.pixelFromTick(this.p0[+"0"] + k0m * y0m,u0m.chart);k0m++;if(q0m < i0m && F0m > u0m.left + u0m.width)break;else if(q0m > i0m && F0m < u0m.left)break;else if(F0m < u0m.left || F0m > u0m.left + u0m.width)continue;l0m.beginPath();l0m.moveTo(q0m,b0m);l0m.lineTo(F0m,b0m);l0m.lineTo(F0m,m0m);l0m.lineTo(q0m,m0m);l0m.fill();h0m.push({c:k0m,x:F0m});}while(y0m);l0m.globalAlpha=1;n0m=0;for(var M0m=0;M0m < h0m.length;M0m++){this.stx.plotLine(h0m[M0m].x,h0m[M0m].x,0,m0m,this.highlighted?L0m:U0m,"segment",l0m,u0m,x0m);if(this.printLevels){l0m.fillStyle=U0m;J1Gj.W5Ld(8);var g2zt=J1Gj.K5Ld(6,1,8);B0m=this.stx.chart.context.measureText(h0m[M0m].c).width + g2zt;if(B0m < this.stx.layout.candleWidth + n0m){l0m.fillText(h0m[M0m].c,h0m[M0m].x,m0m + 7);n0m=0;}else {n0m+=this.stx.layout.candleWidth;}}}l0m.restore();l0m.textAlign=H8qt;this.stx.plotLine(q0m,i0m,C0m,S0m,L0m,"segment",l0m,u0m,x0m);if(this.highlighted){t0m=this.highlighted == "p0"?! !"1":!1;e0m=this.highlighted == "p1"?!"":!{};this.littleCircle(l0m,q0m,C0m,t0m);this.littleCircle(l0m,i0m,S0m,e0m);}else {G0m=this.stx.valueFromPixel(u0m.height / 2,u0m);M2qt=193695156;f2qt=-385955353;s0qt=2;for(var b0qt=1;J1Gj.g5tt(b0qt.toString(),b0qt.toString().length,60024) !== M2qt;b0qt++){this.setPoint(1,this.p0[5],G0m,u0m.chart);s0qt+=2;}if(J1Gj.g5tt(s0qt.toString(),s0qt.toString().length,46179) !== f2qt){this.setPoint(+"2",this.p0[+"3"],G0m,u0m.chart);}this.setPoint(0,this.p0[0],G0m,u0m.chart);this.setPoint(1,this.p1[0],G0m,u0m.chart);}}},! ![]);f0Z.Drawing.regression=function(){this.name="regression";};f0Z.inheritsFrom(f0Z.Drawing.regression,f0Z.Drawing.segment);f0Z.extend(f0Z.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1",q8qt,"lineWidth1","pattern1",v8qt,W8qt,X8qt,"pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(W0m){var T8qt,p0m;T8qt="a";T8qt+="u";T8qt+="t";T8qt+="o";f0Z.Drawing.copyConfig(this,W0m);p0m=this.stx.currentVectorParameters;this.active1=! !p0m.active1;this.active2=! !p0m.active2;this.active3=! !p0m.active3;this.color1=p0m.color1 || "auto";this.color2=p0m.color2 || T8qt;this.color3=p0m.color3 || "auto";this.lineWidth1=p0m.lineWidth1;this.lineWidth2=p0m.lineWidth2;this.lineWidth3=p0m.lineWidth3;this.pattern1=p0m.pattern1;this.pattern2=p0m.pattern2;this.pattern3=p0m.pattern3;},$controls:[g8qt,e8qt,'cq-cvp-controller[cq-cvp-header="3"]'],click:function(s0m,X0m,f0m){var A0m,r0m,N0m,g0m;if(X0m < ("0" | 0)){return;}this.copyConfig();A0m=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,X0m,f0m,A0m.chart);this.penDown=! !{};r0m=this.stx;this.field=r0m.highlightedDataSetField;if(!this.field && A0m != r0m.chart.panel){for(var K0m in r0m.chart.seriesRenderers){N0m=r0m.chart.seriesRenderers[K0m];if(N0m.params.panel == A0m.name){this.field=N0m.seriesParams[0].field;break;}}for(var w0m in r0m.layout.studies){g0m=r0m.layout.studies[w0m];if(g0m.panel == A0m.name){this.field=Object.keys(g0m.outputMap)[0];break;}}}return !1;}if(this.accidentalClick(X0m,f0m)){return this.dragToDraw;}this.setPoint(1,X0m,f0m,A0m.chart);this.penDown=!1;return !0;;},getYValue:function(D0m){var i8qt,P0m,a0m,c0m,J0m,E0m,V0m,d0m,Y9qt,b9qt,t9qt;i8qt="Cl";i8qt+="ose";P0m=this.stx.chart.dataSet[D0m];a0m=this.stx.chart.dataSet[D0m];if(!P0m){return null;}J1Gj.o1Gj();c0m=this.stx.panels[this.panelName];J0m=this.stx.getYAxisByField(c0m,this.field) || c0m.yAxis;if(this.stx.charts[c0m.name] && c0m.chart.transformFunc && J0m == c0m.yAxis){a0m=P0m.transform;}if(!a0m){return null;}E0m=null;V0m=null;d0m=this.stx.defaultPlotField || i8qt;if(this.field){V0m=f0Z.existsInObjectChain(a0m,this.field);if(!V0m){return null;}Y9qt=-275400407;b9qt=-1586216647;t9qt=2;for(var d9qt=1;J1Gj.T5tt(d9qt.toString(),d9qt.toString().length,64104) !== Y9qt;d9qt++){E0m=V0m=V0m.obj[V0m.member];t9qt+=2;}if(J1Gj.T5tt(t9qt.toString(),t9qt.toString().length,+"51973") !== b9qt){E0m=V0m=V0m.obj[V0m.member];}if(P0m != a0m){E0m=f0Z.existsInObjectChain(P0m,this.field);E0m=E0m.obj[E0m.member];}if(typeof V0m == "object"){V0m=V0m[d0m];E0m=E0m[d0m];}}else {V0m=a0m[d0m];E0m=P0m[d0m];}return {transformed:V0m,untransformed:E0m};},render:function(I0m){var l8qt,v0m,T0m,j0m,U52,z0m,i52,Y0m,F52,L52,y52,b52,x52,q52,o52,Q0m,O0m,G52,Z52,h52,M52,B52,m52,k52,n52,l52,u52,C52,S52,e52,t52,p52,R0m,E8qt,y8qt,W52,r52;l8qt="segm";l8qt+="ent";v0m=this.stx.panels[this.panelName];if(!v0m){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < +"0"){return;}T0m=this.stx.pixelFromTick(this.p0["0" & 2147483647],v0m.chart);j0m=this.stx.pixelFromTick(this.p1[0],v0m.chart);if(T0m < v0m.left && j0m < v0m.left){return;}if(T0m > v0m.right && j0m > v0m.right){return;}U52=this.stx.getYAxisByField(v0m,this.field);z0m=[];i52=[];Y0m=0;F52=0;L52=0;J1Gj.W5Ld(77);y52=J1Gj.K5Ld(1990261696,"0");b52=Math.min(this.p1[+"0"],this.p0[0]);J1Gj.S5Ld(4);var e2zt=J1Gj.Q5Ld(7,14,8);x52=Math.max(this.p1[0],this.p0[0]) + e2zt;J1Gj.W5Ld(6);q52=J1Gj.Q5Ld(x52,b52);for(var H0m=b52;H0m < x52;H0m++){o52=this.getYValue(H0m);if(o52){z0m.push(o52.transformed);i52.push(o52.untransformed);}}Q0m=z0m.length;J1Gj.W5Ld(85);O0m=J1Gj.K5Ld(2,Q0m,Q0m,1);G52=Math.pow(O0m,+"2");J1Gj.W5Ld(86);Z52=J1Gj.Q5Ld(0,2,O0m,1,Q0m,"3");for(H0m=0;H0m < Q0m;H0m++){L52+=Q0m * z0m[H0m] - Y0m;Y0m+=z0m[H0m];y52+=Q0m * i52[H0m] - F52;F52+=i52[H0m];}J1Gj.W5Ld(87);h52=J1Gj.K5Ld(Z52,O0m,Y0m,Q0m,Q0m,L52,G52);J1Gj.S5Ld(88);M52=J1Gj.K5Ld(Y0m,h52,O0m,Q0m);J1Gj.W5Ld(87);B52=J1Gj.K5Ld(Z52,O0m,F52,Q0m,Q0m,y52,G52);J1Gj.W5Ld(88);m52=J1Gj.Q5Ld(F52,h52,O0m,Q0m);if(this.p0[0] < this.p1["0" ^ 0]){k52=M52;J1Gj.W5Ld(75);n52=J1Gj.K5Ld(M52,h52,q52);this.p0[+"1"]=m52;J1Gj.W5Ld(75);this.p1[1]=J1Gj.K5Ld(m52,B52,q52);}else {J1Gj.W5Ld(75);k52=J1Gj.Q5Ld(M52,h52,q52);n52=M52;J1Gj.W5Ld(75);this.p0[1]=J1Gj.K5Ld(m52,B52,q52);this.p1[1]=m52;}l52=this.stx.pixelFromTransformedValue(k52,v0m,U52);u52=this.stx.pixelFromTransformedValue(n52,v0m,U52);C52=this.getLineColor();S52={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(T0m,j0m,l52,u52,C52,l8qt,I0m,v0m,S52);J1Gj.W5Ld(6);this.stx.plotLine(T0m,T0m,J1Gj.Q5Ld(l52,20),J1Gj.Q5Ld(20,l52,J1Gj.S5Ld(2)),C52,"segment",I0m,v0m,S52);J1Gj.S5Ld(6);this.stx.plotLine(j0m,j0m,J1Gj.Q5Ld(u52,20),J1Gj.K5Ld(20,u52,J1Gj.S5Ld(2)),C52,"segment",I0m,v0m,S52);if(this.active1 || this.active2 || this.active3){J1Gj.W5Ld(16);e52=J1Gj.K5Ld(Y0m,Q0m);t52=0;for(H0m=0;H0m < Q0m;H0m++){t52+=Math.pow(z0m[H0m] - e52,+"2");}J1Gj.W5Ld(16);p52=Math.sqrt(J1Gj.K5Ld(t52,Q0m));R0m={context:I0m,panel:v0m,points:{0:{x:T0m,v:k52},1:{x:j0m,v:n52}},stddev:p52,yAxis:U52};this.lines={};if(this.active1){this.renderStddev("318.68" - 0 <= "371.15" * 1?"1":("0xc07" << 341177312,0x13fd),"p",R0m);this.renderStddev((+"362.61",2910) <= 8952?753 < 19.12?6.57e+3:6540 != 7610?"1":"c":("h",!""),(7088,9042) >= (708.81,"8330" - 0)?"n":("U",6.23e+3),R0m);}if(this.active2){this.renderStddev(60 == (532,509.49)?32 >= 8790?+"963.67":189.31 > 8280?"E":(+"2.85e+3",3.96e+3):"2",("6240" ^ 0) == (758,8217)?! !0:"p",R0m);this.renderStddev(2750 > 1510?"2":(+"0x26d4","K"),+"669.14" != (9570,+"1325")?"n":"0xf65" ^ 0,R0m);}if(this.active3){this.renderStddev((9030,4398) > +"8150"?(!1,844.25):"3",339 === 3349?0x2342:833.67 <= 2338?"p":(!1,! !1),R0m);this.renderStddev(446 == ("2388" - 0,1020)?8550 > 22.43?! ![]:0x2117:"3",689.56 !== (2030,3340)?"n":8560 == +"291"?(! !1,2.25e+3):(+"5859",7370) <= "894" - 0?"z":252.02,R0m);}}if(!this.highlighted){this.pixelX=[T0m,j0m];this.pixelY=[l52,u52];}else {E8qt="p";E8qt+="1";y8qt="p";y8qt+="0";W52=this.highlighted == y8qt?! !"1":!"1";r52=this.highlighted == E8qt?! !"1":!"1";this.littleCircle(I0m,T0m,l52,W52);this.littleCircle(I0m,j0m,u52,r52);}},renderStddev:function(w52,Q52,s52){var M8qt,x8qt,c52,v52,H52,T52,V52,d52,D52,P52,a52,N52,X52,E52,A52,f52,g52,K52,j52,O52,J52,R52;M8qt="seg";M8qt+="ment";J1Gj.R1Gj();x8qt="co";x8qt+="lo";x8qt+="r";J1Gj.W5Ld(0);c52=J1Gj.K5Ld(w52,"stddev",Q52);J1Gj.W5Ld(2);v52=J1Gj.Q5Ld(w52,x8qt);J1Gj.S5Ld(2);H52=J1Gj.Q5Ld(w52,"pattern");J1Gj.W5Ld(2);T52=J1Gj.Q5Ld(w52,"lineWidth");V52=s52.points;d52=V52[0].v;D52=V52["1" & 2147483647].v;P52=s52.stddev;a52=Q52 === (964 < 44.71?1.98e+3:"n")?w52 * -1:w52 * 1;N52=this.stx;X52=s52.panel;E52=s52.yAxis;A52={name:c52,color:this.getLineColor(this[v52]),type:M8qt,y0:N52.pixelFromTransformedValue(d52 + P52 * a52,X52,E52),y1:N52.pixelFromTransformedValue(D52 + P52 * a52,X52,E52),params:{pattern:this[H52],lineWidth:this[T52]}};if(this.lines){this.lines[c52]=A52;}f52=s52.context;g52=V52[0].x;K52=V52[1].x;N52.plotLine(g52,K52,A52.y0,A52.y1,A52.color,A52.type,f52,X52,A52.params);N52.plotLine(g52,g52,A52.y0 - 10,A52.y0 + 10,A52.color,A52.type,f52,X52,A52.params);N52.plotLine(K52,K52,A52.y1 - 10,A52.y1 + 10,A52.color,A52.type,f52,X52,A52.params);J1Gj.W5Ld(2);j52=J1Gj.K5Ld((287.37,2240) === 5390?! ![]:"\u03c3",w52);J1Gj.W5Ld(89);var i2zt=J1Gj.K5Ld(467,7,17,65);O52=Math.max(g52,K52) + i2zt;J52=g52 < K52?A52.y1:A52.y0;f52.fillStyle=A52.color;f52.save();f52.textBaseline="middle";f52.fillText(j52,O52,J52);f52.restore();if(s52.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(g52 >= X52.chart.left && g52 <= X52.chart.right || K52 >= X52.chart.left && K52 <= X52.chart.right){J1Gj.S5Ld(17);R52=J1Gj.K5Ld(P52,a52,g52 < K52?D52:d52);N52.endClip();N52.createYAxisLabel(X52,s52.formatPrice(R52,E52),J52,A52.color,null,f52,E52);N52.startClip(X52.name);}}},intersected:function(Y52,l32,M32){var u32,F32,f8qt,q32,m32,U32,h32,z52;if(!this.pixelX || !this.pixelY){return null;}u32=this.repositionIntersection(Y52,l32);if(u32){return u32;}F32={0:this.pixelX,1:this.pixelY};for(var I52=0;I52 < 2;I52++){if(this.pointIntersection(F32[0][I52],F32[1][I52],M32,! !{})){f8qt="d";f8qt+="r";f8qt+="ag";J1Gj.W5Ld(2);this.highlighted=J1Gj.Q5Ld(I52,(5580,528) >= (2170,627.61)?9.30e+3:"p");return {action:f8qt,point:"p" + I52};}}q32=this;m32=this.pixelX[+"0"];U32=this.pixelX[1];h32=function(o32){var k32,n32;k32=[m32,o32.y0];n32=[U32,o32.y1];return q32.lineIntersection(Y52,l32,M32,q32.name,k32,n32,! ![]);};z52=h32({y0:this.pixelY[0],y1:this.pixelY[1]});if(!z52 && this.lines){for(var i32 in this.lines){if(h32(this.lines[i32])){z52=!"";break;}}}if(z52){this.highlighted=! !1;return {action:"move",p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),tick:Y52,value:l32};}return null;},repositionIntersection:function(C32,S32){var s1qt;if(!this.p0 || !this.p1){return !{};}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! !1){s1qt="mo";s1qt+="v";s1qt+="e";return {action:s1qt,p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),tick:C32,value:S32};}return {action:"drag",point:this.highlighted};}J1Gj.R1Gj();return ![];},lineIntersection:function(e32,p32,Z32,B32,y32,b32,t32){var H3qt,q3qt,v3qt,G32,L32,x32;if(!t32){J1Gj.W5Ld(2);console.log(J1Gj.Q5Ld(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",B32));return !{};}J1Gj.W5Ld(35);H3qt=J1Gj.K5Ld(597758944,"1545375463");q3qt=-1930332818;v3qt=2;for(var X3qt="1" >> 283086720;J1Gj.T5tt(X3qt.toString(),X3qt.toString().length,+"26728") !== H3qt;X3qt++){if(!y32){y32=this.p0;}if(!b32){b32=this.p1;}if(!(y32 && b32)){return !"1";}v3qt+=2;}if(J1Gj.g5tt(v3qt.toString(),v3qt.toString().length,+"23261") !== q3qt){if(-y32){y32=this.p0;}if(+b32){b32=this.p1;}if(-(y32 || b32)){return ! !{};}}G32=this.stx;L32=f0Z.convertBoxToPixels(G32,this.panelName,Z32);if(L32.x0 === undefined){return ![];}x32={x0:y32["0" | 0],x1:b32[0],y0:y32[1],y1:b32[1]};return f0Z.boxIntersects(L32.x0,L32.y0,L32.x1,L32.y1,x32.x0,x32.y0,x32.x1,x32.y1);},boxIntersection:function(r32,A32,W32){if(W32.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || W32.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ! !0;}if(!this.stx.repositioningDrawing && (W32.cy1 < this.pixelY[0] || W32.cy0 > this.pixelY[+"1"])){return !"1";}return !"";},reconstruct:function(f32,X32){this.stx=f32;this.color=X32.col;this.color1=X32.col1;this.color2=X32.col2;this.color3=X32.col3;this.active1=X32.dev1;this.active2=X32.dev2;this.active3=X32.dev3;this.panelName=X32.pnl;this.pattern=X32.ptrn;this.pattern1=X32.ptrn1;this.pattern2=X32.ptrn2;this.pattern3=X32.ptrn3;this.lineWidth=X32.lw;this.lineWidth1=X32.lw1;this.lineWidth2=X32.lw2;this.lineWidth3=X32.lw3;this.d0=X32.d0;this.d1=X32.d1;this.tzo0=X32.tzo0;this.tzo1=X32.tzo1;this.field=X32.fld;this.adjust();},serialize:function(){J1Gj.o1Gj();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);f0Z.Drawing.trendline=function(){J1Gj.o1Gj();this.name="trendline";};f0Z.inheritsFrom(f0Z.Drawing.trendline,f0Z.Drawing.segment);f0Z.Drawing.trendline.prototype.configs=["color",Y1qt,b1qt,"pattern","font"];f0Z.Drawing.trendline.prototype.measure=function(){;};f0Z.Drawing.trendline.prototype.reconstruct=function(N32,g32){f0Z.Drawing.segment.prototype.reconstruct.call(this,N32,g32);J1Gj.R1Gj();this.callout=new f0Z.Drawing.callout();this.callout.reconstruct(N32,g32.callout);};f0Z.Drawing.trendline.prototype.serialize=function(){var K32;K32=f0Z.Drawing.segment.prototype.serialize.call(this);K32.callout=this.callout.serialize();return K32;};f0Z.Drawing.trendline.prototype.render=function(c32){var t1qt,w32,T32,E32,P32,s32,V32,d32,a32,D32,j32,J32,O32,R32,Q32,v32,H32,I32,z32,Y32,l92;t1qt=" ";t1qt+="(";w32=this.stx.panels[this.panelName];if(!w32){return;}f0Z.Drawing.segment.prototype.render.call(this,c32);if(!this.callout){this.callout=new f0Z.Drawing.callout();T32=f0Z.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,T32);}this.callout.p0=f0Z.clone(this.p0);E32=this.stx.pixelFromTick(this.p0["0" | 0],w32.chart);P32=this.stx.pixelFromTick(this.p1[0],w32.chart);s32=this.stx.pixelFromValueAdjusted(w32,this.p0[+"0"],this.p0[1]);V32=this.stx.pixelFromValueAdjusted(w32,this.p1[0],this.p1[1]);if(!isFinite(s32) || !isFinite(V32)){return;}J1Gj.S5Ld(3);d32=J1Gj.K5Ld(P32,2,E32);J1Gj.W5Ld(90);a32=J1Gj.Q5Ld(s32,462910496,"2",V32);this.fontSize=f0Z.stripPX(this.font && this.font.size || 13);J1Gj.W5Ld(91);var l2zt=J1Gj.Q5Ld(13,65741,5034,5057,13);J1Gj.W5Ld(92);var y2zt=J1Gj.K5Ld(7551,503,503);J1Gj.W5Ld(92);var E2zt=J1Gj.K5Ld(7187,653,1);J1Gj.S5Ld(2);var x2zt=J1Gj.K5Ld(7969,531);J1Gj.W5Ld(93);var M2zt=J1Gj.K5Ld(4,9,31,6);D32=this.callout.w * 1.2 + (this.callout.stemEntry["0" | 0] == (282.06 !== 318.47?"c":(l2zt,y2zt) >= (E2zt,43.56)?(x2zt,!"1"):+"89.50")?0:M2zt);j32=Math.sqrt(Math.pow(P32 - E32,2) + Math.pow(V32 - s32,2));J1Gj.W5Ld(94);var f2zt=J1Gj.Q5Ld(2,1,4,5,0);J1Gj.S5Ld(2);var s0zt=J1Gj.Q5Ld(1,0);J1Gj.S5Ld(42);var Y0zt=J1Gj.K5Ld(12,11);J32=D32 / (j32 || D32) * (this.p1[f2zt] < this.p0[+"1"]?s0zt:Y0zt);J1Gj.W5Ld(95);O32=J1Gj.Q5Ld(V32,a32,d32,J32);J1Gj.W5Ld(96);R32=J1Gj.K5Ld(a32,P32,d32,J32);this.callout.p0[0]=this.stx.tickFromPixel(O32,w32.chart);this.callout.p0[1]=this.stx.priceFromPixel(R32,w32);this.callout.v0=this.callout.p0[1];this.callout.p1=f0Z.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !"1";J1Gj.W5Ld(4);var b0zt=J1Gj.K5Ld(10,20,11);J1Gj.S5Ld(42);var t0zt=J1Gj.K5Ld(12,13);Q32=this.p1[b0zt] - this.p0[t0zt];J1Gj.W5Ld(8);var L0zt=J1Gj.Q5Ld(13,0,15);J1Gj.S5Ld(97);var d0zt=J1Gj.Q5Ld(14,27,10,14,18);this.callout.text="" + Number(Q32).toFixed(L0zt) + (this.p0[d0zt] === +"0"?"":t1qt + Number(("100" - 0) * Q32 / this.p0[1]).toFixed(+"2") + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";v32=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){I32=this.stx.pixelFromTick(v32,w32.chart);J1Gj.W5Ld(98);z32=J1Gj.K5Ld(I32,s32,E32,E32,P32,s32,V32);H32=this.stx.priceFromPixel(z32,w32) || a32;}else {H32=this.stx.priceFromPixel(a32,w32);}this.callout.stem={t:v32,v:H32};this.callout.renderText();this.callout.render(c32);if(this.highlighted){Y32=this.highlighted == "p0"?! !"1":![];l92=this.highlighted == "p1"?! !{}:![];this.littleCircle(c32,E32,s32,Y32);this.littleCircle(c32,P32,V32,l92);}};f0Z.Drawing.trendline.prototype.lineIntersection=function(u92,F92,q92,h92){return f0Z.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,u92,F92,q92,"segment");};f0Z.Drawing.trendline.prototype.intersected=function(m92,U92,o92){J1Gj.R1Gj();var i92,M92;if(!this.p0 || !this.p1){return null;}i92=this.callout.intersected(m92,U92,o92);M92=f0Z.Drawing.segment.prototype.intersected.call(this,m92,U92,o92);this.callout.highlighted=! !(i92 || M92);if(M92){return M92;}else if(i92){return {action:"move",p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),tick:m92,value:U92};}return null;};f0Z.Drawing.average=function(){this.name="average";};f0Z.inheritsFrom(f0Z.Drawing.average,f0Z.Drawing.regression);f0Z.extend(f0Z.Drawing.average.prototype,{configs:f0Z.Drawing.regression.prototype.configs.concat(L1qt),measure:function(){var O1qt,d1qt,k92,C92,L92,y92,S92,n92;if(this.p0 && this.p1){O1qt=" &sig";O1qt+="ma;";d1qt="&";d1qt+="ensp";d1qt+=";";this.stx.setMeasure(0,!"1",this.p0[0],this.p1[0],! !"1",this.name);k92=[];C92="";if(this.active1){k92.push("1");}if(this.active2){k92.push("2");}if(this.active3){k92.push(3900 === (2450,6210)?+"6.02e+3":(9733,3490) < "253.89" - 0?(2415,7060) === +"424.08"?("D",528.72):0x2076:"3");}if(k92.length){C92=d1qt + k92.join(", ") + O1qt;}L92=(this.stx.drawingContainer || document).querySelector(".mMeasure");y92=this.stx.controls.mSticky;S92=y92 && y92.querySelector(".mStickyInterior");if(L92){L92.innerHTML+=C92;}if(S92){n92=[];n92.push(f0Z.capitalize(this.name));n92.push(this.field || this.stx.defaultPlotField || "Close");n92.push(S92.innerHTML + C92);S92.innerHTML=n92.join("<br>");}}},render:function(e92){var a1qt,b92,G92,Z92,A92,B92,K92,w92,d92,s92,N92,t92,W92,X92,r92,x92,f92,g92,V92,P92,p92,a92,c92;a1qt="s";a1qt+="egm";a1qt+="ent";b92=this.stx.panels[this.panelName];if(!b92){return;}if(!this.p1){return;}function E92(D92,J92){if(J92 && J92.priceFormatter){D92=J92.priceFormatter(B92,b92,D92);}else {D92=B92.formatYAxisPrice(D92,b92,null,J92);}J1Gj.o1Gj();return D92;}if(this.p0["0" - 0] < +"0" || this.p1[0] < 0){return;}G92=this.stx.pixelFromTick(this.p0[0],b92.chart);Z92=this.stx.pixelFromTick(this.p1[0],b92.chart);if(G92 < b92.left && Z92 < b92.left){return;}if(G92 > b92.right && Z92 > b92.right){return;}A92=this.stx.getYAxisByField(b92,this.field);B92=this.stx;K92=Math.min(this.p1[0],this.p0[0]);J1Gj.W5Ld(99);var O0zt=J1Gj.K5Ld(11,307,7,4,1);w92=Math.max(this.p1[0],this.p0[0]) + O0zt;J1Gj.W5Ld(6);d92=J1Gj.Q5Ld(w92,K92);s92=0;N92=[];for(t92=K92;t92 < w92;t92++){W92=this.getYValue(t92);if(W92 !== null){s92+=W92.transformed;N92.push(W92);}}X92=N92.length;if(!X92){return;}J1Gj.W5Ld(16);J1Gj.R1Gj();r92=J1Gj.Q5Ld(s92,X92);x92=B92.pixelFromTransformedValue(r92,b92,A92);f92=this.getLineColor();g92={pattern:this.pattern,lineWidth:this.lineWidth};B92.plotLine(G92,Z92,x92,x92,f92,"segment",e92,b92,g92);J1Gj.W5Ld(6);B92.plotLine(G92,G92,J1Gj.Q5Ld(x92,20),J1Gj.K5Ld(20,x92,J1Gj.W5Ld(2)),f92,a1qt,e92,b92,g92);J1Gj.W5Ld(100);B92.plotLine(Z92,Z92,J1Gj.K5Ld("20",x92),J1Gj.K5Ld(20,x92,J1Gj.W5Ld(2)),f92,"segment",e92,b92,g92);if(this.axisLabel && !this.highlighted && !this.penDown){if(G92 >= b92.chart.left && G92 <= b92.chart.right || Z92 >= b92.chart.left && Z92 <= b92.chart.right){B92.endClip();B92.createYAxisLabel(b92,E92(r92,A92),x92,f92,null,e92,A92);B92.startClip(b92.name);}}if(this.active1 || this.active2 || this.active3){V92=0;for(t92=0;t92 < X92;t92++){W92=N92[t92];V92+=Math.pow(W92.transformed - r92,2);}J1Gj.W5Ld(16);P92=Math.sqrt(J1Gj.Q5Ld(V92,X92));p92={context:e92,formatPrice:E92,panel:b92,points:{0:{x:G92,v:r92},1:{x:Z92,v:r92}},stddev:P92,yAxis:A92};this.lines={};if(this.active1){this.renderStddev("1","p",p92);this.renderStddev(("2520" | 2320) !== 49.18?(5250,8540) != (3450,700.07)?"1":8460 === (+"4730",7570)?! !"":(9.08e+3,"7.58e+3" ^ 0):"p",(3859,"25.36" - 0) < (4424,5200)?"n":"6140" << 257445536 > 6570?0x178:(+"6.03e+3",0x8d1),p92);}if(this.active2){this.renderStddev(789.99 > (8837,+"821")?281.49:"2",+"5340" != (7970,9260)?(1470,7016) != (7187,2354)?"p":"1530" * 1 < ("5580" ^ 0,9755)?(4.95e+3,0x1200):607.60:(355.33,"s"),p92);this.renderStddev(486.43 !== 3340?"2":(! ![],![]),"n",p92);}if(this.active3){this.renderStddev("3",("2870" << 67249664,4900) !== (5540,3148)?(535.46,443.42) >= (972,6340)?! !1:"p":!{},p92);this.renderStddev((2241,55) != (694.7,5913)?"3":(293.98,7857) > (7825,2963)?(!0,0x55e):("X","S"),"n",p92);}}if(!this.highlighted){this.pixelX=[G92,Z92];this.pixelY=[x92,x92];}else {a92=this.highlighted == "p0"?! !{}:!"1";c92=this.highlighted == "p1"?! ![]:! !"";this.littleCircle(e92,G92,x92,a92);this.littleCircle(e92,Z92,x92,c92);}},reconstruct:function(v92,Q92){this.axisLabel=Q92.al;f0Z.Drawing.regression.prototype.reconstruct.call(this,v92,Q92);},serialize:function(){var H92;H92=f0Z.Drawing.regression.prototype.serialize.call(this);J1Gj.o1Gj();H92.al=this.axisLabel;return H92;}},! !"1");f0Z.Drawing.quadrant=function(){this.name="quadrant";};f0Z.inheritsFrom(f0Z.Drawing.quadrant,f0Z.Drawing.regression);f0Z.extend(f0Z.Drawing.quadrant.prototype,{configs:["color","fillColor",Q1qt,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(R92){var D1qt,k1qt,n1qt,j92,T92,O92,I92,F42,z92,Y92,M42,q42,m42,U42,i42,o42,k42,h42,l42,n42,u42,G1qt,S42,L42;D1qt="tir";D1qt+="one";k1qt="qu";k1qt+="ad";k1qt+="r";k1qt+="ant";n1qt="se";n1qt+="gment";j92=this.stx;T92=j92.panels[this.panelName];if(!T92){return;}if(!this.p1){return;}O92=j92.pixelFromTick(this.p0[0],T92.chart);I92=j92.pixelFromTick(this.p1[0],T92.chart);if(O92 < T92.left && I92 < T92.left){return;}if(O92 > T92.right && I92 > T92.right){return;}F42=this.stx.getYAxisByField(T92,this.field);z92=null;Y92=null;for(var C42=Math.min(this.p1[0],this.p0[0]);C42 <= Math.max(this.p1[0],this.p0[0]);C42++){M42=this.getYValue(C42);if(M42 !== null){if(z92 === null || M42.transformed > z92){z92=M42.transformed;}if(Y92 === null || M42.transformed < Y92){Y92=M42.transformed;}}}q42=j92.pixelFromTransformedValue(z92,T92,F42);J1Gj.W5Ld(101);m42=j92.pixelFromTransformedValue(J1Gj.K5Ld(4,z92,3,Y92),T92,F42);J1Gj.S5Ld(101);U42=j92.pixelFromTransformedValue(J1Gj.K5Ld(3,z92,2,Y92),T92,F42);J1Gj.S5Ld(102);i42=j92.pixelFromTransformedValue(J1Gj.K5Ld("2",Y92,z92),T92,F42);J1Gj.S5Ld(103);o42=j92.pixelFromTransformedValue(J1Gj.Q5Ld(Y92,"2",3,z92),T92,F42);J1Gj.W5Ld(104);k42=j92.pixelFromTransformedValue(J1Gj.K5Ld(4,z92,3,Y92),T92,F42);h42=j92.pixelFromTransformedValue(Y92,T92,F42);J1Gj.W5Ld(7);this.p0[1]=J1Gj.K5Ld("0",1);this.p1[1]=!{};l42=this.getLineColor();n42=this.fillColor;if(n42 == "auto" || f0Z.isTransparent(n42)){n42=j92.defaultColor;}R92.fillStyle=n42;u42={pattern:this.pattern,lineWidth:this.lineWidth};j92.plotLine(O92,I92,q42,q42,l42,n1qt,R92,T92,u42);j92.plotLine(O92,I92,h42,h42,l42,"segment",R92,T92,u42);if(this.name == k1qt){G1qt="s";G1qt+="e";G1qt+="gmen";G1qt+="t";j92.plotLine(O92,I92,m42,m42,l42,"segment",R92,T92,u42);j92.plotLine(O92,I92,k42,k42,l42,G1qt,R92,T92,u42);}else if(this.name == "tirone"){j92.plotLine(O92,I92,U42,U42,l42,"segment",R92,T92,u42);j92.plotLine(O92,I92,o42,o42,l42,"segment",R92,T92,u42);}j92.plotLine(O92,O92,q42,h42,l42,"segment",R92,T92,u42);j92.plotLine(I92,I92,q42,h42,l42,"segment",R92,T92,u42);j92.plotLine(O92,I92,i42,i42,l42,"segment",R92,T92,f0Z.extend(u42,{opacity:this.name == "tirone"?0.2:1}));R92.globalAlpha=0.1;R92.beginPath();J1Gj.W5Ld(6);R92.fillRect(O92,q42,J1Gj.K5Ld(I92,O92),J1Gj.Q5Ld(h42,q42));if(this.name == "quadrant"){J1Gj.S5Ld(6);R92.fillRect(O92,m42,J1Gj.K5Ld(I92,O92),J1Gj.K5Ld(k42,m42));}else if(this.name == D1qt){J1Gj.W5Ld(6);R92.fillRect(O92,U42,J1Gj.Q5Ld(I92,O92),J1Gj.K5Ld(o42,U42));}R92.globalAlpha=1;if(!this.highlighted){this.pixelX=[O92,I92];this.pixelY=[q42,h42,i42];if(this.name === "quadrant"){this.pixelY.push(m42,k42);}if(this.name === "tirone"){this.pixelY.push(U42,o42);}}else {S42=this.highlighted == "p0"?! !{}:![];L42=this.highlighted == "p1"?! !{}:!{};this.littleCircle(R92,O92,i42,S42);this.littleCircle(R92,I92,i42,L42);}},intersected:function(Z42,B42,e42){var t42,w1qt,G42,p42;var {pixelX:y42, pixelY:b42}=this;if(!y42 || !b42){return null;}t42=this.repositionIntersection(Z42,B42);if(t42){return t42;}for(var x42=0;x42 < 2;x42++){if(this.pointIntersection(y42[x42],b42[+"2"],e42,! ![])){w1qt="dr";w1qt+="ag";J1Gj.W5Ld(2);this.highlighted=J1Gj.K5Ld(x42,(9570,3852) < ("8522" * 1,4400)?"p":("B",!{}));return {action:w1qt,point:"p" + x42};}}G42=[];y42.forEach(W42=>{J1Gj.o1Gj();G42.push({p0:[W42,b42[0]],p1:[W42,b42[1]]});});b42.forEach(r42=>{G42.push({p0:[y42[0],r42],p1:[y42[1],r42]});});p42=G42.some(({p0:A42, p1:X42})=>{return this.lineIntersection(Z42,B42,e42,this.name,A42,X42,!0);});if(p42){this.highlighted=!0;return {action:"move",p0:f0Z.clone(this.p0),p1:f0Z.clone(this.p1),tick:Z42,value:B42};}return null;},reconstruct:function(N42,f42){var Z9qt,F9qt,U9qt;this.stx=N42;J1Gj.o1Gj();this.color=f42.col;this.fillColor=f42.fc;this.panelName=f42.pnl;this.pattern=f42.ptrn;Z9qt=-1404769727;F9qt=-601145812;U9qt=2;for(var z9qt="1" & 2147483647;J1Gj.g5tt(z9qt.toString(),z9qt.toString().length,11203) !== Z9qt;z9qt++){this.lineWidth=f42.lw;this.d0=f42.d0;this.d1=f42.d1;this.tzo0=f42.tzo0;this.tzo1=f42.tzo1;this.field=f42.fld;U9qt+=2;}if(J1Gj.T5tt(U9qt.toString(),U9qt.toString().length,73537) !== F9qt){this.lineWidth=f42.lw;this.d0=f42.d0;this.d1=f42.d1;this.tzo0=f42.tzo0;this.tzo1=f42.tzo1;this.field=f42.fld;}this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);f0Z.Drawing.tirone=function(){this.name="tirone";};f0Z.inheritsFrom(f0Z.Drawing.tirone,f0Z.Drawing.quadrant);f0Z.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=+"0";this.points=[];J1Gj.o1Gj();this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!{};this.annotationPoints=[];this.edit=null;};f0Z.inheritsFrom(f0Z.Drawing.elliottwave,f0Z.Drawing.annotation);f0Z.Drawing.elliottwave.defaultTemplate={impulse:[9570 <= ("4120" >> 985157952,6170)?(0x1df5,0x1ea8):"633.37" * 1 != (120,"54.11" - 0)?"I":(! !1,0x212e),"II",S1qt,"IV","V"],corrective:[(4109,+"3083") == 1119?+"2338" >= (101.55,2422)?(311.52,! !0):(!"",0x266d):"A",(6730,7849) >= (+"5313",668.48)?"B":"685.16" * 1,"C"],decoration:"enclosed",showLines:! !1};f0Z.Drawing.elliottwave.prototype.initializeSettings=function(g42){J1Gj.R1Gj();g42.currentVectorParameters.waveParameters=f0Z.clone(f0Z.Drawing.elliottwave.defaultTemplate);};f0Z.Drawing.elliottwave.prototype.configs=[P1qt,Z1qt,"lineColor","pattern","font","waveParameters"];f0Z.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];f0Z.Drawing.elliottwave.prototype.construct=function(K42,s42){var w42;this.stx=K42;this.panelName=s42.name;w42=K42.currentVectorParameters;Object.assign(this,w42.waveParameters);};f0Z.Drawing.elliottwave.prototype.serialize=function(){var U1qt,F1qt,E42;U1qt="f";U1qt+="l";F1qt="w";F1qt+="t";E42={};for(var V42=0;V42 < this.points.length;V42++){J1Gj.W5Ld(2);E42[J1Gj.Q5Ld(V42,(8751,+"5720") < 461.08?(!1,"8.51e+3" & 2147483647):"d")]=this[J1Gj.K5Ld(V42,"d")];J1Gj.W5Ld(2);E42[J1Gj.K5Ld(V42,"tzo")]=this[J1Gj.Q5Ld(V42,"tzo")];J1Gj.W5Ld(2);E42[J1Gj.Q5Ld(V42,731 >= (434.25,+"601.98")?"v":(! !"1","71.41" * 1))]=this[J1Gj.Q5Ld(V42,2779 == (3748,573.66)?(0x1b08,0x10f4):226.43 !== (892.38,933.62)?(479.8,4689) <= (941.35,5310)?"v":0x149e:(3.77e+2,360.43))];}E42.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:f0Z.removeNullValues(f0Z.replaceFields(this.font,{style:"st",size:"sz",weight:F1qt,family:U1qt}))},E42);};f0Z.Drawing.elliottwave.prototype.reconstruct=function(a42,P42){var z1qt,C1qt;z1qt="s";z1qt+="iz";z1qt+="e";J1Gj.o1Gj();C1qt="s";C1qt+="t";C1qt+="yl";C1qt+="e";this.stx=a42;this.color=P42.col;this.panelName=P42.pnl;this.pattern=P42.ptrn;this.lineWidth=P42.lw;this.font=f0Z.replaceFields(P42.fnt,{st:C1qt,sz:z1qt,wt:"weight",fl:"family"});this.decoration=P42.decor;this.showLines=P42.show;this.dx=P42.dx;this.dy=P42.dy;this.trend=P42.trend;this.annotationPoints=P42.annotations.split((+"5550",+"2550") > +"9400"?(+"0x10a",! !1):405.39 != (365.6,"5926" | 4614)?(+"3229","485" - 0) != (1342,908.97)?",":(6.33e+3,5.48e+3):("T",! !""));if(P42.decor === "enclosed"){this.calculateRadius(a42.chart.tempCanvas.context);}this.maxSegments=P42.mxSeg;this.reconstructPoints(P42);this.adjust();};f0Z.Drawing.elliottwave.prototype.reconstructPoints=function(d42){var D42,o1qt,m1qt,J42,Q42;D42=this.stx.panels[this.panelName];if(!D42){return;}for(var c42="0" << 51201664;c42 < this.annotationPoints.length;c42++){o1qt="t";o1qt+="zo";m1qt="t";m1qt+="z";m1qt+="o";J1Gj.S5Ld(2);this[J1Gj.K5Ld(c42,(2000,6700) !== ("2309" - 0,3.74)?"d":(!1,"v"))]=d42[J1Gj.Q5Ld(c42,"d")];J1Gj.W5Ld(2);this[J1Gj.K5Ld(c42,("1250" | 1218) !== 4131?"v":(309.51,811) == 5940?(1.87e+3,9.36e+3):("e",! ![]))]=d42[J1Gj.K5Ld(c42,"v")];J1Gj.S5Ld(2);this[J1Gj.K5Ld(c42,m1qt)]=d42[J1Gj.Q5Ld(c42,o1qt)];J42=f0Z.strToDateTime(d42["d" + c42]);Q42=this.stx.tickFromDate(J42,D42.chart);this.points.push([Q42,d42["v" + c42]]);}};f0Z.Drawing.elliottwave.prototype.calculateRadius=function(j42){var v42,T42;this.getFontString();j42.font=this.fontString;v42=0;for(var H42=0;H42 < this.annotationPoints.length;H42++){T42=j42.measureText(this.annotationPoints[H42]).width;if(v42 < T42){v42=T42;}}this.enclosedRadius=v42;};f0Z.Drawing.elliottwave.prototype.check=function(z42,l62,O42){var R42,I42;if(O42 === 1 && this.points.length === 2){return ! ![];}J1Gj.W5Ld(6);R42=this.points[J1Gj.Q5Ld(O42,1)];if(R42 && z42 <= R42[0]){return !{};}J1Gj.W5Ld(2);I42=this.points[J1Gj.K5Ld(1,O42)];if(I42 && z42 >= I42[0]){return ! !"";}if(!Y42(this.points)){return ! !0;}function Y42(F62){for(var u62="2" << 1420805344;u62 < F62.length;u62++){if(Math.sign(F62[u62]["1" & 2147483647] - F62[u62 - 1]["1" - 0]) == Math.sign(F62[u62 - 1][+"1"] - F62[u62 - 2][1])){return !1;}}return ! !"1";}return !0;};f0Z.Drawing.elliottwave.prototype.move=function(q62,h62,M62){var x5tt,M5tt,f5tt;J1Gj.S5Ld(7);x5tt=-J1Gj.Q5Ld("1072508690",1);M5tt=977712312;J1Gj.S5Ld(6);f5tt=J1Gj.Q5Ld("2",0);for(var Y3qt="1" & 2147483647;J1Gj.T5tt(Y3qt.toString(),Y3qt.toString().length,33284) !== x5tt;Y3qt++){this.copyConfig();J1Gj.S5Ld(105);var a0zt=J1Gj.K5Ld(7,14,26,17,4);this.points[this.lastPoint / a0zt]=[h62,M62];this.render(q62);f5tt+=2;}J1Gj.o1Gj();if(J1Gj.g5tt(f5tt.toString(),f5tt.toString().length,"81263" >> 1860650848) !== M5tt){this.copyConfig();J1Gj.S5Ld(39);var Q0zt=J1Gj.K5Ld(4,10,0,9,3);this.points[this.lastPoint % Q0zt]=[h62,M62];this.render(q62);}this.copyConfig();J1Gj.S5Ld(6);var n0zt=J1Gj.Q5Ld(5,4);this.points[this.lastPoint + n0zt]=[h62,M62];this.render(q62);};f0Z.Drawing.elliottwave.prototype.adjust=function(){J1Gj.R1Gj();var U62,i62;U62=this.stx.panels[this.panelName];if(!U62){return;}for(var m62=+"0";this.maxSegments + "1" * 1 > m62;m62++){J1Gj.S5Ld(2);i62=this[J1Gj.Q5Ld(m62,"d")];this.setPoint(m62,i62,this[(("569" - 0,861.01) >= 2750?("X",0x1450):"v") + m62],U62.chart);this.points[m62][0]=this.stx.tickFromDate(f0Z.strToDateTime(i62),U62.chart);J1Gj.W5Ld(2);this.points[m62][1]=this[J1Gj.K5Ld(m62,"v")];}};f0Z.Drawing.elliottwave.prototype.click=function(C62,o62,k62){var n62;n62=this.stx.panels[this.panelName];if(!n62){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,o62,k62,n62.chart);this.points.push(this.p0);this.penDown=! !{};this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift("0");if(this.decoration === "enclosed"){this.calculateRadius(C62);}J1Gj.W5Ld(2);var k0zt=J1Gj.Q5Ld(1,0);this.maxSegments=this.annotationPoints.length - k0zt;J1Gj.W5Ld(7);this.trend=J1Gj.Q5Ld("1",1);return !{};}J1Gj.o1Gj();if(this.accidentalClick(o62,k62)){this.penDown=! ![];return !"1";}if(this.check(o62,k62,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,o62,k62,n62.chart);if(this.lastPoint === "1" * 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!1;return ! ![];}}return !1;};f0Z.Drawing.elliottwave.prototype.render=function(S62){J1Gj.R1Gj();var K1qt,y62,N62,E62,P62,a62,g62,K62,x62,G62,w62,Z62,b62,t62,p62,B62,W62,r62,c62,d62,A62,X62,e62,s62,V62,D62,f62;K1qt="ce";K1qt+="nt";K1qt+="e";K1qt+="r";y62=this.stx.panels[this.panelName];if(!y62){return;}N62=this.stx;E62=this.annotationPoints;P62=this.pattern?f0Z.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();S62.font=this.fontString;S62.textAlign=K1qt;S62.textBaseline="middle";S62.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(S62);}this.lastFontString=this.fontString;a62=this.getLineColor();S62.fillStyle=S62.strokeStyle=a62;S62.save();S62.setLineDash(P62);g62=this.dx;K62=this.dy;x62=this.points;G62=this.pts;w62=!this.showLines && this.highlighted;Z62=x62.length;if(this.penDown && this.segment){b62=this.trend * (Z62 % +"2" - 0.5) < 0;if(y62.yAxis.flipped){b62=!b62;}this.drawDropZone(S62,x62[Z62 - +"2"][1],this.stx.priceFromPixel(y62.yAxis[b62?"top":"bottom"]),x62[Z62 - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){t62=parseInt(this.highlighted.substring(1,this.highlighted.length),10);J1Gj.W5Ld(44);var G0zt=J1Gj.K5Ld(16,16,6,20,636);b62=this.trend * (t62 % G0zt - +"0.5") > 0;J1Gj.S5Ld(6);p62=x62[J1Gj.K5Ld(t62,1)];J1Gj.S5Ld(2);B62=x62[J1Gj.Q5Ld(1,t62)];W62=t62 > 0?p62[+"1"]:B62[1];if(B62){W62=Math[b62?"max":"min"](W62,B62[1]);}if(y62.yAxis.flipped){b62=!b62;}this.drawDropZone(S62,W62,this.stx.priceFromPixel(y62.yAxis[b62?"top":"bottom"]),p62?p62[0]:null,B62?B62[0]:null);}for(var L62=0;L62 < Z62;L62++){r62=x62[L62];c62=N62.pixelFromTick(r62[0],y62.chart);d62=N62.pixelFromValueAdjusted(y62,r62[0],r62["1" & 2147483647]);G62[L62]=[c62,d62];}J1Gj.W5Ld(7);L62=J1Gj.Q5Ld("0",1);if(this.showLines || w62){S62.beginPath();if(w62){S62.globalAlpha=0.3;}for(;L62 < G62.length;L62++){S62.lineTo(G62[L62][+"0"],G62[L62]["1" | 0]);}S62.stroke();L62=0;}S62.restore();for(;L62 < Z62;L62++){A62=L62 % 2?g62:-g62;X62=L62 % 2?K62:-K62;A62*=this.trend;X62*=this.trend;if(y62.yAxis.flipped){J1Gj.W5Ld(7);A62*=-J1Gj.K5Ld("1",1);X62*=-1;}e62=G62[L62];s62=e62[2]=e62[0] + A62;V62=e62[+"3"]=e62["1" & 2147483647] + X62;D62=this.enclosedRadius || 8;f62=E62[L62];if(this.decoration === "parentheses"){J1Gj.S5Ld(0);f62=J1Gj.Q5Ld(f62,"(",("6910" ^ 0) != 2976?")":4450 === 9870?9.80e+3:514.8 === ("8415" & 2147483647)?530.94:+"193.88");}S62.fillText(f62,s62,V62);if(this.decoration === "enclosed"){S62.beginPath();S62.arc(s62,V62,D62,0,2 * Math.PI,! !0);S62.stroke();}if(this.highlighted){S62.save();this.littleCircle(S62,this.pts[L62][0],this.pts[L62][1],this.highlighted === ((2889,378.55) === (4890,6930)?("T",773):(+"445",734.08) == (+"3600",336)?(! !1,! !0):(9210,6965) == (6210,3407)?!"":"p") + L62);S62.restore();}}};f0Z.Drawing.elliottwave.prototype.reposition=function(Y62,J62,H62,T62){var O62,R62,I62,v62,j62,z62;if(!J62){return;}O62=this.stx.panels[this.panelName];R62=J62.tick - H62;I62=J62.value - T62;if(J62.action === "move"){for(var Q62=0;J62.points.length > Q62;Q62++){v62=J62.points[Q62];this.setPoint(Q62,v62[+"0"] - R62,v62[1] - I62,O62.chart);J1Gj.S5Ld(14);var D0zt=J1Gj.Q5Ld(5,0,5);this.points[Q62]=[v62[0] - R62,v62["1" | D0zt] - I62];}}J1Gj.o1Gj();if(J62.action === "drag"){j62=J62.point;z62=this.points;z62[j62]=[H62,T62];if(this.check(H62,T62,j62)){this.setPoint(j62,H62,T62,O62.chart);;};}this.render(Y62);};f0Z.Drawing.elliottwave.prototype.intersected=function(F02,q02,h02){var M02,u02;if(!this.p0 || !this.p1){return null;}for(var l02=0;this.points.length > l02;l02++){u02=this.points[l02];if(this.pointIntersection(u02[0],u02[1],h02)){J1Gj.S5Ld(2);this.highlighted=J1Gj.Q5Ld(l02,(3906,6559) != 574.44?"p":(422.68,517.61));return {action:"drag",point:l02,tick:F02,value:q02};}if(this.points[l02 + 1] && this.lineIntersection(F02,q02,h02,"segment",u02,this.points[l02 + 1])){this.highlighted=! !"1";M02={action:"move",points:f0Z.clone(this.points),tick:F02,value:q02};}}return M02;};f0Z.Drawing.elliottwave.prototype.measure=function(){var m02,o02,i02,A1qt,c1qt,J1qt,U02;if(this.points.length >= 2){m02=this.points;this.stx.setMeasure(m02[0][1],m02[m02.length - ("1" << 1492613568)][1],m02[0]["0" & 2147483647],m02[m02.length - 1]["0" * 1],! !{});o02=this.stx.controls.mSticky;i02=o02 && o02.querySelector(".mStickyInterior");if(i02){A1qt="<b";A1qt+="r>";c1qt="C";c1qt+="l";c1qt+="o";c1qt+="se";J1qt="El";J1qt+="lio";J1qt+="tt Wav";J1qt+="e";U02=[];U02.push(f0Z.capitalize(J1qt));if(this.getYValue){U02.push(this.field || this.stx.defaultPlotField || c1qt);}U02.push(i02.innerHTML);i02.innerHTML=U02.join(A1qt);}}};f0Z.Drawing.printProjection=function(x02,g02,k02){var C02,S02,r02,G02,A02,Z02,X02,B02,b02,p02,y02,f02,W02,e02,n02,N02;C02=g02.arr;if(C02.length > "1" - 0){S02=C02[0][0];r02=Math.round(x02.chart.maxTicks * ("0.75" * 1));for(var L02=+"1";L02 < C02.length;L02++){J1Gj.S5Ld(6);G02=C02[J1Gj.K5Ld(L02,1)][0];A02=C02[L02][0];Z02=f0Z.strToDateTime(G02);X02=f0Z.strToDateTime(A02).getTime();B02=x02.standardMarketIterator(Z02);b02=0;while(Z02.getTime() < X02){Z02=B02.next();b02+=+"1";}p02=f0Z.strToDateTime(G02).getTime();if(p02 > f0Z.strToDateTime(k02[k02.length - 1].Date).getTime()){J1Gj.W5Ld(2);var w0zt=J1Gj.Q5Ld(1,0);y02=k02.length - w0zt;b02+=1;}else {for(y02=k02.length - +"1";y02 >= 0;y02--){if(p02 <= f0Z.strToDateTime(k02[y02].Date).getTime())break;}}f02={x0:0,x1:b02,y0:k02[y02].Close,y1:C02[L02][1]};S02=f0Z.strToDateTime(G02);B02=x02.standardMarketIterator(S02);W02=!{};for(var t02=0;t02 <= b02;t02++){if(!W02){W02=! !1;}else {S02=B02.next();}if(S02.getTime() <= k02[k02.length - 1].DT.getTime())continue;e02=f0Z.yIntersection(f02,t02);if(!e02){e02=0;}J1Gj.S5Ld(106);var S0zt=J1Gj.K5Ld(1,625,2500,12);J1Gj.S5Ld(15);var P0zt=J1Gj.Q5Ld(19,16,18,10015);n02=Math.round(e02 * S0zt) / P0zt;if(n02 === 0){n02=C02[L02][1];}N02={Date:f0Z.yyyymmddhhmmssmmm(S02),DT:S02,Open:n02,Close:n02,High:n02,Low:n02,Volume:0,Adj_Close:n02,Split_Close:n02,projection:! !"1"};if(x02.layout.interval == "minute")if(r02-- < ("0" | 0))break;k02[k02.length]=N02;}}}};}};T8A=w02=>{var r1qt,K02;r1qt="un";r1qt+="define";r1qt+="d";K02=typeof _CIQ !== r1qt?_CIQ:w02.CIQ;L8gg.o1Gj();if(!K02.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {K02.formatEquation=function(D02){var A2Gj=L8gg;A2Gj.o1Gj();var E02,a02,s02,P02,V02;E02="";a02=[];s02="";P02=!{};for(var d02="1" & 2147483647;d02 < D02.length;d02++){V02=D02[d02].toUpperCase();if(V02 == (8070 != 497.04?"[":("234.68" - 0,2.25e+3)) && !P02){P02=! !1;}else if(V02 == ((7103,493.31) > 3379?689.16:"]") && P02){P02=![];if(s02 !== ""){a02.push(s02);A2Gj.S5Ld(0);E02+=A2Gj.Q5Ld(s02,3450 >= 8030?(9315,505.52) >= 93.84?(0xe94,"T"):! !"":"[",(1346,7268) == (122.61,9350)?(893.98,+"1.21e+3"):(5891,+"808.91") > ("5290" & 2147483647)?!0:"]");}s02="";}else if(P02){s02+=V02;}else if(V02 == "+" || V02 == "-" || V02 == ((468.68,295) > 992.19?0x44c:(994,29) == 78.51?0x1325:"*") || V02 == "/" || V02 == ":" || V02 == "%" || V02 == "(" || V02 == ")"){if(s02 !== "" && isNaN(s02)){a02.push(s02);A2Gj.W5Ld(0);E02+=A2Gj.K5Ld(s02,"[",1030 <= (9214,237.94)?! !0:("605" ^ 0,639.79) >= +"355.01"?"]":117.55);}else {E02+=s02;}if(V02 == (6715 === 4346?0xf62:":")){V02=("8599" | 401) != 9565?(302.08,4061) > (8076,5530)?(126.98,237.61):(4940,4084) !== (7108,914)?"/":(! !0,![]):"v";}E02+=V02;s02="";}else if(V02 != ((8840,641.05) < ("867.93" - 0,485.02)?(2.44e+3,7.70e+3):(8461,498) < 7694?(8610,8630) != (783.92,2605)?" ":(0x1e6e,3.91e+2):(8.42e+3,!{}))){s02+=V02;}}if(s02 !== "" && isNaN(s02)){a02.push(s02);A2Gj.W5Ld(0);E02+=A2Gj.Q5Ld(s02,"[","]");}else {E02+=s02;}return {equation:E02,symbols:a02};};K02.fetchEquationChart=function(J02,R02){var H02,T02,j02,O02,v02;L8gg.R1Gj();H02=K02.formatEquation(J02.symbol);T02=H02.symbols;j02=[];O02=J02.stx;J02.stx=null;for(var Q02=0;Q02 < T02.length;Q02++){v02=K02.shallowClone(J02);v02.stx=O02;v02.symbol=T02[Q02];v02.symbolObject={symbol:T02[Q02]};j02.push(v02);}J02.stx=O02;O02.quoteDriver.multiFetch(j02,function(q82){var u82,I02,z02,Y02,h82;u82={};J02.loadMoreReplace=!"";I02={charge:+"0"};for(var l82=0;l82 < q82.length;l82++){z02=q82[l82];if(z02.dataCallback.error){R02({error:z02.dataCallback.error});return;}u82[z02.params.symbol]=z02.dataCallback.quotes;J02.loadMoreReplace=J02.loadMoreReplace && z02.params.loadMoreReplace;J02.moreToLoad=J02.moreToLoad || z02.dataCallback.moreAvailable;Y02=z02.dataCallback.attribution;if(Y02){if(Y02.charge){I02.charge+=Y02.charge;}I02.source=Y02.source;if(I02.exchange === undefined){I02.exchange=Y02.exchange;}else if(I02.exchange != Y02.exchange){I02.exchange="";};}}if(j02.length || !(J02.loadMore || J02.update)){try{h82=K02.computeEquationChart(H02.equation,u82);R02({quotes:h82,moreAvailable:J02.moreToLoad,attribution:I02});}catch(M82){var N1qt,F82;N1qt="Inv";N1qt+="alid equat";N1qt+="ion: ";F82={error:N1qt + H02.equation};if(M82.name && M82.name == "NoException"){F82.suppressAlert=! !"1";}R02(F82);}}});};}};j8A=U82=>{var R1qt,m82;R1qt="unde";R1qt+="fi";R1qt+="ne";R1qt+="d";m82=typeof _CIQ !== R1qt?_CIQ:U82.CIQ;if(!m82.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!m82.Marker.Performance){m82.ChartEngine.prototype.removeDOMMarker=function(i82){var V1qt;V1qt="CIQ.ChartEngine#removeDOMMarker is scheduled for deprecati";V1qt+="on in a future release\n Please use CIQ.Marker.";V1qt+="Performance#remove instead.";console.warn(V1qt);m82.Marker.Performance.prototype.removeDOMMarker.call(i82.params.node,i82);};m82.ChartEngine.prototype.drawMarkers=function(){var u1qt;u1qt="CIQ.ChartEngine#drawMarkers is scheduled for deprecation in";u1qt+=" a future rel";u1qt+="ease\n Please use CIQ.Marker.Performance.drawMarkers instead.";console.warn(u1qt);m82.Marker.Performance.drawMarkers(this);};m82.ChartEngine.prototype.calculateMarkerStyles=function(o82,k82){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");L8gg.o1Gj();m82.Marker.Performance.calculateMarkerStyles(this,o82,k82);};m82.ChartEngine.prototype.drawCircleMarker=function(n82,C82,S82){var j1qt;L8gg.R1Gj();j1qt="CIQ.";j1qt+="ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Perform";j1qt+="anc";j1qt+="e.drawCircleMarker instead.";console.warn(j1qt);m82.Marker.Performance.drawCircleMarker(n82,C82,S82);};m82.ChartEngine.prototype.drawSquareMarker=function(L82,y82,b82){var W2qt,X2qt,T2qt;console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");W2qt=2092771431;X2qt=-762029845;T2qt=2;for(var e2qt=1;L8gg.T5tt(e2qt.toString(),e2qt.toString().length,81608) !== W2qt;e2qt++){m82.Marker.Performance.drawSquareMarker(L82,y82,b82);T2qt+=2;}if(L8gg.T5tt(T2qt.toString(),T2qt.toString().length,72762) !== X2qt){m82.Marker.Performance.drawSquareMarker(L82,y82,b82);}};m82.ChartEngine.prototype.drawCalloutMarker=function(x82,G82,Z82){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");m82.Marker.Performance.drawCalloutMarker(x82,G82,Z82);};m82.ChartEngine.prototype.drawMarkerStem=function(B82,t82,e82){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");L8gg.R1Gj();m82.Marker.Performance.drawMarkerStem(B82,t82,e82);};m82.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");m82.Marker.Performance.drawMarkers(this);};m82.Marker.Performance=function(r82){var q1qt,H1qt,B1qt,I1qt,p1qt,h1qt,W82,p82,X82,N82,A82,f82,g82,v1qt,K82;q1qt="h";q1qt+="4";H1qt=".stx-marker-expa";H1qt+="nd";B1qt=".s";B1qt+="tx-";B1qt+="visual";I1qt=".stx-m";I1qt+="a";I1qt+="r";I1qt+="ker";p1qt="</d";p1qt+="i";p1qt+="v>";h1qt="<";h1qt+="div class=\"stx";h1qt+="-marker stx-performance-marker stx-marker-expand\"><h4></h4><p></p></div>";this.params={displayCategory:! !{},displayStem:! ![],invert:!"1",story:"",headline:""};m82.extend(this.params,r82);W82=this.template=document.createElement("TEMPLATE");L8gg.S5Ld(107);W82.innerHTML=L8gg.K5Ld('<div class="stx-stem"></div>','<div class="stx-marker-content">','<div class="stx-marker highlight">',p1qt,h1qt,"</div>",'<div class="stx-visual">',"</div>");p82=this.template.content.cloneNode(!"");X82=p82.querySelector(I1qt,W82);X82.classList.add(r82.type);X82.classList.add(r82.category);N82=p82.querySelector(B1qt,W82);A82=p82.querySelector(H1qt);f82=p82.querySelector(q1qt,W82);g82=p82.querySelector((562.47,3344) < +"40"?4853 != (+"1684",7690)?("938.39" * 1,9804) >= 8967?(!"","d"):"x":"S":"p",W82);f82.innerText=this.params.headline;g82.innerText=this.params.story;this.hasText=! !r82.headline || ! !r82.story;this.deferAttach=! ![];this.node=p82.firstChild;this.node.params=this.params;this.visual=N82;this.expand=A82;if(r82.type === "callout"){v1qt=".s";v1qt+="tx-";v1qt+="marker-content";K82=A82.removeChild(f82);p82.querySelector(v1qt,W82).insertBefore(K82,A82);}};m82.inheritsFrom(m82.Marker.Performance,m82.Marker.NodeCreator,!"1");m82.Marker.Performance.consolidateExpanded=function(c82){var w82,s82,P82,E82,a82;w82=c82.markerHelper.highlighted;if(!w82.length){return;}L8gg.W5Ld(108);var Z0zt=L8gg.K5Ld(152,17,19,4,14);s82=w82[w82.length - Z0zt];P82=s82.params.node;if(!s82.consolidated){s82.consolidated=[];}function d82(v82){var W1qt,J82,D82,Q82;W1qt="non";W1qt+="e";J82=v82.params.node;D82=J82.expand;if(!D82){return "";}L8gg.R1Gj();Q82=D82.style.display !== W1qt?D82.innerHTML:"";return Q82;}for(var V82=w82.length - 2;V82 >= 0;V82--){E82=d82(w82[V82]);L8gg.W5Ld(0);a82=L8gg.Q5Ld(E82,"<consolidated>","</consolidated>");if(E82.length){P82.expand.innerHTML+=a82;}}s82.stxNodeCreator.quickCache(s82);};m82.Marker.Performance.reconstituteExpanded=function(O82){var H82,R82,I82,j82;H82=O82.markerHelper.highlighted;if(!H82.length || !O82.activeMarker){return;}H82=[O82.activeMarker];L8gg.o1Gj();for(var T82=H82.length - 1;T82 >= 0;T82--){R82=H82[T82];I82=R82.params.node;j82=I82.expand;while(j82.lastElementChild.nodeName === "CONSOLIDATED"){j82.removeChild(j82.lastElementChild);}}};m82.Marker.Performance.drawMarkers=function(m12){var h12,z82,l12,q12,o12,C12;h12=m12.getMarkerArray("all");z82=m12.chart;for(var Y82="0" >> 1385332672;Y82 < h12.length;Y82++){l12=h12[Y82];q12=l12.stxNodeCreator;o12=z82.dataSegment["0" ^ 0].tick;C12=z82.dataSegment[z82.dataSegment.length - ("1" & 2147483647)].tick;if(o12 <= l12.tick <= C12){if(q12 && q12.drawMarker){q12.drawMarker(l12);}}}};m82.Marker.Performance.calculateMarkerStyles=function(x12,G12,e12){var b12,X1qt,Z12,t12;b12=document.querySelector(".stx-marker-templates");if(!b12){X1qt="D";X1qt+="I";X1qt+="V";b12=document.createElement(X1qt);b12.style.visibility="hidden";b12.style.left="-1000px";document.body.append(b12);}L8gg.o1Gj();b12.appendChild(G12.node);Z12=getComputedStyle(G12.stxNodeCreator.visual);if(!x12.styles.stx_marker_stem){t12=getComputedStyle(document.querySelector(".stx-stem",G12.node));x12.styles.stx_marker_stem=x12.cloneStyle(t12);}x12.styles[e12]=x12.cloneStyle(Z12);b12.removeChild(G12.node);};m82.Marker.Performance.drawCircleMarker=function(N12,d12,W12){var V12,E12,p12,r12,A12,g12,K12,s12,T1qt;L8gg.R1Gj();V12=N12.params.stx;E12=V12.chart;p12=E12.context;r12=W12.x;A12=W12.y;g12=W12.radius;K12=W12.label;s12=W12.color?W12.color:d12.backgroundColor;p12.beginPath();p12.setLineDash([]);p12.lineWidth=1;p12.fillStyle=s12;p12.strokeStyle=s12;p12.font="normal bold 12px Roboto, Helvetica, sans-serif";p12.arc(r12,A12,g12,0,2 * Math.PI,!{});p12.fill();p12.stroke();p12.closePath();if(K12){T1qt="wh";T1qt+="ite";p12.fillStyle=m82.colorsEqual(T1qt,p12.fillStyle)?"black":"white";p12.fillText(K12.charAt(0).toUpperCase(),r12 - 4,A12 + 1);}if(N12.highlight || N12.active){p12.beginPath();L8gg.S5Ld(2);p12.arc(r12,A12,L8gg.K5Ld(4,g12),0,2 * Math.PI,!1);p12.stroke();p12.closePath();}};m82.Marker.Performance.drawSquareMarker=function(u5H,U5H,J12){var F2Gj=L8gg;var h5H,m5H,D12,T12,O12,Q12,F5H,q5H,v12;h5H=u5H.params.stx;m5H=h5H.chart;D12=m5H.context;T12=J12.x;O12=J12.y;Q12=J12.half;F5H=J12.label;q5H=J12.color?J12.color:U5H.backgroundColor;F2Gj.S5Ld(7);F2Gj.o1Gj();v12=F2Gj.Q5Ld(Q12,2);D12.beginPath();D12.setLineDash([]);D12.lineWidth=1;D12.fillStyle=q5H;D12.strokeStyle=q5H;D12.font="normal bold 12px Roboto, Helvetica, sans-serif";F2Gj.W5Ld(6);D12.rect(F2Gj.Q5Ld(T12,Q12),F2Gj.Q5Ld(O12,Q12),v12,v12);D12.fill();if(u5H.highlight || u5H.active){F2Gj.S5Ld(76);D12.rect(F2Gj.Q5Ld(Q12,T12,4),F2Gj.K5Ld(Q12,O12,4,F2Gj.W5Ld(76)),F2Gj.Q5Ld(8,v12,F2Gj.W5Ld(2)),F2Gj.Q5Ld(8,v12,F2Gj.S5Ld(2)));}D12.stroke();D12.closePath();if(F5H){D12.fillStyle=m82.colorsEqual("white",D12.fillStyle)?"black":"white";D12.fillText(F5H.charAt(0).toUpperCase(),T12 - 4,O12 + 1);}};m82.Marker.Performance.drawCalloutMarker=function(y5H,N5H,n5H){var g1qt,A5H,X5H,k5H,S5H,g5H,G5H,Z5H,t5H,e5H,p5H,f5H,x5H,W5H,r5H;g1qt="normal bo";g1qt+="ld 12px Ro";L8gg.R1Gj();g1qt+="boto, Helvetica, sans-serif";A5H=y5H.params.stx;X5H=A5H.chart;k5H=X5H.context;S5H=y5H.params;g5H=n5H.x;G5H=n5H.y;Z5H=n5H.half;t5H=n5H.midWidth;e5H=n5H.headline;p5H=n5H.color?n5H.color:N5H.backgroundColor;f5H=Z5H * 2 || 25;x5H=Math.round(k5H.measureText(e5H).width);W5H=t5H?t5H * 2:x5H + 8;k5H.beginPath();k5H.setLineDash([]);k5H.lineWidth=1;k5H.fillStyle=p5H;k5H.strokeStyle=p5H;k5H.font=g1qt;k5H.rect(S5H.box.x0,S5H.box.y0,W5H,f5H);k5H.fill();k5H.stroke();k5H.closePath();k5H.beginPath();k5H.fillStyle=y5H.highlight || y5H.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";L8gg.W5Ld(109);r5H=L8gg.Q5Ld(x5H,W5H,"20",1,2);k5H.rect(S5H.box.x0 + r5H,G5H - Z5H,x5H + 40,22);k5H.fill();k5H.stroke();k5H.closePath();k5H.fillStyle="black";k5H.fillText(e5H,S5H.box.x0 + r5H + 10,G5H);};m82.Marker.Performance.drawMarkerStem=function(s5H,d5H,E5H){var D5H,J5H,w5H,P5H,T5H,a5H,Q5H,v5H;D5H=s5H.params.stx;J5H=D5H.chart;w5H=J5H.context;P5H=E5H.x;T5H=E5H.y;w5H.beginPath();w5H.strokeStyle=d5H.borderLeftColor;w5H.setLineDash([1,1]);a5H=m82.stripPX(d5H.height);Q5H=E5H.invert?s5H.params.box.y0:s5H.params.box.y1;v5H=E5H.invert?s5H.params.box.y0 - a5H:s5H.params.box.y1 + a5H;w5H.moveTo(P5H,Q5H);w5H.lineTo(P5H,v5H);w5H.stroke();w5H.closePath();};m82.Marker.Performance.prototype.drawMarker=function(j5H){var G2Gj=L8gg;var l1qt,i1qt,e1qt,o9H,R5H,b9H,x9H,S9H,z5H,q9H,M9H,G9H,L9H,k9H,y9H,n9H,Y5H,C9H,O5H,m9H,i9H,Z9H,B9H,u9H,F9H;l1qt="c";l1qt+="a";l1qt+="l";l1qt+="lout";i1qt="s";i1qt+="q";i1qt+="ua";i1qt+="re";e1qt="c";e1qt+="ircle";o9H=j5H.params;R5H=j5H.params.stx;if(!R5H){return;}b9H=R5H.chart;x9H=b9H.dataSegment;if(!x9H.length){return;}S9H=R5H.panels[j5H.params.panelName];z5H=j5H.stxNodeCreator.params;q9H=z5H.type;M9H=z5H.category;G9H=z5H.headline;L9H=z5H.displayCategory;k9H=z5H.color;y9H=z5H.invert;G2Gj.S5Ld(93);n9H=G2Gj.Q5Ld(839.35 < (379.48,8956)?"_":"u",q9H,M9H,"stx_marker_");if(!R5H.styles[n9H]){m82.Marker.Performance.calculateMarkerStyles(R5H,j5H,n9H);}Y5H=j5H.style=R5H.styles[n9H];C9H=R5H.styles.stx_marker_stem;G2Gj.W5Ld(59);var F0zt=G2Gj.K5Ld(0,15,26,13);O5H=parseInt(Y5H.height,"10" & 2147483647) / F0zt;G2Gj.o1Gj();G2Gj.S5Ld(110);var U0zt=G2Gj.Q5Ld(12,26,198,8,8);G2Gj.W5Ld(6);var C0zt=G2Gj.K5Ld(7,5);m9H=parseInt(Y5H.width,U0zt) / C0zt;i9H=z5H.displayStem?parseInt(C9H.height,"10" & 2147483647) + parseInt(C9H.marginBottom,10):0;Z9H=i9H + parseInt(Y5H.height,+"10");B9H=i9H?i9H + O5H:0;u9H=R5H.pixelFromDate(o9H.x);F9H=o9H.node.calculateYPosition({marker:j5H,panel:S9H,height:Z9H,half:O5H,offset:B9H,inverted:y9H});if(!j5H.tick && j5H.tick !== +"0"){return;}o9H.box={x0:u9H - (m9H || O5H),y0:F9H - O5H,x1:u9H + (m9H || O5H),y1:F9H + O5H,midY:O5H,midX:m9H || O5H,stemHeight:i9H};if(!L9H){M9H=L9H;}R5H.startClip(S9H.name);if(q9H === e1qt){m82.Marker.Performance.drawCircleMarker(j5H,Y5H,{x:u9H,y:F9H,radius:O5H,label:M9H,color:k9H});}else if(q9H === i1qt){m82.Marker.Performance.drawSquareMarker(j5H,Y5H,{x:u9H,y:F9H,half:O5H,label:M9H,color:k9H});}else if(q9H === l1qt){m82.Marker.Performance.drawCalloutMarker(j5H,Y5H,{x:u9H,y:F9H,half:O5H,midWidth:m9H,headline:G9H,color:k9H});}else {G2Gj.W5Ld(0);console.warn(G2Gj.K5Ld(q9H,"Marker type: "," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout."));}if(z5H.displayStem){m82.Marker.Performance.drawMarkerStem(j5H,C9H,{x:u9H,y:F9H,invert:y9H});}R5H.endClip();if(j5H.attached){this.positionPopUpNode(j5H);}};m82.Marker.Performance.prototype.positionPopUpNode=function(e9H){var V2Gj=L8gg;var E1qt,y1qt,g9H,A9H,t9H,K9H,f9H,r9H,w9H,d9H,D9H,J9H,Q9H,s9H,X9H,c9H,V9H,N9H,a9H,v9H;E1qt="px) translate";E1qt+="Y";E1qt+="(";y1qt="h";y1qt+="idden";if(!e9H.attached || !e9H.params.box){return;}g9H=e9H.params;A9H=g9H.stx;t9H=g9H.box;K9H=e9H.params.node.expand;f9H=A9H.chart.dataSet;r9H=A9H.chart.dataSegment;if(e9H.tick){d9H=[f9H[r9H[0] && r9H[+"0"].tick - 1],f9H[r9H[0] && r9H[+"0"].tick - 2]];D9H=A9H.getFirstLastDataRecord(d9H.concat(r9H),"Date");V2Gj.S5Ld(111);var z0zt=V2Gj.Q5Ld(144,13,11);V2Gj.S5Ld(42);var m0zt=V2Gj.Q5Ld(19,20);J9H=[f9H[r9H[r9H.length - z0zt].tick + m0zt],f9H[r9H[r9H.length - +"1"].tick + +"2"]];Q9H=A9H.getFirstLastDataRecord(r9H.concat(J9H),"Date",!0);w9H=D9H.DT <= f9H[e9H.tick].DT && f9H[e9H.tick].DT <= Q9H.DT;}else {w9H=!{};}if(!e9H.highlight && !e9H.active){w9H=![];}K9H.style.visibility=w9H?"":y1qt;if(!w9H){return;}s9H=A9H.panels[g9H.panelName];X9H=K9H.rects;V2Gj.S5Ld(2);var o0zt=V2Gj.Q5Ld(2,0);c9H=X9H.height / o0zt;N9H=e9H.node.params.infoOffset || 0;if(e9H.node.params.infoOnLeft){V9H=t9H.x0 - X9H.width - N9H < s9H.left?t9H.x1 + N9H:t9H.x0 - X9H.width - N9H;}else {V9H=t9H.x0 + X9H.width > s9H.right?t9H.x0 - X9H.width - N9H:t9H.x1 + N9H;}V9H-=A9H.chart.left;a9H=t9H.y0 - c9H >= s9H.top?t9H.y0 + t9H.midY - c9H:t9H.y0;if(!g9H.avoidFlush && t9H.y1 + t9H.stemHeight === s9H.yAxis.bottom && X9H.height > t9H.y1 - t9H.y0 + t9H.stemHeight){a9H=t9H.y1 - X9H.height + t9H.stemHeight;}a9H-=A9H.chart.panel.top;v9H="translateX(" + Math.floor(V9H) + E1qt + Math.floor(a9H) + "px) translateZ(0)";K9H.style.transform=v9H;K9H.transform={translateX:V9H,translateY:a9H};};m82.Marker.Performance.prototype.quickCache=function(O9H){var R9H,H9H,j9H,I9H;R9H=O9H.params.node;L8gg.o1Gj();H9H=R9H.expand;j9H=O9H.style;I9H=m82.stripPX(j9H.marginLeft) + m82.stripPX(j9H.marginRight) + m82.stripPX(j9H.borderRight) + m82.stripPX(j9H.borderLeft);H9H.rects=H9H.getBoundingClientRect();H9H.scrollBarWidth=H9H.rects.width - H9H.clientWidth - I9H;};m82.Marker.Performance.prototype.calculateYPosition=function(M7H){var f1qt,M1qt,x1qt,h7H,l7H,i7H,m7H,q7H,o7H,u7H,k7H,n7H,F7H,U7H,C7H,Y9H,S7H,L7H;f1qt="botto";f1qt+="m";M1qt="be";M1qt+="lo";M1qt+="w";M1qt+="_candle";x1qt="above_c";x1qt+="andle";h7H=M7H.marker;l7H=M7H.panel;i7H=M7H.height;m7H=M7H.half;q7H=M7H.offset;o7H=M7H.inverted;u7H=h7H.params.stx;k7H=u7H.chart;n7H=u7H.chart.highLowBars;F7H=k7H.dataSet[h7H.tick];if(!F7H){return;}U7H=n7H?F7H.High:F7H.Close;C7H=h7H.params.yPositioner;switch(C7H){case "value":if(h7H.params.y || h7H.params.y === 0){Y9H=u7H.pixelFromPrice(h7H.params.y,l7H) - i7H * 0.5 + m7H;}else {Y9H=u7H.pixelFromPrice(U7H,l7H) - q7H;}break;case x1qt:Y9H=u7H.pixelFromPrice(U7H,l7H) - q7H;break;case M1qt:Y9H=u7H.pixelFromPrice(F7H.Low || U7H,l7H);if(o7H && q7H){Y9H+=q7H;}else {Y9H+=m7H;}break;case "on_candle":(S7H=F7H.High || F7H.Close,L7H=F7H.Low || F7H.Low === +"0" || F7H.Close);L8gg.W5Ld(76);var K0zt=L8gg.Q5Ld(17,32,13);Y9H=u7H.pixelFromPrice((S7H + L7H) / K0zt,l7H) - i7H * +"0.5" + m7H;break;case "top":Y9H=u7H.pixelFromPrice(l7H.yAxis.high,l7H);if(o7H && q7H){Y9H+=q7H;}else {Y9H+=m7H;}break;case f1qt:Y9H=u7H.pixelFromPrice(l7H.yAxis.low,l7H) - (q7H || m7H);break;default:break;}return Y9H;};m82.Marker.Performance.prototype.prepareForHolder=function(b7H){var y7H,x7H;y7H=this.expand;x7H=b7H.params.stx;y7H.classList.add(this.params.type);x7H.markerHelper.domMarkers.push(b7H);return y7H;};m82.Marker.Performance.prototype.addToHolder=function(B7H){var s4qt,Z7H,G7H;s4qt="mou";s4qt+="s";s4qt+="edow";s4qt+="n";Z7H=this.expand;G7H=B7H.params.stx;m82.Marker.Performance.reconstituteExpanded(G7H);L8gg.o1Gj();function t7H(e7H){var b3qt,t3qt,L3qt;G7H.activeMarker=B7H;b3qt=836086059;t3qt=1641284532;L8gg.o1Gj();L3qt=2;for(var O3qt=1;L8gg.g5tt(O3qt.toString(),O3qt.toString().length,69675) !== b3qt;O3qt++){G7H.activeMarker.click({cx:e7H.clientX,cy:e7H.clientY,panel:G7H.currentPanel});L3qt+=2;}if(L8gg.g5tt(L3qt.toString(),L3qt.toString().length,96515) !== t3qt){G7H.activeMarker.click({cx:e7H.clientX,cy:e7H.clientY,panel:G7H.currentPanel});}e7H.stopPropagation();}m82.Marker.Performance.consolidateExpanded(G7H);this.quickCache(B7H);if(Z7H.clickClosure){return;}Z7H.addEventListener(s4qt,t7H);Z7H.addEventListener("touchstart",t7H);Z7H.clickClosure=t7H;};m82.Marker.Performance.prototype.remove=function(W7H){var p7H,A7H,X7H,r7H;p7H=W7H.params.stx;if(!p7H){return;}L8gg.R1Gj();if(!p7H.markerHelper.domMarkers){return;}A7H=p7H.markerHelper.domMarkers.indexOf(W7H);if(A7H != -1){p7H.markerHelper.domMarkers.splice(A7H,1);}if(W7H.attached){X7H=p7H.panels[W7H.params.panelName];r7H=W7H.params.node.expand;if(r7H.parentNode === X7H.subholder){X7H.subholder.removeChild(r7H);}r7H.removeEventListener("click",r7H.clickClosure);}};m82.Marker.Performance.prototype.click=function(w7H){var Y4qt,g7H,s7H,N7H;Y4qt="n";Y4qt+="umb";Y4qt+="er";if(!this.hasText){return;}if(typeof arguments[0] === Y4qt){w7H={cx:arguments[0],cy:arguments[+"1"],marker:arguments[+"2"],panel:arguments[3]};}var {cx:K7H, cy:V7H, marker:f7H, panel:E7H}=w7H;g7H=f7H.params.stx;if(f7H.attached){N7H=this.expand;if(N7H.rects.width - N7H.scrollBarWidth + N7H.transform.translateX < g7H.backOutX(K7H) && g7H.backOutX(K7H) < N7H.rects.width + N7H.transform.translateX){return;}this.remove(f7H);}else {g7H.addToHolder(f7H);s7H=! !"1";}f7H.attached=!f7H.attached;f7H.active=!f7H.active;if(s7H){f7H.stxNodeCreator.positionPopUpNode(f7H);}};}};O8A=a7H=>{var P7H;P7H=typeof _CIQ !== "undefined"?_CIQ:a7H.CIQ;P7H.Renderer.OHLC.requestNew=function(O7H,c7H){var d7H,J7H,Q7H,v7H,H7H,T7H,b4qt,j7H,t4qt,L4qt;d7H=null;J7H=c7H.hlc;Q7H=c7H.colored;v7H=c7H.hollow;H7H=c7H.volume;T7H=c7H.histogram;for(var D7H="0" - 0;D7H < O7H.length;D7H++){b4qt="color";b4qt+="ed";j7H=O7H[D7H];switch(j7H){case "bar":case "candle":d7H=j7H;break;case "volume":H7H=! !"1";break;case "hollow":v7H=! !"1";break;case b4qt:Q7H=! ![];break;case "histogram":t4qt="cand";t4qt+="l";t4qt+="e";T7H=! ![];d7H=t4qt;break;case "hlc":L4qt="ba";L4qt+="r";J7H=! ![];d7H=L4qt;break;default:return null;}}if(d7H === null){return null;}return new P7H.Renderer.OHLC({params:P7H.extend(c7H,{type:d7H,hlc:J7H,colored:Q7H,hollow:v7H,volume:H7H,histogram:T7H})});};L8gg.R1Gj();P7H.Renderer.OHLC.getChartParts=function(q4H,F4H){var q4qt,H4qt,B4qt,I4qt,p4qt,h4qt,j4qt,u4qt,V4qt,R4qt,N4qt,r4qt,A4qt,c4qt,J4qt,K4qt,o4qt,m4qt,z4qt,C4qt,U4qt,F4qt,Z4qt,P4qt,S4qt,w4qt,D4qt,G4qt,k4qt,n4qt,Q4qt,a4qt,O4qt,d4qt,z7H,Y7H,l4H,R7H,I7H,u4H;q4qt="s";q4qt+="tx_hollow_candle_even";H4qt="can";H4qt+="d";H4qt+="le";B4qt="bor";B4qt+="der_colo";B4qt+="r_d";B4qt+="own";I4qt="stx_hollow_candle_";I4qt+="down";p4qt="ho";p4qt+="llo";p4qt+="w";h4qt="border_color_";h4qt+="up";j4qt="hol";j4qt+="l";j4qt+="o";j4qt+="w";u4qt="border_";u4qt+="color_even";V4qt="stx_hollow_candle_do";V4qt+="w";V4qt+="n";R4qt="b";R4qt+="ord";R4qt+="er_color";R4qt+="_up";N4qt="stx_h";N4qt+="ollow";N4qt+="_candle_up";r4qt="sh";r4qt+="adow";A4qt="h";A4qt+="ollo";A4qt+="w";c4qt="border_";c4qt+="col";c4qt+="or_u";c4qt+="p";J4qt="f";J4qt+="ill_";J4qt+="col";J4qt+="or_down";K4qt="stx_ca";K4qt+="n";K4qt+="dl";K4qt+="e_down";o4qt="border_color";o4qt+="_up";m4qt="fill_";m4qt+="colo";m4qt+="r_up";z4qt="ca";z4qt+="ndl";z4qt+="e";C4qt="border_color";C4qt+="_ev";C4qt+="en";U4qt="can";U4qt+="d";U4qt+="le";F4qt="sh";F4qt+="a";F4qt+="do";F4qt+="w";Z4qt="ca";Z4qt+="n";Z4qt+="d";Z4qt+="le";P4qt="border_c";P4qt+="o";P4qt+="lor_up";S4qt="sh";S4qt+="ado";S4qt+="w";w4qt="sh";w4qt+="a";w4qt+="dow";D4qt="stx_ba";D4qt+="r";D4qt+="_";D4qt+="even";G4qt="b";G4qt+="a";G4qt+="r";k4qt="border";k4qt+="_c";k4qt+="ol";k4qt+="or";n4qt="bord";n4qt+="er_co";n4qt+="lor_down";Q4qt="fill_color_";Q4qt+="d";Q4qt+="own";a4qt="hist";a4qt+="ogram";O4qt="fi";O4qt+="l";O4qt+="l_col";O4qt+="or_up";d4qt="h";d4qt+="istogram";z7H=1;Y7H=2;l4H=4;R7H=8;I7H=16;u4H=+"32";return [{type:d4qt,drawType:"histogram",style:"stx_histogram_up",condition:R7H,fill:O4qt,border:"border_color_up",useColorInMap:!0,useBorderStyleProp:! ![]},{type:a4qt,drawType:"histogram",style:"stx_histogram_down",condition:I7H,fill:Q4qt,border:n4qt,useColorInMap:!0,useBorderStyleProp:! ![]},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:u4H,fill:"fill_color_even",border:"border_color_even",skipIfPass:!"",useColorInMap:!"",useBorderStyleProp:! !{}},{type:"bar",drawType:"bar",style:q4H || "stx_bar_chart",border:k4qt,useColorInMap:! ![]},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:F4H?R7H:z7H,border:"border_color_up",useColorInMap:! !{}},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:F4H?I7H:Y7H,border:"border_color_down",useColorInMap:! !{}},{type:"bar",drawType:G4qt,style:D4qt,condition:F4H?u4H:l4H,border:"border_color_even",skipIfPass:! ![],useColorInMap:! !{}},{type:"candle",drawType:w4qt,style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:S4qt,style:"stx_candle_shadow_up",condition:R7H,border:P4qt},{type:Z4qt,drawType:F4qt,style:"stx_candle_shadow_down",condition:I7H,border:"border_color_down"},{type:U4qt,drawType:"shadow",style:"stx_candle_shadow_even",condition:u4H,border:C4qt,skipIfPass:! ![]},{type:z4qt,drawType:"candle",style:"stx_candle_up",condition:R7H,fill:m4qt,border:o4qt,useColorInMap:!0,useBorderStyleProp:! !"1"},{type:"candle",drawType:"candle",style:K4qt,condition:I7H,fill:J4qt,border:"border_color_down",useColorInMap:! ![],useBorderStyleProp:!""},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:z7H,border:c4qt},{type:A4qt,drawType:r4qt,style:"stx_hollow_candle_down",condition:Y7H,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:l4H,border:"border_color_even",skipIfPass:!""},{type:"hollow",drawType:"candle",style:N4qt,condition:z7H | I7H,fill:"fill_color_up",border:R4qt,useColorInMap:!""},{type:"hollow",drawType:"candle",style:V4qt,condition:Y7H | I7H,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:l4H | I7H,fill:"fill_color_even",border:u4qt,skipIfPass:! ![],useColorInMap:! ![]},{type:j4qt,drawType:"candle",style:"stx_hollow_candle_up",condition:z7H | R7H,fill:"fill_color_up",border:h4qt},{type:p4qt,drawType:"candle",style:I4qt,condition:Y7H | R7H,fill:"fill_color_down",border:B4qt},{type:"hollow",drawType:H4qt,style:q4qt,condition:l4H | R7H,fill:"fill_color_even",border:"border_color_even"}];;};P7H.Renderer.Bars=function(M4H){var v4qt,h4H;v4qt="b";v4qt+="a";v4qt+="r";this.construct(M4H);h4H=this.params;h4H.type=v4qt;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];L8gg.o1Gj();h4H.hlc=h4H.volume=h4H.hollow=h4H.histogram=![];};P7H.inheritsFrom(P7H.Renderer.Bars,P7H.Renderer.OHLC,! !0);P7H.Renderer.HLC=function(U4H){var W4qt,m4H;W4qt="b";W4qt+="ar";L8gg.R1Gj();this.construct(U4H);m4H=this.params;m4H.type=W4qt;m4H.hlc=! !{};this.highLowBars=this.barsHaveWidth=this.standaloneBars=!"";m4H.volume=m4H.hollow=m4H.histogram=! !0;};P7H.inheritsFrom(P7H.Renderer.HLC,P7H.Renderer.Bars,!"1");P7H.Renderer.Shading=function(i4H){this.construct(i4H);this.beenSetup=!1;this.errTimeout=null;this.params.useChartLegend=![];this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=!"";}};P7H.inheritsFrom(P7H.Renderer.Shading,P7H.Renderer.Lines,![]);P7H.Renderer.Shading.requestNew=function(S4H,L4H){var o4H,n4H,X4qt,C4H;o4H=null;n4H=null;for(var k4H=0;k4H < S4H.length;k4H++){X4qt="rangechan";X4qt+="nel";C4H=S4H[k4H];if(C4H == X4qt){o4H="rangechannel";}else if(C4H == "step"){n4H=! !"1";}}if(o4H === null){return null;}return new P7H.Renderer.Shading({params:P7H.extend(L4H,{type:o4H,step:n4H})});};P7H.Renderer.Shading.prototype.setShading=function(y4H){var y3qt,E3qt,x3qt;if(y4H.constructor != Array){L8gg.W5Ld(24);y3qt=-L8gg.K5Ld("473430545",0);E3qt=-1934648982;x3qt=+"2";for(var f3qt=1;L8gg.g5tt(f3qt.toString(),f3qt.toString().length,+"8842") !== y3qt;f3qt++){y4H=[y4H];x3qt+=2;}if(L8gg.g5tt(x3qt.toString(),x3qt.toString().length,76887) !== E3qt){y4H=[y4H];}}this.shading=y4H;};P7H.Renderer.Shading.prototype.draw=function(){var e4qt,Z4H,b4H,B4H,g4qt,T4qt,g4H,e4H,K4H,r4H,w4H,t4H,G4H,A4H,X4H,s4H,x4H,W4H,f4H,N4H,p4H;e4qt="ra";e4qt+="ngecha";e4qt+="n";e4qt+="nel";Z4H=this.stx;b4H=this.params;B4H=Z4H.panels[b4H.panel].chart;if(b4H.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {g4qt="Sha";g4qt+="din";g4qt+="g";T4qt="Hi";T4qt+="g";T4qt+="h";this.beenSetup=! !{};b4H.display=this.seriesParams[+"0"].display;b4H.yAxis=this.seriesParams[0].yAxis;g4H=this.seriesParams[0].color || "auto";e4H=this.seriesParams["0" >> 1209970272].symbol;K4H="";if(e4H){L8gg.S5Ld(2);K4H=L8gg.Q5Ld(".",e4H);}this.removeAllSeries(! ![]);r4H=b4H.name;Z4H.addSeries(null,{symbol:e4H,loadData:! !e4H,field:T4qt,renderer:"Shading",name:r4H,style:"stx_line_up",display:b4H.display,shareYAxis:! ![]});Z4H.addSeries(null,{symbol:e4H,loadData:! !e4H,field:"Low",renderer:g4qt,name:r4H,style:"stx_line_down",display:b4H.display,shareYAxis:! !{}});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:g4H});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");w4H=this;this.errTimeout=setTimeout(function(){L8gg.R1Gj();w4H.errTimeout=null;},10000);}}t4H={};for(G4H=0;G4H < this.seriesParams.length;G4H++){A4H={};if(B4H.series[this.seriesParams[G4H].id]){A4H=P7H.clone(B4H.series[this.seriesParams[G4H].id].parameters);}t4H[this.seriesParams[G4H].id]={parameters:P7H.extend(P7H.extend(A4H,b4H),this.seriesParams[G4H]),yValueCache:this.caches[this.seriesParams[G4H].id]};}function V4H(a4H){var E4H,c4H,P4H;E4H=t4H[a4H];if(E4H){c4H=E4H.parameters.field;P4H=E4H.parameters.subField;L8gg.S5Ld(2);return L8gg.Q5Ld(P4H?(9050 < ("604" * 1,786.26)?(0x1bb3,0x1b10):571.44 > (+"5100",106.85)?(491.05,2880) === (+"763.29",2755)?(368.79,+"0x77a"):".":! ![]) + P4H:"",c4H);}return a4H;}Z4H.drawSeries(B4H,t4H,b4H.yAxis,this);if(B4H.legend && b4H.type == e4qt){if(!B4H.legend.colorMap){B4H.legend.colorMap={};}X4H=b4H.display;s4H=[Z4H.getCanvasColor("stx_line_up"),Z4H.getCanvasColor("stx_line_down")];B4H.legend.colorMap[X4H]={color:s4H,display:X4H,isBase:this == Z4H.mainSeriesRenderer};;}for(G4H in t4H){this.caches[G4H]=t4H[G4H].yValueCache;}for(G4H=0;G4H < this.shading.length;G4H++){x4H=this.shading[G4H];W4H=x4H.color;if(x4H.color == "auto"){W4H=Z4H.defaultColor;}if(!x4H.primary){x4H.primary="Close";}if(!x4H.secondary && this.seriesParams["0" >> 166041280]){x4H.secondary=this.seriesParams[0].field;}if(!x4H.secondary)continue;else if(!t4H[x4H.primary] && x4H.primary != "Close")continue;else if(!t4H[x4H.secondary])continue;else if(x4H.primary == "Close" && b4H.yAxis && b4H.yAxis != B4H.yAxis)continue;f4H=V4H(x4H.primary).split((4052,"197.39" - 0) === 8320?(+"403.76","6.64e+3" >> 1811103456):".");N4H=V4H(x4H.secondary).split(8650 == (+"5425",838)?(!{},4.15e+2):(5330,9129) >= (+"6690",2371)?".":! !{});p4H={topBand:f4H[0],topSubBand:f4H[1],topColor:x4H.greater || W4H || Z4H.containerColor,topAxis:b4H.yAxis,bottomBand:N4H["0" << 1437570080],bottomSubBand:N4H[1],bottomColor:x4H.lesser || W4H || Z4H.containerColor,bottomAxis:x4H.primary == "Close"?null:b4H.yAxis,tension:b4H.tension || B4H.tension,opacity:0.1,step:b4H.step};if(!p4H.topColor && !p4H.bottomColor)continue;if(!b4H.highlight && Z4H.highlightedDraggable){p4H.opacity*=0.3;}P7H.fillIntersecting(Z4H,b4H.panel,p4H);}};P7H.Renderer.Histogram=function(d4H){var i4qt;i4qt="h";i4qt+="isto";L8gg.o1Gj();i4qt+="gram";this.construct(d4H);this.params.type=i4qt;this.barsHaveWidth=this.standaloneBars=!0;if(this.params.yAxis){this.params.bindToYAxis=! !{};if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};P7H.inheritsFrom(P7H.Renderer.Histogram,P7H.Renderer,![]);P7H.Renderer.Histogram.prototype.adjustYAxis=function(){L8gg.o1Gj();var D4H;D4H=this.params.yAxis;if(!D4H || D4H.baseline){return;}D4H.min=0;D4H.highValue/=this.params.heightPercentage || "1" << 1869343968;};P7H.Renderer.Histogram.prototype.draw=function(){var J4H,Q4H,l4qt,v4H,H4H;J4H=P7H.clone(this.params);J4H.type=J4H.subtype;this.useSum=J4H.subtype == "stacked";if(!J4H.yAxis || J4H.yAxis == this.stx.chart.yAxis){J4H.bindToYAxis=! ![];}L8gg.R1Gj();this.stx.drawHistogram(J4H,this.seriesParams);Q4H=J4H.yAxis && J4H.yAxis.baseline;if(Q4H && Q4H.color){l4qt="l";l4qt+="i";l4qt+="ne";v4H=this.stx.panels[this.params.panel];H4H=this.stx.pixelFromPrice(Q4H.value,v4H,this.params.yAxis) - 0.5;this.stx.plotLine({x0:v4H.left,x1:v4H.right,y0:H4H,y1:H4H,color:Q4H.color,type:l4qt,context:v4H.chart.context,confineToPanel:v4H,pattern:Q4H.pattern || "solid",lineWidth:Q4H.lineWidth || 1,opacity:Q4H.opacity || 0.8,globalCompositeOperation:"destination-over"});}};P7H.Renderer.Histogram.prototype.getBasis=function(I4H,z4H,Y4H){var O4H,y4qt,R4H,T4H;O4H=0;L8gg.o1Gj();if(I4H && this.useSum){for(var j4H=0;j4H < this.seriesParams.length;j4H++){y4qt="C";y4qt+="l";y4qt+="ose";R4H=this.seriesParams[j4H].field;if(R4H === z4H)break;T4H=I4H[R4H];if(T4H && typeof T4H === "object"){T4H=T4H[Y4H || this.seriesParams[j4H].subField || this.stx.chart.defaultPlotField || y4qt];}if(T4H){O4H+=T4H;}}}return O4H;};P7H.Renderer.Heatmap=function(l2H){var E4qt;E4qt="h";E4qt+="e";E4qt+="atma";E4qt+="p";this.construct(l2H);this.params.type=E4qt;this.params.highlightable=!{};this.barsHaveWidth=this.standaloneBars=! !{};};P7H.inheritsFrom(P7H.Renderer.Heatmap,P7H.Renderer,!"1");P7H.Renderer.Heatmap.requestNew=function(q2H,M2H){L8gg.o1Gj();var u2H,x4qt,h2H;u2H=null;for(var F2H="0" - 0;F2H < q2H.length;F2H++){x4qt="h";x4qt+="ea";x4qt+="t";x4qt+="map";h2H=q2H[F2H];if(h2H == x4qt){u2H="heatmap";}}if(u2H === null){return null;}return new P7H.Renderer.Heatmap({params:P7H.extend(M2H,{type:u2H})});};P7H.Renderer.Heatmap.prototype.draw=function(){L8gg.R1Gj();this.stx.drawHeatmap(P7H.clone(this.params),this.seriesParams);};P7H.Renderer.Scatter=function(m2H){this.construct(m2H);L8gg.o1Gj();this.standaloneBars=this.barsHaveWidth=! !"1";this.bounded=! !{};};P7H.inheritsFrom(P7H.Renderer.Scatter,P7H.Renderer.Lines,! !0);P7H.Renderer.Scatter.requestNew=function(o2H,n2H){var U2H,f4qt,M4qt,k2H;U2H=null;for(var i2H=+"0";i2H < o2H.length;i2H++){f4qt="sca";f4qt+="tter";M4qt="scatte";M4qt+="rpl";M4qt+="ot";k2H=o2H[i2H];if(k2H == M4qt){U2H=f4qt;}}if(U2H === null){return null;}return new P7H.Renderer.Scatter({params:P7H.extend(n2H,{type:U2H})});};P7H.Renderer.Scatter.prototype.drawIndividualSeries=function(y2H,S2H){var L2H,C2H;L2H=this.stx.panels[S2H.panel] || y2H.panel;C2H={colors:[]};if(this.stx.scatter){C2H=this.stx.scatter(L2H,S2H);}else {console.warn("Error, Scatter renderer requires customChart.js");}L8gg.R1Gj();return C2H;};};R8A=x2H=>{var b2H;b2H=typeof _CIQ !== "undefined"?_CIQ:x2H.CIQ;if(!b2H.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {b2H.Studies.calculateAccumulationDistribution=function(r2H,t2H){var W2H,Y5qt,s5qt,G2H,B2H,e2H,p2H;W2H=t2H.chart.scrubbed;for(var Z2H=t2H.startFrom;Z2H < W2H.length;Z2H++){Y5qt="Resu";Y5qt+="l";Y5qt+="t";Y5qt+=" ";s5qt="R";s5qt+="esult";s5qt+=" ";if(!Z2H)continue;G2H=W2H[Z2H];if(G2H.futureTick)break;L8gg.S5Ld(6);B2H=W2H[L8gg.Q5Ld(Z2H,1)];e2H=0;if(G2H.Close > B2H.Close){e2H=G2H.Close - Math.min(G2H.Low,B2H.Close);}else if(G2H.Close < B2H.Close){e2H=G2H.Close - Math.max(G2H.High,B2H.Close);}if(t2H.inputs["Use Volume"]){e2H*=G2H.Volume;}p2H=B2H[s5qt + t2H.name];if(!p2H){p2H=0;}p2H+=e2H;if(!isNaN(G2H.Close)){G2H[Y5qt + t2H.name]=p2H;}}};b2H.Studies.studyLibrary=b2H.extend(b2H.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:b2H.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":! !0}}});}};I8A=X2H=>{var b5qt,A2H,Z5qt,P5qt,S5qt;b5qt="undefin";b5qt+="e";b5qt+="d";L8gg.R1Gj();A2H=typeof _CIQ !== b5qt?_CIQ:X2H.CIQ;if(!A2H.Studies){console.error("adx feature requires first activating studies feature.");}else {Z5qt="#0";Z5qt+="0D";Z5qt+="D00";P5qt="#";P5qt+="FF00";P5qt+="00";S5qt="#00F";S5qt+="F00";A2H.Studies.calculateADX=function(T2H,f2H){var D2Gj=L8gg;var t5qt,K2H,w2H,s2H,a2H,c2H,d2H,D2H,N2H,a5qt,O5qt,V2H,E2H,L5qt,d5qt,J2H,Q2H,v2H,Q5qt,k5qt,n5qt,H2H,G5qt;t5qt="Smoothing P";t5qt+="eriod";A2H.Studies.calculateStudyATR(T2H,f2H);K2H=f2H.chart.scrubbed;w2H=f2H.days;s2H=parseInt(f2H.inputs[t5qt],"10" ^ 0);if(!s2H && s2H !== ("0" & 2147483647)){s2H=w2H;}if(K2H.length < f2H.days + 1){f2H.error=!0;return;}a2H=0;c2H=0;D2Gj.S5Ld(35);d2H=D2Gj.Q5Ld(2105086336,"0");D2H=0;for(var g2H=Math.max(1,f2H.startFrom);g2H < K2H.length;g2H++){a5qt="+";a5qt+="D";a5qt+="I";a5qt+=" ";O5qt="_s";O5qt+="m+DM ";N2H=K2H[g2H];V2H=Math.max(0,N2H.High - K2H[g2H - 1].High);E2H=Math.max(0,K2H[g2H - 1].Low - N2H.Low);if(V2H > E2H){E2H=0;}else if(E2H > V2H){V2H=0;}else {V2H=E2H=+"0";}if(g2H <= w2H){L5qt="True";L5qt+=" Range ";c2H+=V2H;d2H+=E2H;a2H+=N2H[L5qt + f2H.name];}else {d5qt="Tru";d5qt+="e Ra";d5qt+="n";d5qt+="ge ";D2Gj.S5Ld(69);var J0zt=D2Gj.Q5Ld(16,14,32,0,6);D2Gj.S5Ld(80);var c0zt=D2Gj.K5Ld(1,8,7,0);c2H=K2H[g2H - J0zt]["_sm+DM " + f2H.name] * (w2H - c0zt) / w2H + V2H;D2Gj.S5Ld(112);var A0zt=D2Gj.K5Ld(2,17,67,16);D2Gj.W5Ld(6);var r0zt=D2Gj.Q5Ld(16,15);d2H=K2H[g2H - A0zt]["_sm-DM " + f2H.name] * (w2H - r0zt) / w2H + E2H;D2Gj.S5Ld(42);var N0zt=D2Gj.K5Ld(1,2);a2H=K2H[g2H - ("1" | 0)]["_smTR " + f2H.name] * (w2H - N0zt) / w2H + N2H[d5qt + f2H.name];}N2H[O5qt + f2H.name]=c2H;N2H["_sm-DM " + f2H.name]=d2H;N2H["_smTR " + f2H.name]=a2H;if(g2H < w2H)continue;D2Gj.W5Ld(113);J2H=D2Gj.K5Ld(a2H,c2H,100);D2Gj.W5Ld(113);Q2H=D2Gj.K5Ld(a2H,d2H,100);D2Gj.S5Ld(22);var R0zt=D2Gj.K5Ld(93,930,10,4,6);v2H=R0zt * Math.abs(J2H - Q2H) / (J2H + Q2H);N2H[a5qt + f2H.name]=J2H;N2H["-DI " + f2H.name]=Q2H;if(f2H.inputs.Series !== ![] && s2H){if(g2H < w2H + s2H - 1){if(g2H == f2H.startFrom){for(var P2H=w2H;P2H < f2H.startFrom;P2H++){D2Gj.W5Ld(6);var V0zt=D2Gj.K5Ld(800,700);D2H+=V0zt * Math.abs(K2H[P2H]["+DI " + f2H.name] - K2H[P2H]["-DI " + f2H.name]) / (K2H[P2H]["+DI " + f2H.name] + K2H[P2H]["-DI " + f2H.name]);}}D2H+=v2H;}else if(g2H == w2H + s2H - 1){Q5qt="A";Q5qt+="D";Q5qt+="X ";D2Gj.W5Ld(16);N2H[Q5qt + f2H.name]=D2Gj.K5Ld(D2H,s2H);}else {D2Gj.S5Ld(38);var u0zt=D2Gj.K5Ld(0,13,221,17);D2Gj.S5Ld(114);var j0zt=D2Gj.Q5Ld(34,1,17,16,9);N2H["ADX " + f2H.name]=(K2H[g2H - u0zt]["ADX " + f2H.name] * (s2H - j0zt) + v2H) / s2H;}}if(f2H.inputs.Histogram){k5qt="+";k5qt+="D";k5qt+="I";k5qt+=" ";n5qt="_h";n5qt+="i";n5qt+="st";H2H=f2H.name + n5qt;if(!N2H[k5qt + f2H.name] && N2H["+DI " + f2H.name] !== 0)continue;if(!N2H["-DI " + f2H.name] && N2H["-DI " + f2H.name] !== 0)continue;N2H[H2H]=N2H["+DI " + f2H.name] - N2H["-DI " + f2H.name];if(f2H.inputs.Series === !1){G5qt="-DI";G5qt+=" ";N2H["+DI " + f2H.name]=null;N2H[G5qt + f2H.name]=null;}f2H.outputMap[H2H]="";}}};A2H.Studies.displayADX=function(O2H,j2H,l6H){var w5qt,u6H,D5qt,R2H,I2H,F6H,q6H,z2H,Y2H;w5qt=":";w5qt+=" ";u6H=j2H.underlay?0.3:j2H.inputs.Series?0.4:+"1";if(j2H.inputs.Series && j2H.inputs.Shading){D5qt="-D";D5qt+="I ";R2H="+DI " + j2H.name;I2H=D5qt + j2H.name;F6H=A2H.Studies.determineColor(j2H.outputs[j2H.outputMap[R2H]]);q6H=A2H.Studies.determineColor(j2H.outputs[j2H.outputMap[I2H]]);z2H=j2H.getYAxis(O2H);Y2H={topBand:R2H,bottomBand:I2H,topColor:F6H,bottomColor:q6H,skipTransform:O2H.panels[j2H.panel].name != j2H.chart.name,topAxis:z2H,bottomAxis:z2H,opacity:0.3};if(!j2H.highlight && O2H.highlightedDraggable){Y2H.opacity*=0.3;}A2H.fillIntersecting(O2H,j2H.panel,Y2H);}if(j2H.inputs.Histogram){A2H.Studies.createHistogram(O2H,j2H,l6H,!{},u6H);}if(j2H.inputs.Series !== !{}){A2H.Studies.displaySeriesAsLine(O2H,j2H,l6H);}else if(!j2H.inputs.Series && !j2H.inputs.Histogram){O2H.displayErrorAsWatermark(j2H.panel,O2H.translateIf(j2H.name) + w5qt + O2H.translateIf("Nothing to display"));}};A2H.Studies.studyLibrary=A2H.extend(A2H.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:A2H.Studies.calculateADX,seriesFN:A2H.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:! !{},Shading:!"1",Histogram:!{}},outputs:{"+DI":S5qt,"-DI":P5qt,ADX:"auto","Positive Bar":Z5qt,"Negative Bar":"#FF0000"}}});}};l1A=M6H=>{var h6H;h6H=typeof _CIQ !== "undefined"?_CIQ:M6H.CIQ;if(!h6H.Studies){console.error("alligator feature requires first activating studies feature.");}else {h6H.Studies.calculateAlligator=function(S6H,i6H){var o2Gj=L8gg;var F5qt,o6H,m6H,u5qt,V5qt,R5qt,N5qt,r5qt,C5qt,U5qt,E0qt,x0qt,M0qt,K5qt,o5qt,m5qt,z5qt,A5qt,c5qt,J5qt,j5qt,p5qt,h5qt,n6H,C6H,k6H,I5qt;F5qt="Lips Pe";F5qt+="riod";o6H={J:Number(i6H.inputs["Jaw Period"]),T:Number(i6H.inputs["Teeth Period"]),L:Number(i6H.inputs[F5qt])};m6H=i6H.chart.scrubbed;if(m6H.length < Math.max(o6H.J,o6H.T,o6H.L) + 1){i6H.error=! !{};return;}if(i6H.type === "Gator" || i6H.inputs["Show Lines"]){u5qt="L";u5qt+="i";u5qt+="ps";V5qt="Lips ";V5qt+="Offs";V5qt+="et";R5qt="h";R5qt+="l/2";N5qt="T";N5qt+="e";N5qt+="et";N5qt+="h";r5qt="Tee";r5qt+="th";r5qt+=" Offse";r5qt+="t";C5qt="hl/";C5qt+="2";U5qt="wel";U5qt+="les";U5qt+=" wilder";h6H.Studies.MA(U5qt,o6H.J,C5qt,i6H.inputs["Jaw Offset"],"Jaw",S6H,i6H);E0qt=- +"2051819486";x0qt=2026863408;M0qt=2;for(var s9qt=1;o2Gj.g5tt(s9qt.toString(),s9qt.toString().length,44665) !== E0qt;s9qt++){K5qt="L";K5qt+="i";K5qt+="p";K5qt+="s";o5qt="h";o5qt+="l";o5qt+="/";o5qt+="2";m5qt="h";m5qt+="l";m5qt+="/2";z5qt="L";z5qt+="i";z5qt+="ps";h6H.Studies.MA("hl/2",o6H.T,"Lips Offset",i6H.inputs["hl/2"],"Lips Offset",S6H,i6H);h6H.Studies.MA(z5qt,o6H.L,m5qt,i6H.inputs[o5qt],K5qt,S6H,i6H);M0qt+=2;}if(o2Gj.T5tt(M0qt.toString(),M0qt.toString().length,18179) !== x0qt){A5qt="hl";A5qt+="/2";c5qt="h";c5qt+="l/";c5qt+="2";J5qt="h";J5qt+="l";J5qt+="/2";h6H.Studies.MA("Lips Offset",o6H.T,J5qt,i6H.inputs["Lips Offset"],c5qt,S6H,i6H);h6H.Studies.MA("Lips",o6H.L,A5qt,i6H.inputs["hl/2"],"hl/2",S6H,i6H);}h6H.Studies.MA("welles wilder",o6H.T,"hl/2",i6H.inputs[r5qt],N5qt,S6H,i6H);h6H.Studies.MA("welles wilder",o6H.L,R5qt,i6H.inputs[V5qt],u5qt,S6H,i6H);}for(var U6H=i6H.startFrom;U6H < m6H.length;U6H++){j5qt="G";j5qt+="a";j5qt+="t";j5qt+="or";if(!m6H[U6H])continue;if(i6H.type == j5qt){p5qt="_";p5qt+="hist2";h5qt="L";h5qt+="i";h5qt+="p";h5qt+="s ";n6H=m6H[U6H]["Jaw " + i6H.name];C6H=m6H[U6H][h5qt + i6H.name];k6H=m6H[U6H]["Teeth " + i6H.name];if(k6H || k6H === 0){if(n6H || n6H === 0){o2Gj.S5Ld(6);m6H[U6H][i6H.name + "_hist1"]=Math.abs(o2Gj.K5Ld(n6H,k6H));}if(C6H || C6H === +"0"){o2Gj.S5Ld(6);m6H[U6H][i6H.name + "_hist2"]=-Math.abs(o2Gj.Q5Ld(k6H,C6H));}}i6H.outputMap={};i6H.outputMap[i6H.name + "_hist1"]="";i6H.outputMap[i6H.name + p5qt]="";}if(i6H.inputs["Show Fractals"]){if(!m6H[U6H - ("2" << 16410240)] || !m6H[U6H - 1] || !m6H[U6H] || !m6H[U6H + 1] || !m6H[U6H + 2])continue;if(m6H[U6H - 2].High && m6H[U6H - ("1" >> 559319968)].High && m6H[U6H].High && m6H[U6H + 1].High && m6H[U6H + 2].High){if(m6H[U6H].High > m6H[U6H - 1].High && m6H[U6H].High > m6H[U6H - 2].High && m6H[U6H].High > m6H[U6H + 1].High && m6H[U6H].High > m6H[U6H + 2].High){m6H[U6H]["Fractal High " + i6H.name]=1;}}if(m6H[U6H - 2].Low && m6H[U6H - 1].Low && m6H[U6H].Low && m6H[U6H + 1].Low && m6H[U6H + 2].Low){if(m6H[U6H].Low < m6H[U6H - 1].Low && m6H[U6H].Low < m6H[U6H - 2].Low && m6H[U6H].Low < m6H[U6H + 1].Low && m6H[U6H].Low < m6H[U6H + 2].Low){I5qt="Fracta";I5qt+="l Low ";m6H[U6H][I5qt + i6H.name]=1;}}}}};h6H.Studies.displayAlligator=function(L6H,x6H,G6H){var X5qt,W5qt,y6H,T5qt;X5qt="Show Fr";X5qt+="actals";W5qt="Sho";W5qt+="w Lines";y6H=x6H.getContext(L6H);if(x6H.inputs[W5qt]){h6H.Studies.displaySeriesAsLine(L6H,x6H,G6H);}if(x6H.inputs[X5qt]){L6H.startClip();y6H.globalAlpha=x6H.underlay?0.3:"1" - 0;if(!x6H.highlight && L6H.highlightedDraggable){y6H.globalAlpha*=0.3;}for(var b6H=2;b6H < G6H.length - 2;b6H++){if(G6H[b6H]){T5qt="h";T5qt+="i";T5qt+="g";T5qt+="h";if(G6H[b6H]["Fractal High " + x6H.name]){Z6H(T5qt,b6H);}if(G6H[b6H]["Fractal Low " + x6H.name]){Z6H("low",b6H);}}}L6H.endClip();}L8gg.R1Gj();function Z6H(e6H,p6H){L8gg.o1Gj();var B5qt,t6H,B6H,H5qt,v5qt,q5qt;B5qt="h";B5qt+="i";B5qt+="g";B5qt+="h";B6H=L6H.chart.panel.yAxis.flipped;if(e6H == B5qt){H5qt="t";H5qt+="o";H5qt+="p";y6H.fillStyle=L6H.defaultColor;y6H.textBaseline=B6H?H5qt:"bottom";t6H=L6H.pixelFromPrice(G6H[p6H].High);y6H.fillText(B6H?"\u25BC":"\u25B2",L6H.pixelFromBar(b6H,L6H.chart) - y6H.measureText((663.37,877.81) != (650.72,7670)?"\u25B2":(9569,5210) > (746.78,9883)?("O",9.19e+3):673 >= (6460,9503)?493:![]).width / 2 + 1,B6H?t6H + 5:t6H - +"5");;}else if(e6H == "low"){v5qt="t";v5qt+="o";v5qt+="p";q5qt="botto";q5qt+="m";y6H.fillStyle=L6H.defaultColor;y6H.textBaseline=B6H?q5qt:v5qt;t6H=L6H.pixelFromPrice(G6H[p6H].Low);y6H.fillText(B6H?(443.75,982.47) != (+"4629",3596)?"\u25B2":(278.68,0x17fd):"4370" - 0 <= (620.91,6030)?"\u25BC":("M",+"925.37"),L6H.pixelFromBar(b6H,L6H.chart) - y6H.measureText((4160,635.45) !== +"9992"?9290 != +"8400"?("3870" & 2147483647) < 248.8?"z":"\u25BC":+"1.63e+3":("k",+"233.81")).width / 2 + ("1" << 354597856),B6H?t6H - 5:t6H + ("5" << 1685937088));;}}};h6H.Studies.displayGator=function(r6H,W6H,s6H){var g5qt,w6H,X6H,V6H,E6H,g6H,P6H,a6H,N6H,K6H,l5qt,i5qt,e5qt;g5qt="#CC";g5qt+="CCCC";w6H=r6H.panels[W6H.panel];X6H=W6H.getContext(r6H);V6H=W6H.getYAxis(r6H);E6H=r6H.pixelFromPrice(0,w6H,V6H);g6H=r6H.layout.candleWidth - +"2";if(g6H < 2){g6H=1;}P6H=h6H.Studies.determineColor(W6H.outputs["Increasing Bar"]);a6H=h6H.Studies.determineColor(W6H.outputs["Decreasing Bar"]);r6H.canvasColor("stx_histogram");if(!W6H.underlay){X6H.globalAlpha=1;}X6H.fillStyle=g5qt;r6H.startClip(W6H.panel);if(!W6H.highlight && r6H.highlightedDraggable){X6H.globalAlpha*=0.3;}for(var f6H=0;f6H < s6H.length;f6H++){N6H=s6H[f6H];L8gg.W5Ld(6);K6H=s6H[L8gg.K5Ld(f6H,1)];if(!N6H)continue;for(var A6H=1;A6H <= "2" >> 1890458688;A6H++){l5qt="_h";l5qt+="i";l5qt+="s";l5qt+="t";i5qt="#";i5qt+="CCCC";i5qt+="CC";e5qt="_h";e5qt+="i";e5qt+="s";e5qt+="t";if(!K6H){K6H=r6H.getPreviousBar(r6H.chart,W6H.name + e5qt + A6H,f6H);}if(!K6H){X6H.fillStyle=i5qt;}else if(Math.abs(K6H[W6H.name + "_hist" + A6H]) < Math.abs(N6H[W6H.name + l5qt + A6H])){X6H.fillStyle=P6H;}else if(Math.abs(K6H[W6H.name + "_hist" + A6H]) > Math.abs(N6H[W6H.name + "_hist" + A6H])){X6H.fillStyle=a6H;}if(N6H.candleWidth){g6H=Math.floor(Math.max(1,N6H.candleWidth - 2));}X6H.fillRect(Math.floor(r6H.pixelFromBar(f6H,w6H.chart) - g6H / +"2"),Math.floor(E6H),Math.floor(g6H),Math.floor(r6H.pixelFromPrice(N6H[W6H.name + "_hist" + A6H],w6H,V6H) - E6H));}}r6H.endClip();};h6H.Studies.studyLibrary=h6H.extend(h6H.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !"1",seriesFN:h6H.Studies.displayAlligator,calculateFN:h6H.Studies.calculateAlligator,inputs:{"Show Lines":!"","Jaw Period":"13" << 1609525184,"Jaw Offset":"8" & 2147483647,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!"1"},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:h6H.Studies.displayGator,calculateFN:h6H.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":"3" - 0},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}});}};u1A=d6H=>{var y5qt,c6H,f5qt;L8gg.R1Gj();y5qt="undef";y5qt+="i";y5qt+="ned";c6H=typeof _CIQ !== y5qt?_CIQ:d6H.CIQ;if(!c6H.Studies){console.error("aroon feature requires first activating studies feature.");}else {f5qt="0 to 10";f5qt+="0";c6H.Studies.calculateAroon=function(F0H,D6H){var t2Gj=L8gg;var T6H,j6H,O6H,Q6H,v6H,E5qt,I6H,H6H,M5qt,x5qt,J6H,z6H,Y6H,l0H,u0H;T6H=D6H.chart.scrubbed;if(T6H.length < D6H.days + 1){D6H.error=! !{};return;}j6H=0;O6H=0;Q6H=null;v6H=null;if(D6H.startFrom > "0" << 1454415104){E5qt="_";E5qt+="stat";E5qt+="e ";t2Gj.W5Ld(112);var h0zt=t2Gj.K5Ld(13,1,131,9);I6H=T6H[D6H.startFrom - h0zt][E5qt + D6H.name];if(I6H){j6H=I6H[0];O6H=I6H[1];Q6H=I6H[2];v6H=I6H[3];}}for(var R6H=D6H.startFrom;R6H < T6H.length;R6H++){M5qt="Aroon ";M5qt+="Oscil";M5qt+="lator ";x5qt="Ar";x5qt+="o";x5qt+="on Up ";J6H=T6H[R6H];if(J6H.futureTick)break;if(Q6H === null){Q6H=J6H.High;}if(v6H === null){v6H=J6H.Low;}Q6H=Math.max(Q6H,J6H.High);if(Q6H == J6H.High){j6H=0;}else {j6H++;if(j6H > D6H.days){Q6H=J6H.High;j6H=0;for(H6H=+"1";H6H <= D6H.days;H6H++){Q6H=Math.max(Q6H,T6H[R6H - H6H].High);if(Q6H == T6H[R6H - H6H].High){j6H=H6H;}}}}v6H=Math.min(v6H,J6H.Low);if(v6H == J6H.Low){O6H=0;}else {O6H++;if(O6H > D6H.days){v6H=J6H.Low;O6H=0;for(H6H=1;H6H <= D6H.days;H6H++){v6H=Math.min(v6H,T6H[R6H - H6H].Low);if(v6H == T6H[R6H - H6H].Low){O6H=H6H;}}}}z6H=!isNaN(J6H.High);Y6H=!isNaN(J6H.Low);t2Gj.W5Ld(6);var p0zt=t2Gj.K5Ld(1900,1800);t2Gj.S5Ld(2);var I0zt=t2Gj.K5Ld(1,0);l0H=p0zt * (I0zt - j6H / D6H.days);if(z6H){J6H[x5qt + D6H.name]=l0H;}t2Gj.S5Ld(78);var B0zt=t2Gj.Q5Ld(11,14,77,2);t2Gj.S5Ld(6);var H0zt=t2Gj.K5Ld(18,17);u0H=B0zt * ("1" * H0zt - O6H / D6H.days);if(Y6H){J6H["Aroon Down " + D6H.name]=u0H;}if(z6H && Y6H){J6H[M5qt + D6H.name]=J6H["Aroon Up " + D6H.name] - J6H["Aroon Down " + D6H.name];}J6H["_state " + D6H.name]=[j6H,O6H,Q6H,v6H];}};c6H.Studies.studyLibrary=c6H.extend(c6H.Studies.studyLibrary,{Aroon:{name:"Aroon",range:f5qt,calculateFN:c6H.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:c6H.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};F1A=h0H=>{var q0H,Q3Dt,a3Dt,O3Dt,d3Dt,L3Dt,t3Dt;q0H=typeof _CIQ !== "undefined"?_CIQ:h0H.CIQ;if(!q0H.Studies){console.error("atr feature requires first activating studies feature.");}else {Q3Dt="#FF00";Q3Dt+="0";Q3Dt+="0";a3Dt="AT";a3Dt+="R Trailing Stops";O3Dt="au";O3Dt+="to";d3Dt="a";d3Dt+="u";d3Dt+="t";d3Dt+="o";L3Dt="a";L3Dt+="u";L3Dt+="to";t3Dt="a";t3Dt+="u";t3Dt+="t";t3Dt+="o";q0H.Studies.calculateATRBands=function(U0H,M0H){var s3Dt,m0H;s3Dt="Clos";s3Dt+="e";q0H.Studies.calculateStudyATR(U0H,M0H);m0H=M0H.inputs.Field;L8gg.o1Gj();if(!m0H || m0H == "field"){m0H=s3Dt;}q0H.Studies.calculateGenericEnvelope(U0H,M0H,M0H.inputs.Shift,m0H,"ATR " + M0H.name);};q0H.Studies.calculateSTARCBands=function(o0H,i0H){var Y3Dt;Y3Dt="A";Y3Dt+="T";Y3Dt+="R";Y3Dt+=" ";q0H.Studies.calculateStudyATR(o0H,i0H);q0H.Studies.MA("simple",i0H.inputs["MA Period"],"Close",+"0","_MA",o0H,i0H);q0H.Studies.calculateGenericEnvelope(o0H,i0H,i0H.inputs.Multiplier,"_MA " + i0H.name,Y3Dt + i0H.name);};q0H.Studies.calculateATRStops=function(B0H,k0H){var m7Gj=L8gg;var b3Dt,L0H,x0H,n0H,Z0H,C0H,S0H,b0H,G0H;b3Dt="A";b3Dt+="ll Sto";b3Dt+="ps";b3Dt+=" ";L0H=k0H.chart.scrubbed;if(!L0H){return;}q0H.Studies.calculateStudyATR(B0H,k0H);x0H=k0H.inputs.HighLow;for(var y0H=Math.max(k0H.startFrom - 1,+"1");y0H < L0H.length - 1;y0H++){n0H=L0H[y0H];m7Gj.S5Ld(6);Z0H=L0H[m7Gj.Q5Ld(y0H,1)];C0H=n0H["Buy Stops " + k0H.name];if(!C0H){C0H=n0H["Sell Stops " + k0H.name];}if(!C0H){C0H=+"0";}if(!n0H || !Z0H)continue;S0H=n0H.Close;b0H=S0H;G0H=n0H["ATR " + k0H.name] * k0H.inputs.Multiplier;if(n0H.Close > C0H && Z0H.Close > C0H){if(x0H){S0H=n0H.High;}m7Gj.W5Ld(6);b0H=Math.max(C0H,m7Gj.Q5Ld(S0H,G0H));}else if(n0H.Close <= C0H && Z0H.Close <= C0H){if(x0H){S0H=n0H.Low;}m7Gj.W5Ld(2);b0H=Math.min(C0H,m7Gj.Q5Ld(G0H,S0H));}else if(n0H.Close > C0H){if(x0H){S0H=n0H.High;}m7Gj.W5Ld(6);b0H=m7Gj.Q5Ld(S0H,G0H);}else if(n0H.Close <= C0H){if(x0H){S0H=n0H.Low;}m7Gj.S5Ld(2);b0H=m7Gj.K5Ld(G0H,S0H);}if(S0H <= b0H){m7Gj.W5Ld(2);L0H[m7Gj.K5Ld(1,y0H)]["Buy Stops " + k0H.name]=b0H;m7Gj.S5Ld(2);delete L0H[m7Gj.Q5Ld(1,y0H)]["Sell Stops " + k0H.name];}else if(S0H > b0H){m7Gj.W5Ld(2);L0H[m7Gj.Q5Ld(1,y0H)]["Sell Stops " + k0H.name]=b0H;m7Gj.W5Ld(2);delete L0H[m7Gj.K5Ld(1,y0H)]["Buy Stops " + k0H.name];}m7Gj.S5Ld(2);L0H[m7Gj.K5Ld(1,y0H)]["All Stops " + k0H.name]=b0H;}k0H.referenceOutput="All Stops";k0H.outputMap={};k0H.outputMap[b3Dt + k0H.name]="";};q0H.Studies.studyLibrary=q0H.extend(q0H.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:q0H.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:! !{},seriesFN:q0H.Studies.displayChannel,calculateFN:q0H.Studies.calculateATRBands,inputs:{Period:+"5",Field:"field",Shift:3,"Channel Fill":! !{}},outputs:{"ATR Bands Top":t3Dt,"ATR Bands Bottom":L3Dt,"ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:! !1,seriesFN:q0H.Studies.displayChannel,calculateFN:q0H.Studies.calculateSTARCBands,inputs:{Period:"15" << 1974762112,"MA Period":+"5",Multiplier:1.3,"Channel Fill":!""},outputs:{"STARC Bands Top":d3Dt,"STARC Bands Median":O3Dt,"STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:a3Dt,overlay:! !1,seriesFN:q0H.Studies.displayPSAR2,calculateFN:q0H.Studies.calculateATRStops,inputs:{Period:21,Multiplier:"3" ^ 0,"Plot Type":["points","squarewave"],HighLow:!{}},outputs:{"Buy Stops":Q3Dt,"Sell Stops":"#00FF00"},attributes:{Multiplier:{min:+"0.1",step:"0.1" * 1}}}});}};q1A=e0H=>{var t0H,f9qt,s6qt,Y6qt,P3Dt;t0H=typeof _CIQ !== "undefined"?_CIQ:e0H.CIQ;if(!t0H.Studies){f9qt=-1116389428;s6qt=2091304237;Y6qt=2;for(var t6qt=1;L8gg.T5tt(t6qt.toString(),t6qt.toString().length,+"19062") !== f9qt;t6qt++){console.error("awesomeOscillator feature requires first activating studies feature.");Y6qt+=2;}if(L8gg.T5tt(Y6qt.toString(),Y6qt.toString().length,46057) !== s6qt){console.error("");}}else {P3Dt="#";P3Dt+="0";P3Dt+="0";P3Dt+="DD00";t0H.Studies.calculateAwesomeOscillator=function(A0H,p0H){var n3Dt,W0H;n3Dt="_";n3Dt+="MA5";W0H=p0H.chart.scrubbed;L8gg.o1Gj();if(W0H.length < +"33"){p0H.error=! !{};return;}t0H.Studies.MA("simple",+"5","hl/2",+"0",n3Dt,A0H,p0H);t0H.Studies.MA("simple",34,"hl/2",0,"_MA34",A0H,p0H);for(var r0H=Math.max(p0H.startFrom,"33" & 2147483647);r0H < W0H.length;r0H++){if(!W0H[r0H])continue;W0H[r0H][p0H.name + "_hist"]=W0H[r0H]["_MA5 " + p0H.name] - W0H[r0H]["_MA34 " + p0H.name];}p0H.outputMap={};p0H.outputMap[p0H.name + "_hist"]="";};t0H.Studies.displayAwesomeOscillator=function(f0H,X0H,E0H){var D3Dt,G3Dt,k3Dt,V0H,N0H,P0H,a0H,w0H,c0H,d0H,S3Dt,w3Dt,K0H,s0H;D3Dt="#C";D3Dt+="CCCCC";G3Dt="Decreas";G3Dt+="i";G3Dt+="n";G3Dt+="g Bar";k3Dt="Incr";k3Dt+="ea";k3Dt+="sing ";k3Dt+="Bar";V0H=f0H.panels[X0H.panel];N0H=X0H.getContext(f0H);P0H=X0H.getYAxis(f0H);a0H=f0H.pixelFromPrice(0,V0H,P0H);L8gg.W5Ld(69);var q0zt=L8gg.K5Ld(15,10,3,17,133);w0H=f0H.layout.candleWidth - q0zt;if(w0H < 2){w0H=1;}c0H=t0H.Studies.determineColor(X0H.outputs[k3Dt]);d0H=t0H.Studies.determineColor(X0H.outputs[G3Dt]);f0H.canvasColor("stx_histogram");if(!X0H.underlay){N0H.globalAlpha=1;}N0H.fillStyle=D3Dt;f0H.startClip(X0H.panel);if(!X0H.highlight && f0H.highlightedDraggable){N0H.globalAlpha*=0.3;}for(var g0H=0;g0H < E0H.length;g0H++){S3Dt="_";S3Dt+="hist";w3Dt="_";w3Dt+="h";w3Dt+="i";w3Dt+="st";K0H=E0H[g0H];L8gg.W5Ld(6);s0H=E0H[L8gg.Q5Ld(g0H,1)];if(!s0H){s0H=f0H.getPreviousBar(f0H.chart,X0H.name + "_hist",g0H);}if(!K0H)continue;if(!s0H);else if(s0H[X0H.name + "_hist"] < K0H[X0H.name + "_hist"]){N0H.fillStyle=c0H;}else if(s0H[X0H.name + w3Dt] > K0H[X0H.name + S3Dt]){N0H.fillStyle=d0H;}if(K0H.candleWidth){w0H=Math.floor(Math.max("1" * 1,K0H.candleWidth - 2));}N0H.fillRect(Math.floor(f0H.pixelFromBar(g0H,V0H.chart) - w0H / +"2"),Math.floor(a0H),Math.floor(w0H),Math.floor(f0H.pixelFromPrice(K0H[X0H.name + "_hist"],V0H,P0H) - a0H));}f0H.endClip();};t0H.Studies.studyLibrary=t0H.extend(t0H.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:t0H.Studies.displayAwesomeOscillator,calculateFN:t0H.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":P3Dt,"Decreasing Bar":"#FF0000"}}});}};h1A=J0H=>{var Z3Dt,D0H,J6qt,c6qt,A6qt,C3Dt,U3Dt;Z3Dt="undefine";Z3Dt+="d";D0H=typeof _CIQ !== Z3Dt?_CIQ:J0H.CIQ;L8gg.R1Gj();if(!D0H.Studies){J6qt=-387564254;c6qt=-1118489260;A6qt=2;for(var N6qt=1;L8gg.T5tt(N6qt.toString(),N6qt.toString().length,77717) !== J6qt;N6qt++){console.error("balanceOfPower feature requires first activating studies feature.");A6qt+=+"2";}if(L8gg.T5tt(A6qt.toString(),A6qt.toString().length,"78972" & 2147483647) !== c6qt){console.error("");}}else {C3Dt="m";C3Dt+="a";U3Dt="-1";U3Dt+=" to 1";D0H.Studies.calculateBalanceOfPower=function(j0H,Q0H){var F3Dt,H0H,v0H;F3Dt="_";F3Dt+="Rat";F3Dt+="i";F3Dt+="o ";H0H=Q0H.chart.scrubbed;if(H0H.length < Q0H.days + 1){Q0H.error=! !{};return;}for(var T0H=Q0H.startFrom;T0H < H0H.length;T0H++){v0H=H0H[T0H];v0H["_Ratio " + Q0H.name]=v0H.Close - v0H.Open;if(v0H.High - v0H.Low !== 0){v0H["_Ratio " + Q0H.name]/=v0H.High - v0H.Low;}}D0H.Studies.MA(Q0H.inputs["Moving Average Type"],Q0H.days,F3Dt + Q0H.name,0,"Result",j0H,Q0H);};D0H.Studies.studyLibrary=D0H.extend(D0H.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:U3Dt,centerline:0,calculateFN:D0H.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":C3Dt}}});}};M1A=R0H=>{var b1Gj=L8gg;b1Gj.o1Gj();var O0H,d2qt,O2qt,a2qt,J3Dt,K3Dt,o3Dt,m3Dt,V3Dt,R3Dt,N3Dt,r3Dt,A3Dt,c3Dt;O0H=typeof _CIQ !== "undefined"?_CIQ:R0H.CIQ;if(!O0H.Studies){console.error("bollinger feature requires first activating studies feature.");}else {O0H.Studies.calculateBollinger=function(Y0H,I0H){var z3Dt,z0H;z3Dt="B";z3Dt+="o";z3Dt+="ll %";z3Dt+="b";z0H=I0H.inputs.Field;if(!z0H || z0H == "field"){z0H="Close";}O0H.Studies.MA(I0H.inputs["Moving Average Type"],I0H.days,z0H,0,"_MA",Y0H,I0H);I0H.std=new O0H.Studies.StudyDescriptor(I0H.name,"STD Dev",I0H.panel);I0H.std.chart=I0H.chart;I0H.std.startFrom=I0H.startFrom;I0H.std.days=I0H.days;I0H.std.inputs={Field:z0H,"Standard Deviations":1,Type:I0H.inputs["Moving Average Type"]};I0H.std.outputs={"_STD Dev":null};O0H.Studies.calculateStandardDeviation(Y0H,I0H.std);O0H.Studies.calculateGenericEnvelope(Y0H,I0H,I0H.inputs["Standard Deviations"],"_MA " + I0H.name,"_STD Dev " + I0H.name);if(I0H.type == z3Dt){I0H.zoneOutput="%b";}};d2qt=-1767099860;b1Gj.S5Ld(21);O2qt=b1Gj.Q5Ld(538479113,"2017454601");a2qt=+"2";for(var n2qt=1;b1Gj.g5tt(n2qt.toString(),n2qt.toString().length,75351) !== d2qt;n2qt++){J3Dt="m";J3Dt+="a";K3Dt="a";K3Dt+="ut";K3Dt+="o";o3Dt="a";o3Dt+="u";o3Dt+="t";o3Dt+="o";m3Dt="a";m3Dt+="u";m3Dt+="to";O0H.Studies.studyLibrary=O0H.extend(O0H.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:! !1,calculateFN:O0H.Studies.calculateBollinger,seriesFN:O0H.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":! ![]},outputs:{"Bollinger Bands Top":m3Dt,"Bollinger Bands Median":o3Dt,"Bollinger Bands Bottom":K3Dt},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:O0H.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":J3Dt},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:+"0",studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:O0H.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":"2" >> 679451456,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}}});a2qt+=2;}if(b1Gj.g5tt(a2qt.toString(),a2qt.toString().length,+"56634") !== O2qt){V3Dt="Bol";V3Dt+="l";V3Dt+="inger Bands ";V3Dt+="Median";R3Dt="Bollinger";R3Dt+=" Band";R3Dt+="s Median";N3Dt="f";N3Dt+="i";N3Dt+="e";N3Dt+="ld";r3Dt="Bo";r3Dt+="l";r3Dt+="l B";r3Dt+="W";A3Dt="au";A3Dt+="to";c3Dt="Moving Avera";c3Dt+="ge T";c3Dt+="ype";O0H.Studies.studyLibrary=O0H.extend(O0H.Studies.studyLibrary,{"Bollinger Bands":{name:c3Dt,overlay:! !"",calculateFN:O0H.Studies.calculateBollinger,seriesFN:O0H.Studies.displayChannel,inputs:{Period:82,Field:"Moving Average Type","Standard Deviations":3,"Moving Average Type":A3Dt,"Channel Fill":![]},outputs:{"Bollinger Bands Top":"Channel Fill","Bollinger Bands Median":"field","Bollinger Bands Bottom":"Moving Average Type"},attributes:{"Standard Deviations":{min:965,step:646}}},"Boll %b":{name:r3Dt,calculateFN:O0H.Studies.calculateBollinger,inputs:{Period:48,Field:"Moving Average Type","Standard Deviations":7,"Moving Average Type":"Standard Deviations"},outputs:{"%b":N3Dt},parameters:{init:{studyOverZonesEnabled:!"1",studyOverBoughtValue:103,studyOverBoughtColor:R3Dt,studyOverSoldValue:1,studyOverSoldColor:V3Dt}},attributes:{"Standard Deviations":{min:471,step:"626" << 1852536672}}},"Boll BW":{name:"Moving Average Type",calculateFN:O0H.Studies.calculateBollinger,inputs:{Period:98,Field:"Moving Average Type","Standard Deviations":8,"Moving Average Type":"Boll BW"},outputs:{Bandwidth:"Moving Average Type"},attributes:{"Standard Deviations":{min:986,step:903}}}});}}};m1A=u8H=>{var l8H,h3Dt;l8H=typeof _CIQ !== "undefined"?_CIQ:u8H.CIQ;if(!l8H.Studies){console.error("cci feature requires first activating studies feature.");}else {h3Dt="C";h3Dt+="ommodity ";h3Dt+="Channel Index";l8H.Studies.calculateCCI=function(i8H,F8H){var h8H,j3Dt,q8H,m8H,u3Dt;h8H=F8H.chart.scrubbed;if(h8H.length < F8H.days + 1){F8H.error=! !"1";return;}l8H.Studies.MA("simple",F8H.days,"hlc/3",0,"MA",i8H,F8H);L8gg.o1Gj();for(var M8H=Math.max(F8H.startFrom,F8H.days - +"1");M8H < h8H.length;M8H++){j3Dt="M";j3Dt+="A";j3Dt+=" ";q8H=h8H[M8H];if(!q8H)continue;m8H=0;for(var U8H=0;U8H < F8H.days;U8H++){u3Dt="h";u3Dt+="lc/";u3Dt+="3";m8H+=Math.abs(h8H[M8H - U8H][u3Dt] - q8H["MA " + F8H.name]);}m8H/=F8H.days;if(Math.abs(m8H) < 0.00000001){q8H["Result " + F8H.name]=0;}else {q8H["Result " + F8H.name]=(q8H["hlc/3"] - q8H[j3Dt + F8H.name]) / (0.015 * m8H);}}};l8H.Studies.studyLibrary=l8H.extend(l8H.Studies.studyLibrary,{CCI:{name:h3Dt,calculateFN:l8H.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};U1A=k8H=>{var p3Dt,o8H,m9qt,o9qt,K9qt,I3Dt,q3Dt;p3Dt="un";p3Dt+="d";p3Dt+="efin";p3Dt+="ed";o8H=typeof _CIQ !== p3Dt?_CIQ:k8H.CIQ;L8gg.o1Gj();if(!o8H.Studies){m9qt=-1346052533;o9qt=1287679583;K9qt=2;for(var c9qt=1;L8gg.g5tt(c9qt.toString(),c9qt.toString().length,91035) !== m9qt;c9qt++){console.error("");K9qt+=2;}if(L8gg.T5tt(K9qt.toString(),K9qt.toString().length,16277) !== o9qt){I3Dt="centerOfGravity fea";I3Dt+="ture requires first a";I3Dt+="ctivating studies feature.";console.error(I3Dt);}}else {q3Dt="Center Of G";q3Dt+="ravity";o8H.Studies.calculateCenterOfGravity=function(Z8H,n8H){var x7Gj=L8gg;var H3Dt,B3Dt,C8H,S8H,x8H,b8H,G8H;H3Dt="Cl";H3Dt+="ose";B3Dt="f";B3Dt+="ield";C8H=n8H.chart.scrubbed;if(C8H.length < n8H.days){n8H.error=!"";return;}S8H=n8H.inputs.Field;if(!S8H || S8H == B3Dt){S8H=H3Dt;}for(var L8H=Math.max(n8H.startFrom,n8H.days - ("1" >> 714477824));L8H < C8H.length;L8H++){x8H=0;x7Gj.S5Ld(6);b8H=x7Gj.K5Ld("0",0);for(var y8H=0;y8H < n8H.days;y8H++){x7Gj.W5Ld(6);G8H=C8H[x7Gj.K5Ld(L8H,y8H)][S8H];x7Gj.S5Ld(115);x8H-=x7Gj.K5Ld(G8H,y8H,"1");b8H+=G8H;}if(b8H){x7Gj.W5Ld(16);C8H[L8H]["Result " + n8H.name]=x7Gj.K5Ld(x8H,b8H);}}};o8H.Studies.studyLibrary=o8H.extend(o8H.Studies.studyLibrary,{COG:{name:q3Dt,calculateFN:o8H.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};i1A=t8H=>{var B8H;L8gg.R1Gj();B8H=typeof _CIQ !== "undefined"?_CIQ:t8H.CIQ;if(!B8H.Studies){console.error("chaikin feature requires first activating studies feature.");}else {B8H.Studies.calculateChaikinMoneyFlow=function(f8H,W8H){var a7Gj=L8gg;var e8H,A8H,r8H,X8H,X3Dt,W3Dt,v3Dt,i3Dt,e3Dt,g3Dt,T3Dt;e8H=W8H.chart.scrubbed;if(e8H.length < W8H.days){W8H.error=! ![];return;}A8H=0;r8H=0;X8H=e8H[W8H.startFrom - ("1" | 0)];a7Gj.o1Gj();if(X8H){X3Dt="_";X3Dt+="sumV ";W3Dt="_";W3Dt+="sum";W3Dt+="V ";v3Dt="_";v3Dt+="sumMF ";if(X8H["_sumMF " + W8H.name]){A8H=X8H[v3Dt + W8H.name];}if(X8H[W3Dt + W8H.name]){r8H=X8H[X3Dt + W8H.name];}}for(var p8H=W8H.startFrom;p8H < e8H.length;p8H++){i3Dt="_";i3Dt+="su";i3Dt+="mV";i3Dt+=" ";e3Dt="_M";e3Dt+="FV ";g3Dt="_M";g3Dt+="FV";g3Dt+=" ";T3Dt="_MF";T3Dt+="V";T3Dt+=" ";if(e8H[p8H].High == e8H[p8H].Low){e8H[p8H][T3Dt + W8H.name]=0;}else {a7Gj.W5Ld(15);var v0zt=a7Gj.K5Ld(3,19,20,38);e8H[p8H][g3Dt + W8H.name]=e8H[p8H].Volume * (v0zt * e8H[p8H].Close - e8H[p8H].High - e8H[p8H].Low) / (e8H[p8H].High - e8H[p8H].Low);}A8H+=e8H[p8H][e3Dt + W8H.name];r8H+=e8H[p8H].Volume;if(p8H > W8H.days - 1){A8H-=e8H[p8H - W8H.days]["_MFV " + W8H.name];r8H-=e8H[p8H - W8H.days].Volume;if(r8H){a7Gj.W5Ld(16);e8H[p8H]["Result " + W8H.name]=a7Gj.Q5Ld(A8H,r8H);}}e8H[p8H]["_sumMF " + W8H.name]=A8H;e8H[p8H][i3Dt + W8H.name]=r8H;}};B8H.Studies.calculateChaikinVolatility=function(s8H,N8H){var i7Gj=L8gg;var E3Dt,y3Dt,l3Dt,K8H,o3qt,K3qt,J3qt,g8H,w8H,x3Dt;E3Dt="_";E3Dt+="M";E3Dt+="A";y3Dt="_H";y3Dt+="igh-Lo";y3Dt+="w ";l3Dt="Mo";l3Dt+="ving Average";l3Dt+=" ";l3Dt+="Type";K8H=N8H.chart.scrubbed;if(K8H.length < N8H.days){o3qt=1362640486;K3qt=-108512644;J3qt=2;for(var A3qt=1;i7Gj.g5tt(A3qt.toString(),A3qt.toString().length,"66045" * 1) !== o3qt;A3qt++){N8H.error=! !"1";return;}if(i7Gj.T5tt(J3qt.toString(),J3qt.toString().length,76732) !== K3qt){N8H.error=![];return;}}for(g8H=N8H.startFrom;g8H < K8H.length;g8H++){if(K8H[g8H].futureTick)break;K8H[g8H]["_High-Low " + N8H.name]=K8H[g8H].High - K8H[g8H].Low;}B8H.Studies.MA(N8H.inputs[l3Dt],N8H.days,y3Dt + N8H.name,0,E3Dt,s8H,N8H);w8H=N8H.inputs["Rate Of Change"];if(!w8H){w8H=N8H.days;}i7Gj.o1Gj();for(g8H=Math.max(N8H.startFrom,w8H);g8H < K8H.length;g8H++){x3Dt="_";x3Dt+="M";x3Dt+="A";x3Dt+=" ";if(!K8H[g8H - w8H][x3Dt + N8H.name])continue;if(K8H[g8H].futureTick)break;i7Gj.S5Ld(5);var W0zt=i7Gj.Q5Ld(1900,14,1796,18);i7Gj.S5Ld(42);var X0zt=i7Gj.K5Ld(8,9);K8H[g8H]["Result " + N8H.name]=W0zt * (K8H[g8H]["_MA " + N8H.name] / K8H[g8H - w8H]["_MA " + N8H.name] - X0zt);}};B8H.Studies.studyLibrary=B8H.extend(B8H.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:B8H.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:B8H.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};o1A=E8H=>{var M3Dt,V8H,f3Dt;M3Dt="undefi";M3Dt+="ned";V8H=typeof _CIQ !== M3Dt?_CIQ:E8H.CIQ;if(!V8H.Studies){console.error("chande feature requires first activating studies feature.");}else {f3Dt="varia";f3Dt+="bl";f3Dt+="e";V8H.Studies.prettify.variable="vma";V8H.Studies.movingAverage.conversions.vma=f3Dt;V8H.Studies.movingAverage.translations.variable="Variable";V8H.Studies.movingAverage.typeMap.vma="Variable";V8H.Studies.movingAverage.typeMap.variable="Variable";V8H.Studies.calculateChandeForecast=function(J8H,P8H){var b2Dt,Y2Dt,s2Dt,a8H,c8H,t2Dt,D8H;b2Dt="time seri";b2Dt+="es";Y2Dt="Cl";Y2Dt+="o";Y2Dt+="se";s2Dt="fiel";s2Dt+="d";a8H=P8H.chart.scrubbed;if(a8H.length < P8H.days + 1){P8H.error=!"";return;}c8H=P8H.inputs.Field;if(!c8H || c8H == s2Dt){c8H=Y2Dt;}V8H.Studies.MA(b2Dt,P8H.days,c8H,0,"MA",J8H,P8H);for(var d8H=Math.max(1,P8H.startFrom);d8H < a8H.length;d8H++){t2Dt="Result";t2Dt+=" ";D8H=a8H[d8H][c8H];if(D8H && typeof D8H == "object"){D8H=D8H[P8H.subField];}L8gg.S5Ld(8);var T0zt=L8gg.Q5Ld(10,82,28);L8gg.S5Ld(14);var g0zt=L8gg.Q5Ld(1,12,13);a8H[d8H][t2Dt + P8H.name]=T0zt * (g0zt - a8H[d8H]["MA " + P8H.name] / D8H);}};V8H.Studies.calculateChandeMomentum=function(o1H,Q8H){var J7Gj=L8gg;var R8H,T8H,j8H,I8H,z8H,Y8H,L2Dt,O8H,H8H,l1H,u1H;J7Gj.R1Gj();R8H=Q8H.name;for(var i1H in Q8H.outputs){J7Gj.S5Ld(0);R8H=J7Gj.Q5Ld(" ",i1H,R8H);}T8H=Q8H.chart.scrubbed;if(T8H.length < Q8H.days + 1){Q8H.error=! !{};return;}j8H=Q8H.inputs.Field;if(!j8H || j8H == "field"){j8H="Close";}I8H=0;z8H=0;Y8H=[];for(var v8H=Q8H.startFrom - Q8H.days + "1" * 1;v8H < T8H.length;v8H++){L2Dt="ob";L2Dt+="je";L2Dt+="ct";if(v8H < +"1")continue;O8H=T8H[v8H][j8H];J7Gj.W5Ld(6);H8H=T8H[J7Gj.Q5Ld(v8H,1)][j8H];if(O8H && typeof O8H == L2Dt){O8H=O8H.Close;}if(H8H && typeof H8H == "object"){H8H=H8H.Close;}if(H8H === undefined)continue;J7Gj.S5Ld(6);l1H=J7Gj.Q5Ld(O8H,H8H);Y8H.push(l1H);I8H+=l1H;z8H+=Math.abs(l1H);if(Y8H.length == Q8H.days){J7Gj.W5Ld(113);T8H[v8H][R8H]=J7Gj.K5Ld(z8H,I8H,100);u1H=Y8H.shift();I8H-=u1H;z8H-=Math.abs(u1H);}}};V8H.Studies.calculateMovingAverageVariable=function(M99,k1H){var T7Gj=L8gg;var i99,b1H,u99,B1H,G1H,W1H,L1H,n1H,C1H,f1H,H1H,F99,l99,K1H,U99,s1H,q99,c1H;i99=k1H.inputs.Type;b1H=k1H.chart.scrubbed;T7Gj.W5Ld(80);var e0zt=T7Gj.Q5Ld(11,2,12,1);u99=("2" | 0) / (k1H.days + e0zt);B1H=null;T7Gj.R1Gj();G1H=k1H.name;for(var m99 in k1H.outputs){T7Gj.W5Ld(0);G1H=T7Gj.K5Ld(1020 != (664.38,717.26)?(2500,706.31) < (896.95,589.76)?6.32e+3:(475.95,822.12) === 148.36?104.94:" ":(![],922.80),m99,G1H);}W1H=k1H.inputs.Field;if(!W1H || W1H == "field"){W1H="Close";}k1H.cmo=new V8H.Studies.StudyDescriptor(k1H.name,"cmo",k1H.panel);k1H.cmo.chart=k1H.chart;k1H.cmo.days=9;k1H.cmo.inputs={Field:W1H};k1H.cmo.startFrom=k1H.startFrom;k1H.cmo.outputs={_CMO:null};V8H.Studies.calculateChandeMomentum(M99,k1H.cmo);L1H=parseInt(k1H.inputs.Offset,+"10");if(isNaN(L1H)){L1H=0;}H1H=k1H.startFrom;F99=L1H;for(n1H=k1H.startFrom - 1;n1H >= 0;n1H--){C1H=b1H[n1H][G1H];if(!C1H && C1H !== +"0")continue;if(B1H === null){B1H=C1H;}if(F99 <= +"0")break;F99--;H1H=n1H;}if(B1H === null){B1H=H1H=+"0";}l99=[];for(n1H=H1H;n1H < b1H.length;n1H++){K1H=b1H[n1H];C1H=K1H[W1H];if(C1H && typeof C1H == "object"){C1H=C1H[k1H.subField];}U99=n1H + L1H >= 0 && n1H + L1H < b1H.length;s1H=U99?b1H[n1H + L1H]:null;if(!C1H && C1H !== 0){if(s1H){s1H[G1H]=null;}else if(n1H + L1H >= b1H.length){f1H={};f1H[G1H]=null;l99.push(f1H);}continue;}if(!K1H["_CMO " + k1H.name] && K1H["_CMO " + k1H.name] !== 0)continue;T7Gj.W5Ld(31);var i0zt=T7Gj.Q5Ld(67,1,72,5,67);q99=Math.abs(K1H["_CMO " + k1H.name]) / ("100" | i0zt);T7Gj.S5Ld(116);c1H=T7Gj.Q5Ld(q99,q99,u99,B1H,1,u99,C1H);B1H=c1H;if(n1H < k1H.days){c1H=null;}if(s1H){s1H[G1H]=c1H;}else if(n1H + L1H >= b1H.length){f1H={};f1H[G1H]=c1H;l99.push(f1H);}}k1H.appendFutureTicks(M99,l99);};V8H.Studies.studyLibrary=V8H.extend(V8H.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:V8H.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:V8H.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};k1A=n99=>{var d2Dt,o99,O2Dt;d2Dt="un";d2Dt+="de";d2Dt+="fin";d2Dt+="ed";L8gg.R1Gj();o99=typeof _CIQ !== d2Dt?_CIQ:n99.CIQ;if(!o99.Studies){console.error("choppiness feature requires first activating studies feature.");}else {O2Dt="a";O2Dt+="u";O2Dt+="t";O2Dt+="o";o99.Studies.calculateChoppiness=function(G99,S99){var y99,L99,x99;o99.Studies.calculateStudyATR(G99,S99);y99=S99.chart.scrubbed;function Z99(X99,A99){var W99,r99;L8gg.W5Ld(117);var l0zt=L8gg.Q5Ld(16,3,1,4,1);W99=Number.MAX_VALUE * l0zt;r99=Number.MAX_VALUE;L8gg.o1Gj();for(var B99=A99 - X99 + 1;B99 <= A99;B99++){if(B99 < ("0" | 0))continue;W99=Math.max(W99,y99[B99].High);r99=Math.min(r99,y99[B99].Low);}return [r99,W99];}if(y99.length < S99.days + 1){S99.error=!0;return;}for(var b99=Math.max(S99.startFrom,S99.days);b99 < y99.length;b99++){L99=y99[b99];if(!L99)continue;if(L99.futureTick)break;x99=Z99(S99.days,b99);if(L99["Sum True Range " + S99.name]){L8gg.S5Ld(14);var y0zt=L8gg.K5Ld(2,250,700);L8gg.S5Ld(41);var E0zt=L8gg.K5Ld(19,233,20,6);L99["Result " + S99.name]=y0zt * Math.log(L99["Sum True Range " + S99.name] / Math.max(0.000001,x99[E0zt] - x99[0])) / Math.log(S99.days);}else if(!isNaN(L99)){L99["Result " + S99.name]=0;}}};o99.Studies.studyLibrary=o99.extend(o99.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:o99.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:61.8,studyOverBoughtColor:O2Dt,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};n1A=N99=>{var a2Dt,f99,Q2Dt,D3qt,w3qt,S3qt,v2Dt,q2Dt,H2Dt,B2Dt,I2Dt,p2Dt,h2Dt;a2Dt="unde";a2Dt+="fined";f99=typeof _CIQ !== a2Dt?_CIQ:N99.CIQ;L8gg.o1Gj();if(!f99.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!f99.Studies.initPriceRelative){Q2Dt="comparis";Q2Dt+="onStudies feature requires first activating priceRelative feature.";console.error(Q2Dt);}else {f99.Studies.calculateCorrelationCoefficient=function(I99,K99){var p7Gj=L8gg;var s99,E99,P99,k2Dt,n2Dt,G2Dt,c99,d99,J99,Q99,v99,H99,O99,P2Dt,S2Dt,w2Dt,D2Dt,V99,F2Dt,Z2Dt,Y99,q3s,U3s,k3s;p7Gj.R1Gj();s99=K99.chart.scrubbed;E99=K99.days;if(s99.length < E99 + 1){K99.error=! ![];return;}K99.compare=K99.inputs["Compare To"];if(!K99.compare){K99.compare=[];K99.outputs={};K99.outputMap={};for(var z99 in I99.chart.series){P99=I99.chart.series[z99];if(P99.parameters.color){k2Dt="Res";k2Dt+="ul";k2Dt+="t ";n2Dt="Resu";n2Dt+="lt ";K99.compare.push(P99.display);K99.outputs[n2Dt + P99.display]=P99.parameters.color;p7Gj.W5Ld(41);var x0zt=p7Gj.Q5Ld(10740,17912,6,2);p7Gj.W5Ld(92);var M0zt=p7Gj.Q5Ld(6115,6867,9);K99.outputMap["Result " + P99.display + (+"425.2" >= (+"18.96",904.82)?(632.21,x0zt) < (821.21,568.78)?M0zt:("s",![]):" ") + K99.name]=k2Dt + P99.display;}}}else {K99.compare=[K99.compare];}if(!K99.compare.length){G2Dt="Correlation C";G2Dt+="oefficient requires at least one comparison ";G2Dt+="symbol";K99.error=G2Dt;return;}for(var D99=0;D99 < K99.compare.length;D99++){c99=0;d99=0;J99=0;Q99=0;v99=0;H99=K99.compare[D99];O99=0;for(var w99=K99.startFrom - E99;w99 < s99.length;w99++){P2Dt="_";P2Dt+="temps ";S2Dt="_tem";S2Dt+="ps";S2Dt+=" ";w2Dt="_";w2Dt+="t";w2Dt+="e";w2Dt+="mps ";D2Dt="o";D2Dt+="bject";if(!s99[w99])continue;V99=s99[w99][H99];if(V99 && typeof V99 == D2Dt){V99=V99.Close;}if(!V99 && V99 !== 0){if(w99 > 0 && s99[w99 - 1] && s99[w99 - 1]["_temps " + K99.name] && s99[w99 - 1]["_temps " + K99.name].c){V99=s99[w99 - 1]["_temps " + K99.name].c;}else {V99=0;}}if(V99 && typeof V99 == "object"){V99=V99.Close;}s99[w99]["_temps " + K99.name]={};c99+=s99[w99]["_temps " + K99.name].b=s99[w99].Close;d99+=s99[w99]["_temps " + K99.name].c=V99;J99+=s99[w99][w2Dt + K99.name].b2=Math.pow(s99[w99].Close,2);Q99+=s99[w99][S2Dt + K99.name].c2=Math.pow(V99,2);v99+=s99[w99][P2Dt + K99.name].bc=s99[w99].Close * V99;if(O99 >= E99){F2Dt="_temps";F2Dt+=" ";Z2Dt="_";Z2Dt+="t";Z2Dt+="emps ";c99-=s99[w99 - E99]["_temps " + K99.name].b;d99-=s99[w99 - E99][Z2Dt + K99.name].c;J99-=s99[w99 - E99][F2Dt + K99.name].b2;Q99-=s99[w99 - E99]["_temps " + K99.name].c2;v99-=s99[w99 - E99]["_temps " + K99.name].bc;p7Gj.S5Ld(59);var f0zt=p7Gj.Q5Ld(1,8,13,6);Y99=J99 / E99 - Math.pow(c99 / E99,f0zt);p7Gj.S5Ld(118);var s9zt=p7Gj.K5Ld(7,1,3,16,1);q3s=Q99 / E99 - Math.pow(d99 / E99,s9zt);U3s=v99 / E99 - c99 * d99 / Math.pow(E99,"2" & 2147483647);k3s=U3s / Math.sqrt(Y99 * q3s);p7Gj.W5Ld(0);var Y9zt=p7Gj.Q5Ld(11,327,3909);p7Gj.S5Ld(8);var b9zt=p7Gj.Q5Ld(10,2663,27);p7Gj.W5Ld(6);var t9zt=p7Gj.K5Ld(2192,19);p7Gj.W5Ld(31);var L9zt=p7Gj.Q5Ld(3,2209,6643,16,6639);p7Gj.W5Ld(119);var d9zt=p7Gj.K5Ld(65240,8607002,18,12,11);p7Gj.S5Ld(2);var O9zt=p7Gj.Q5Ld(12,980);p7Gj.S5Ld(59);var a9zt=p7Gj.Q5Ld(2106,15,10,12);s99[w99]["Result " + H99 + ((980.56,+"8480") === (Y9zt,b9zt)?(+"601.21",831.48) > t9zt?(L9zt,d9zt):(O9zt,284.06) !== +"139.23"?!{}:a9zt:" ") + K99.name]=k3s;}O99++;}}};f99.Studies.calculatePerformance=function(Q3s,Z3s){var C2Dt,U2Dt,N3s,V3s,z2Dt,s3s;C2Dt="_MA ";C2Dt+="C";C2Dt+="o";C2Dt+="mp";U2Dt="Cl";U2Dt+="os";U2Dt+="e";N3s=Z3s.chart.scrubbed;V3s=Z3s.inputs["Comparison Symbol"].toUpperCase();L8gg.o1Gj();if(!V3s){V3s=Z3s.study.inputs["Comparison Symbol"];}if(!Z3s.days){Z3s.days=Z3s.study.inputs.Period;}if(N3s.length < Z3s.days + 1){Z3s.error=! ![];return;}f99.Studies.MA("ma",Z3s.days,U2Dt,"0" & 2147483647,"_MA Base",Q3s,Z3s);f99.Studies.MA("ma",Z3s.days,V3s,0,C2Dt,Q3s,Z3s);for(var w3s=Z3s.startFrom;w3s < N3s.length;w3s++){z2Dt="_MA ";z2Dt+="B";z2Dt+="ase ";s3s=N3s[w3s][V3s];if(s3s && (s3s.Close || s3s.Close === +"0")){s3s=s3s.Close;}N3s[w3s]["Result " + Z3s.name]=N3s[w3s].Close / s3s * (N3s[w3s]["_MA Comp " + Z3s.name] / N3s[w3s][z2Dt + Z3s.name]);}};f99.Studies.calculateBeta=function(l7s,v3s){var N7Gj=L8gg;var j2Dt,u2Dt,V2Dt,c2Dt,J2Dt,j3s,a3qt,Q3qt,n3qt,m2Dt,R9s,K2Dt,o2Dt,s9s,j9s,R2Dt,N2Dt,r2Dt,A2Dt;j2Dt="_";j2Dt+="V";j2Dt+="A";j2Dt+="R";u2Dt="_COVARn";u2Dt+=" ";V2Dt="m";V2Dt+="a";c2Dt="m";c2Dt+="a";J2Dt="m";J2Dt+="a";j3s=v3s.chart.scrubbed;a3qt=+"2079935514";N7Gj.S5Ld(21);Q3qt=N7Gj.Q5Ld(9048368,"176828784");n3qt=2;for(var G3qt=1;N7Gj.g5tt(G3qt.toString(),G3qt.toString().length,38201) !== a3qt;G3qt++){m2Dt="Co";m2Dt+="mpari";m2Dt+="son";m2Dt+=" Symbol";R9s=v3s.inputs["Comparison Symbol"].toUpperCase();if(!R9s){R9s=v3s.study.inputs[m2Dt];}if(!v3s.days){v3s.days=v3s.study.inputs.Period;}n3qt+=2;}if(N7Gj.T5tt(n3qt.toString(),n3qt.toString().length,2974) !== Q3qt){K2Dt="C";K2Dt+="ompariso";K2Dt+="n Symbol";o2Dt="C";o2Dt+="omparis";o2Dt+="on Sy";o2Dt+="mbol";R9s=v3s.inputs[o2Dt].toUpperCase();if(+R9s){R9s=v3s.study.inputs[K2Dt];}if(-v3s.days){v3s.days=v3s.study.inputs.Period;}}if(j3s.length < v3s.days + ("1" ^ 0)){v3s.error=!"";return;}for(var H3s=Math.max(v3s.startFrom,1);H3s < j3s.length;H3s++){N7Gj.W5Ld(14);var Q9zt=N7Gj.K5Ld(8,1,16);j3s[H3s]["_BaseChange " + v3s.name]=j3s[H3s].Close / j3s[H3s - Q9zt].Close - ("1" ^ 0);s9s=j3s[H3s][R9s];if(s9s && (s9s.Close || s9s.Close === 0)){s9s=s9s.Close;}N7Gj.S5Ld(6);j9s=j3s[N7Gj.Q5Ld(H3s,1)][R9s];if(j9s && (j9s.Close || j9s.Close === 0)){j9s=j9s.Close;}N7Gj.W5Ld(14);j3s[H3s]["_CompChange " + v3s.name]=N7Gj.Q5Ld(j9s,1,s9s);}f99.Studies.MA(J2Dt,v3s.days,"_BaseChange " + v3s.name,+"0","_MA Base",l7s,v3s);f99.Studies.MA(c2Dt,v3s.days,"_CompChange " + v3s.name,"0" >> 461238592,"_MA Comp",l7s,v3s);for(H3s=Math.max(v3s.startFrom,v3s.days);H3s < j3s.length;H3s++){R2Dt="_CompChang";R2Dt+="e";R2Dt+=" ";N2Dt="_";N2Dt+="MA C";N2Dt+="omp";N2Dt+=" ";r2Dt="_CompC";r2Dt+="ha";r2Dt+="nge ";A2Dt="_B";A2Dt+="ase";A2Dt+="Chan";A2Dt+="ge ";j3s[H3s]["_COVARn " + v3s.name]=(j3s[H3s][A2Dt + v3s.name] - j3s[H3s]["_MA Base " + v3s.name]) * (j3s[H3s][r2Dt + v3s.name] - j3s[H3s][N2Dt + v3s.name]);j3s[H3s]["_VARn " + v3s.name]=Math.pow(j3s[H3s][R2Dt + v3s.name] - j3s[H3s]["_MA Comp " + v3s.name],2);}f99.Studies.MA(V2Dt,v3s.days,u2Dt + v3s.name,0,"_COVAR",l7s,v3s);f99.Studies.MA("ma",v3s.days,"_VARn " + v3s.name,0,j2Dt,l7s,v3s);for(H3s=Math.max(v3s.startFrom,v3s.days * +"2" - +"1");H3s < j3s.length;H3s++){j3s[H3s]["Result " + v3s.name]=j3s[H3s]["_COVAR " + v3s.name] / j3s[H3s]["_VAR " + v3s.name];}};D3qt=1658410463;w3qt=972487243;S3qt=+"2";for(var Z3qt=1;L8gg.g5tt(Z3qt.toString(),Z3qt.toString().length,56331) !== D3qt;Z3qt++){f99.Studies.studyLibrary=f99.extend(f99.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:f99.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:"1" * 1,initializeFN:f99.Studies.initPriceRelative,seriesFN:f99.Studies.displayVsComparisonSymbol,calculateFN:f99.Studies.calculatePerformance,inputs:{Period:+"120","Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!""},Beta:{name:"Beta",centerline:+"1",initializeFN:f99.Studies.initPriceRelative,seriesFN:f99.Studies.displayVsComparisonSymbol,calculateFN:f99.Studies.calculateBeta,inputs:{Period:+"20","Comparison Symbol":"SPY"},deferUpdate:! !"1"}});S3qt+=2;}if(L8gg.T5tt(S3qt.toString(),S3qt.toString().length,60451) !== w3qt){v2Dt="Compariso";v2Dt+="n Symbol";q2Dt="Bet";q2Dt+="a";H2Dt="S";H2Dt+="P";H2Dt+="Y";B2Dt="S";B2Dt+="PY";I2Dt="S";I2Dt+="P";I2Dt+="Y";p2Dt="S";p2Dt+="P";p2Dt+="Y";h2Dt="S";h2Dt+="P";h2Dt+="Y";f99.Studies.studyLibrary=f99.extend(f99.Studies.studyLibrary,{correl:{name:h2Dt,range:"Comparison Symbol",calculateFN:f99.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:p2Dt,centerline:7,initializeFN:f99.Studies.initPriceRelative,seriesFN:f99.Studies.displayVsComparisonSymbol,calculateFN:f99.Studies.calculatePerformance,inputs:{Period:644,"Comparison Symbol":"auto"},outputs:{Result:I2Dt,Gain:B2Dt,Loss:H2Dt},deferUpdate:! !0},Beta:{name:q2Dt,centerline:7,initializeFN:f99.Studies.initPriceRelative,seriesFN:f99.Studies.displayVsComparisonSymbol,calculateFN:f99.Studies.calculateBeta,inputs:{Period:51,"Comparison Symbol":v2Dt},deferUpdate:!{}}});}}};C1A=F7s=>{var u7s;u7s=typeof _CIQ !== "undefined"?_CIQ:F7s.CIQ;if(!u7s.Studies){console.error("coppock feature requires first activating studies feature.");}else {u7s.Studies.calculateCoppock=function(C7s,q7s){var S7Gj=L8gg;var W2Dt,h7s,M7s,U7s,i7s,o7s,k7s,n7s;W2Dt="Re";W2Dt+="s";W2Dt+="ul";W2Dt+="t";h7s=q7s.chart.scrubbed;M7s=q7s.inputs.Field;if(!M7s || M7s == "field"){M7s="Close";}U7s=parseInt(q7s.inputs["Long RoC"],"10" * 1);if(!U7s){U7s=14;}i7s=parseInt(q7s.inputs["Short RoC"],10);if(!i7s){i7s=11;}o7s=q7s.days;if(!o7s){o7s=10;}S7Gj.o1Gj();if(U7s < i7s){return;}if(h7s.length < Math.max(i7s,U7s,o7s) + 1){q7s.error=! !{};return;}for(var m7s=Math.max(q7s.startFrom,U7s);m7s < h7s.length;m7s++){S7Gj.S5Ld(6);k7s=h7s[S7Gj.K5Ld(m7s,i7s)][M7s];S7Gj.S5Ld(6);n7s=h7s[S7Gj.K5Ld(m7s,U7s)][M7s];if(k7s && n7s){S7Gj.W5Ld(2);var n9zt=S7Gj.K5Ld(6,94);S7Gj.W5Ld(42);var k9zt=S7Gj.Q5Ld(14,16);h7s[m7s]["_Sum " + q7s.name]=n9zt * (h7s[m7s][M7s] / k7s + h7s[m7s][M7s] / n7s - k9zt);}}u7s.Studies.MA("weighted",o7s,"_Sum " + q7s.name,0,W2Dt,C7s,q7s);};u7s.Studies.studyLibrary=u7s.extend(u7s.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:u7s.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":+"14"}}});}};S1A=L7s=>{var S7s,X2Dt,k0Dt,n0Dt;S7s=typeof _CIQ !== "undefined"?_CIQ:L7s.CIQ;L8gg.R1Gj();if(!S7s.Studies){X2Dt="darvasBox fe";X2Dt+="ature requires";X2Dt+=" first activa";X2Dt+="ting studies feature.";console.error(X2Dt);}else {k0Dt="a";k0Dt+="u";k0Dt+="t";k0Dt+="o";n0Dt="c";n0Dt+="lose";S7s.Studies.calculateDarvas=function(V7s,e7s){var b7Gj=L8gg;var i2Dt,e2Dt,y7s,t7s,g7s,g2Dt,T2Dt,w7s,p7s,G7s,B7s,A7s,W7s,X7s,r7s,x7s,Z7s,f7s,b0Dt,b7s,x2Dt,l2Dt,y2Dt,E2Dt,Y0Dt,s0Dt,f2Dt,M2Dt;i2Dt="Pro";i2Dt+="fit";e2Dt="Darva";e2Dt+="s";y7s=e7s.chart.scrubbed;t7s=0;g7s=parseInt(e7s.inputs["ATH Lookback Period"],10);if(e7s.inputs["Volume Spike"]){g2Dt="A";g2Dt+="D";g2Dt+="V";T2Dt="sim";T2Dt+="pl";T2Dt+="e";S7s.Studies.MA(T2Dt,g7s,"Volume",0,g2Dt,V7s,e7s);}b7Gj.W5Ld(120);var G9zt=b7Gj.Q5Ld(388,3,10,1600,8);w7s=parseFloat(e7s.inputs["Volume % of Avg"]) / G9zt;p7s="none";G7s={};B7s=null;A7s=null;W7s=null;X7s=parseFloat(e7s.inputs["Level Offset"]);r7s=! !"";if(r7s){console.log("*****************");}Z7s={};[e2Dt,"Ghost",i2Dt,"Loss","ATH","ADV","Spike"].forEach(function(E7s){Z7s[E7s]=E7s + " " + e7s.name;});for(x7s=e7s.startFrom - 1;x7s > 0;x7s--){f7s=y7s[x7s];if(f7s[Z7s.Darvas] || f7s[Z7s.Ghost]){for(var s7s in Z7s){f7s[s7s]=null;}}else {t7s=f7s[Z7s.ATH] || 0;A7s=f7s[Z7s.Profit];W7s=f7s[Z7s.Loss];break;}}for(x7s;x7s < y7s.length;x7s++){b0Dt="Volu";b0Dt+="me Sp";b0Dt+="ike";b7s=y7s[x7s];if(!b7s)continue;if(parseFloat(e7s.inputs["Price Minimum"]) <= y7s[t7s].Close){x2Dt="d";x2Dt+="arv";x2Dt+="as";l2Dt="Exit ";l2Dt+="Fie";l2Dt+="ld";if(B7s && (!B7s.End || x7s == B7s.End + 1)){if(y7s[x7s - 1].Close > G7s.High){G7s={State:+"1",High:("2" | 2) * G7s.High - G7s.Low,Low:G7s.High,Start:x7s,End:"2" * 1 * G7s.End - G7s.Start + 1};}else {B7s=null;;}if(B7s){b7s[Z7s.Ghost]=S7s.clone(G7s);if(r7s){console.log("Ghost begin:" + b7s.DT);}G7s.State=0;if(y7s[G7s.End]){y7s[G7s.End][Z7s.Ghost]=S7s.clone(G7s);if(r7s){console.log("Ghost end:" + y7s[G7s.End].DT);}}B7s={Start:G7s.Start,End:G7s.End};A7s=G7s.High + X7s;if(!W7s || W7s < G7s.Low - X7s){W7s=G7s.Low - X7s;}}}b7s[Z7s.Profit]=A7s;b7s[Z7s.Loss]=W7s;if(b7s.Close >= A7s){A7s=null;}else if(e7s.inputs[l2Dt] == "high/low" && b7s.High >= A7s){A7s=null;}if(p7s == "none"){if(x7s == t7s + 3){if(!y7s[t7s + 2][Z7s.Darvas] && !y7s[t7s + 1][Z7s.Darvas] && !y7s[t7s][Z7s.Darvas] && y7s[t7s].High > b7s.High){p7s="high";;}}}if(p7s == "high"){if(b7s.High > y7s[t7s].High){y2Dt="n";y2Dt+="on";y2Dt+="e";p7s=y2Dt;}else if(y7s[x7s - 3].Low < y7s[x7s - 2].Low && y7s[x7s - 3].Low < y7s[x7s - 1].Low && y7s[x7s - 3].Low < b7s.Low){E2Dt="Darvas begi";E2Dt+="n:";G7s={State:1,High:y7s[t7s].High,Low:y7s[x7s - 3].Low,Start:t7s};y7s[t7s][Z7s.Darvas]=S7s.clone(G7s);p7s="darvas";if(r7s){console.log(E2Dt + y7s[t7s].DT);}if(r7s){console.log("Darvas established:" + b7s.DT);}if(B7s){if(B7s.End > x7s && y7s[B7s.Start]){b7s[Z7s.Ghost]=S7s.clone(y7s[B7s.Start][Z7s.Ghost]);b7s[Z7s.Ghost].End=x7s;if(y7s[B7s.End]){delete y7s[B7s.End][Z7s.Ghost];if(r7s){console.log("Ghost End removed:" + y7s[B7s.End].DT);}}}b7Gj.W5Ld(77);b7s[Z7s.Ghost].State=b7Gj.Q5Ld(1879837504,"0");y7s[B7s.Start][Z7s.Ghost].End=x7s;if(r7s){console.log("Ghost end:" + b7s.DT);}B7s=null;}A7s=G7s.High + X7s;if(!W7s || W7s < G7s.Low - X7s){W7s=G7s.Low - X7s;}}}if(p7s == x2Dt){Y0Dt="n";Y0Dt+="o";Y0Dt+="n";Y0Dt+="e";s0Dt="hig";s0Dt+="h/lo";s0Dt+="w";f2Dt="n";f2Dt+="o";f2Dt+="n";f2Dt+="e";M2Dt="hi";M2Dt+="gh/l";M2Dt+="o";M2Dt+="w";if(b7s.Close > G7s.High){B7s={};}else if(e7s.inputs["Exit Field"] == M2Dt && b7s.High > G7s.High){B7s={};}else if(b7s.Close < G7s.Low){p7s=f2Dt;}else if(e7s.inputs["Exit Field"] == s0Dt && b7s.Low < G7s.Low){p7s="none";}if(B7s){p7s="none";}else if(p7s == "none"){A7s=null;W7s=null;}if(!e7s.inputs["Ghost Boxes"]){B7s=null;}if(p7s == Y0Dt){for(var K7s=G7s.Start + 1;K7s < x7s;K7s++){y7s[K7s][Z7s.Darvas]=S7s.clone(G7s);}G7s.State=0;G7s.End=x7s;b7s[Z7s.Darvas]=S7s.clone(G7s);if(r7s){console.log("Darvas end:" + b7s.DT);}b7s[Z7s.ATH]=t7s;continue;}}if(W7s){if(b7s.Close < G7s.Low || e7s.inputs["Exit Field"] == "high/low" && b7s.Low < G7s.Low){if(p7s == "darvas"){p7s="none";}if(b7s.Close < W7s || e7s.inputs["Exit Field"] == "high/low" && b7s.Low < W7s){A7s=null;W7s=null;}if(B7s){if(B7s.End > x7s && y7s[B7s.Start]){b7s[Z7s.Ghost]=S7s.clone(y7s[B7s.Start][Z7s.Ghost]);b7s[Z7s.Ghost].End=x7s;if(y7s[B7s.End]){delete y7s[B7s.End][Z7s.Ghost];if(r7s){console.log("Ghost End removed:" + y7s[B7s.End].DT);}}}b7s[Z7s.Ghost].State=0;y7s[B7s.Start][Z7s.Ghost].End=x7s;if(r7s){console.log("Ghost end:" + b7s.DT);}B7s=null;}}}}if(b7s.High >= y7s[t7s].High){t7s=x7s;if(r7s){console.log("All Time High:" + b7s.DT);}}if(x7s < 3 || b7s.High >= y7s[x7s - +"1"].High && b7s.High >= y7s[x7s - +"2"].High && b7s.High >= y7s[x7s - 3].High){if(x7s - t7s >= g7s){t7s=x7s;for(var N7s=0;N7s < g7s;N7s++){if(x7s - N7s < 0)break;if(y7s[x7s - N7s].High > y7s[t7s].High){b7Gj.W5Ld(6);t7s=b7Gj.Q5Ld(x7s,N7s);}}if(r7s){console.log("All Time High:" + b7s.DT);}}}if(e7s.inputs[b0Dt] && x7s > g7s && x7s == t7s){if(b7s[Z7s.ADV] * w7s < b7s.Volume){b7s[Z7s.Spike]=1;if(r7s){console.log("Volume Spike:" + b7s.DT);}}}b7s[Z7s.ATH]=t7s;}};S7s.Studies.displayDarvas=function(a7s,D7s,Q7s){var B7Gj=L8gg;var F2s,j7s,z7s,J7s,P7s,c7s,d7s,i2s,O7s,v7s,d0Dt,L0Dt,t0Dt,m2s,o2s,C2s,k2s,H7s,T7s,R7s,q2s,I7s,u2s,Y7s,M2s,l2s,h2s,S2s,U2s,a0Dt,O0Dt,L2s,Q0Dt,n2s;F2s=S7s.Studies.determineColor(D7s.outputs.Levels);if(!F2s || F2s == "auto" || S7s.isTransparent(F2s)){F2s=a7s.defaultColor;}j7s=S7s.Studies.determineColor(D7s.outputs.Darvas);if(!j7s || j7s == "auto" || S7s.isTransparent(j7s)){j7s=a7s.defaultColor;}z7s=S7s.Studies.determineColor(D7s.outputs.Ghost);if(!z7s || z7s == "auto" || S7s.isTransparent(z7s)){z7s=a7s.defaultColor;}J7s=a7s.panels[D7s.panel];P7s=D7s.getContext(a7s);B7Gj.S5Ld(121);var D9zt=B7Gj.K5Ld(6,6,6,9);v7s=a7s.layout.candleWidth - D9zt;if(v7s < 2){v7s=1;}a7s.startClip(D7s.panel);if(D7s.inputs["Stop Levels"]){if(P7s.setLineDash){P7s.setLineDash([+"2",2]);}P7s.lineWidth=2;P7s.strokeStyle=F2s;P7s.beginPath();for(c7s=0;c7s < Q7s.length;c7s++){d0Dt="L";d0Dt+="o";d0Dt+="s";d0Dt+="s ";L0Dt="Lo";L0Dt+="ss ";t0Dt="Lo";t0Dt+="s";t0Dt+="s ";d7s=Q7s[c7s];B7Gj.S5Ld(6);m2s=Q7s[B7Gj.K5Ld(c7s,1)];if(!d7s)continue;O7s=d7s[t0Dt + D7s.name]?Math.floor(a7s.pixelFromPrice(d7s[L0Dt + D7s.name],J7s)):null;o2s=m2s && m2s[d0Dt + D7s.name]?Math.floor(a7s.pixelFromPrice(m2s["Loss " + D7s.name],J7s)):null;if(O7s){if(d7s.candleWidth){v7s=Math.floor(Math.max(1,d7s.candleWidth));}C2s=Math.floor(a7s.pixelFromBar(c7s,J7s.chart) + v7s / 2);k2s=Math.floor(a7s.pixelFromBar(c7s,J7s.chart) - v7s / 2);if(o2s && o2s >= O7s){P7s.lineTo(k2s,O7s);}else if(c7s === 0){P7s.moveTo(a7s.chart.left,O7s);}else {P7s.moveTo(k2s,O7s);}P7s.lineTo(C2s,O7s);}}P7s.stroke();if(P7s.setLineDash){P7s.setLineDash([]);}P7s.lineWidth=+"1";}H7s=-10;R7s=0;I7s=- +"10";Y7s=0;l2s=!1;h2s=! !"";B7Gj.W5Ld(94);var w9zt=B7Gj.Q5Ld(548,274,13,5,540);B7Gj.W5Ld(4);var S9zt=B7Gj.K5Ld(12320,9247,7);B7Gj.S5Ld(6);var P9zt=B7Gj.K5Ld(14,12);S2s=P7s.measureText((171.67,w9zt) >= (79.58,S9zt)?"640.41" - 0:"\u25B2").width / P9zt;U2s=0;for(c7s=0;c7s < Q7s.length;c7s++){a0Dt="Gh";a0Dt+="o";a0Dt+="st ";O0Dt="S";O0Dt+="pi";O0Dt+="ke ";if(!Q7s[c7s])continue;if(Q7s[c7s].Close || Q7s[c7s].Close === 0){U2s=c7s;}if(Q7s[c7s][O0Dt + D7s.name]){P7s.fillStyle=j7s;P7s.textBaseline="bottom";L2s=a7s.pixelFromPrice(Q7s[c7s].High,a7s.chart.panel);P7s.fillText(43.41 >= (7040,+"884.52")?(5334,4790) == 3103?(106.34,565.77):0x146b:"\u25BC",a7s.pixelFromBar(c7s) - S2s,L2s - 5);;}if(Q7s[c7s].candleWidth){v7s=Math.floor(Math.max(1,Q7s[c7s].candleWidth));}if(Q7s[c7s]["Darvas " + D7s.name]){d7s=Q7s[c7s]["Darvas " + D7s.name];if(d7s.State == +"1" && !l2s){H7s=Math.floor(a7s.pixelFromBar(c7s,J7s.chart) - v7s / 2);T7s=Math.floor(a7s.pixelFromPrice(d7s.High,J7s));q2s=Math.floor(a7s.pixelFromPrice(d7s.Low,J7s)) - T7s;l2s=! !{};}else if(d7s.State === 0){B7Gj.W5Ld(42);var Z9zt=B7Gj.Q5Ld(3,5);R7s=Math.floor(a7s.pixelFromBar(c7s,J7s.chart) + v7s / Z9zt) - H7s;T7s=Math.floor(a7s.pixelFromPrice(d7s.High,J7s));q2s=Math.floor(a7s.pixelFromPrice(d7s.Low,J7s)) - T7s;P7s.strokeStyle=j7s;P7s.fillStyle=j7s;if(!D7s.inputs["Stop Levels"]){P7s.strokeRect(H7s,T7s,R7s,q2s);P7s.globalAlpha=0.2;}else {P7s.globalAlpha=+"0.3";}P7s.fillRect(H7s,T7s,R7s,q2s);P7s.globalAlpha=1;l2s=!{};}}if(Q7s[c7s][a0Dt + D7s.name] && D7s.inputs["Ghost Boxes"]){d7s=Q7s[c7s]["Ghost " + D7s.name];if(d7s.State == 1 && !h2s){I7s=Math.floor(a7s.pixelFromBar(c7s,J7s.chart) - v7s / 2);u2s=Math.floor(a7s.pixelFromPrice(d7s.High,J7s));Y7s=Math.floor((d7s.End - d7s.Start + 1) * a7s.layout.candleWidth + v7s / 2);M2s=Math.floor(a7s.pixelFromPrice(d7s.Low,J7s)) - u2s;h2s=! !1;}else if(d7s.State === 0){if(d7s.Start == d7s.End){I7s=Math.floor(a7s.pixelFromBar(c7s,J7s.chart) - v7s / 2);}B7Gj.W5Ld(37);var F9zt=B7Gj.Q5Ld(17,9,20,21,2);Y7s=Math.floor(a7s.pixelFromBar(c7s,J7s.chart) + v7s / F9zt) - I7s;u2s=Math.floor(a7s.pixelFromPrice(d7s.High,J7s));M2s=Math.floor(a7s.pixelFromPrice(d7s.Low,J7s)) - u2s;P7s.strokeStyle=z7s;P7s.fillStyle=z7s;if(!D7s.inputs["Stop Levels"]){P7s.strokeRect(I7s,u2s,Y7s,M2s);P7s.globalAlpha=0.2;}else {P7s.globalAlpha=0.3;}P7s.fillRect(I7s,u2s,Y7s,M2s);P7s.globalAlpha=1;h2s=!"1";}}}if(l2s){B7Gj.S5Ld(14);var U9zt=B7Gj.Q5Ld(1,11,13);R7s=Math.floor(a7s.pixelFromBar(U2s,J7s.chart) + v7s / U9zt) - H7s;P7s.strokeStyle=j7s;P7s.fillStyle=j7s;if(!D7s.inputs["Stop Levels"]){P7s.beginPath();B7Gj.S5Ld(17);P7s.moveTo(B7Gj.K5Ld(2,R7s,H7s),T7s);P7s.lineTo(H7s,T7s);B7Gj.S5Ld(2);P7s.lineTo(H7s,B7Gj.Q5Ld(q2s,T7s));B7Gj.W5Ld(17);P7s.lineTo(B7Gj.K5Ld(2,R7s,H7s),B7Gj.Q5Ld(q2s,T7s,B7Gj.W5Ld(2)));P7s.stroke();P7s.globalAlpha=0.2;}else {P7s.globalAlpha=0.3;}B7Gj.S5Ld(122);P7s.fillRect(H7s,T7s,B7Gj.Q5Ld("2",R7s,785250176),q2s);P7s.globalAlpha=1;}if(h2s){Q0Dt="S";Q0Dt+="top L";Q0Dt+="evels";P7s.strokeStyle=z7s;P7s.fillStyle=z7s;if(!D7s.inputs[Q0Dt]){P7s.strokeRect(I7s,u2s,Y7s,M2s);P7s.globalAlpha=0.2;}else {P7s.globalAlpha=0.3;}P7s.fillRect(I7s,u2s,Y7s,M2s);P7s.globalAlpha=1;}if(l2s || h2s){if(D7s.inputs["Stop Levels"]){if(P7s.setLineDash){P7s.setLineDash([2,2]);}P7s.lineWidth=2;P7s.strokeStyle=F2s;n2s=Math.floor(a7s.pixelFromBar(U2s - 1,J7s.chart) + v7s / 2);if(i2s){P7s.beginPath();P7s.moveTo(n2s,i2s);P7s.lineTo(l2s?H7s + 2 * R7s:I7s + Y7s,i2s);P7s.stroke();}if(O7s){P7s.beginPath();P7s.moveTo(n2s,O7s);P7s.lineTo(l2s?H7s + 2 * R7s:I7s + Y7s,O7s);P7s.stroke();}if(P7s.setLineDash){P7s.setLineDash([]);}P7s.lineWidth=1;}l2s=!{};h2s=![];}a7s.endClip();};S7s.Studies.studyLibrary=S7s.extend(S7s.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!"",calculateFN:S7s.Studies.calculateDarvas,seriesFN:S7s.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":[n0Dt,"high/low"],"Ghost Boxes":! !"1","Stop Levels":!"1","Level Offset":0.01,"Price Minimum":5,"Volume Spike":![],"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:k0Dt},customRemoval:! !{},attributes:{"Price Minimum":{min:0.01,step:+"0.01"},yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:! !{}},flippedEnabled:{hidden:!""}}}});}};L1A=b2s=>{var G0Dt,y2s,h0qt,p0qt,I0qt,P0Dt,Z0Dt;G0Dt="unde";G0Dt+="fined";y2s=typeof _CIQ !== G0Dt?_CIQ:b2s.CIQ;if(!y2s.Studies){console.error("detrended feature requires first activating studies feature.");}else {y2s.Studies.calculateDetrendedPrice=function(W2s,x2s){var w0Dt,D0Dt,B2s,t2s,e2s,S0Dt,G2s,p2s;w0Dt="Cl";w0Dt+="o";w0Dt+="s";w0Dt+="e";D0Dt="f";D0Dt+="ield";B2s=x2s.chart.scrubbed;if(B2s.length < x2s.days + 1){x2s.error=! !"1";return;}t2s=x2s.inputs.Field;if(!t2s || t2s == D0Dt){t2s=w0Dt;}e2s=Math.floor(x2s.days / 2 + 1);y2s.Studies.MA(x2s.inputs["Moving Average Type"],x2s.days,t2s,-e2s,"MA",W2s,x2s);for(var Z2s=Math.max(x2s.days - e2s - 1,x2s.startFrom - e2s);Z2s < B2s.length - e2s;Z2s++){S0Dt="M";S0Dt+="A";S0Dt+=" ";if(Z2s < 0)continue;G2s=B2s[Z2s][t2s];if(G2s && typeof G2s == "object"){G2s=G2s[x2s.subField];}p2s=B2s[Z2s][S0Dt + x2s.name];if((G2s || G2s === 0) && (p2s || p2s === 0)){L8gg.S5Ld(6);B2s[Z2s]["Result " + x2s.name]=L8gg.K5Ld(G2s,p2s);}}};h0qt=1297933108;p0qt=-810891561;I0qt=+"2";for(var H0qt=1;L8gg.g5tt(H0qt.toString(),H0qt.toString().length,75966) !== h0qt;H0qt++){P0Dt="fi";P0Dt+="e";P0Dt+="l";P0Dt+="d";y2s.Studies.studyLibrary=y2s.extend(y2s.Studies.studyLibrary,{Detrended:{name:"Moving Average Type",calculateFN:y2s.Studies.calculateDetrendedPrice,inputs:{Period:28,Field:P0Dt,"Moving Average Type":"ma"}}});I0qt+=2;}if(L8gg.T5tt(I0qt.toString(),I0qt.toString().length,72763) !== p0qt){Z0Dt="fi";Z0Dt+="el";Z0Dt+="d";y2s.Studies.studyLibrary=y2s.extend(y2s.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:y2s.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:Z0Dt,"Moving Average Type":"ma"}}});}}};y1A=A2s=>{L8gg.o1Gj();var r2s;r2s=typeof _CIQ !== "undefined"?_CIQ:A2s.CIQ;if(!r2s.Studies){console.error("disparity feature requires first activating studies feature.");}else {r2s.Studies.calculateDisparity=function(w2s,X2s){var e7Gj=L8gg;var F0Dt,f2s,g2s,C0Dt,U0Dt,K2s;F0Dt="Moving Average ";F0Dt+="Type";f2s=X2s.chart.scrubbed;if(f2s.length < X2s.days + +"1"){X2s.error=! !{};return;}g2s=X2s.inputs.Field;if(!g2s || g2s == "field"){g2s="Close";}e7Gj.o1Gj();r2s.Studies.MA(X2s.inputs[F0Dt],X2s.days,g2s,0,"_MA",w2s,X2s);for(var N2s=Math.max(X2s.startFrom,X2s.days - 1);N2s < f2s.length;N2s++){C0Dt="R";C0Dt+="esu";C0Dt+="lt ";U0Dt="_";U0Dt+="M";U0Dt+="A ";if(!f2s[N2s])continue;K2s=f2s[N2s][U0Dt + X2s.name];if(K2s){e7Gj.W5Ld(54);var C9zt=e7Gj.K5Ld(104,15,1,63,2);e7Gj.S5Ld(42);var z9zt=e7Gj.K5Ld(2,3);f2s[N2s][C0Dt + X2s.name]=C9zt * (f2s[N2s][g2s] / K2s - z9zt);}}};r2s.Studies.studyLibrary=r2s.extend(r2s.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:r2s.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};b1A=V2s=>{var z0Dt,s2s,O9qt,a9qt,Q9qt,K0Dt,o0Dt;z0Dt="unde";z0Dt+="fi";z0Dt+="n";z0Dt+="ed";s2s=typeof _CIQ !== z0Dt?_CIQ:V2s.CIQ;if(!s2s.Studies){O9qt=-192888991;a9qt=1512631869;Q9qt=2;for(var k9qt="1" ^ 0;L8gg.g5tt(k9qt.toString(),k9qt.toString().length,+"9798") !== O9qt;k9qt++){console.error("easeOfMovement feature requires first activating studies feature.");Q9qt+=2;}if(L8gg.T5tt(Q9qt.toString(),Q9qt.toString().length,3751) !== a9qt){console.error("");}}else {K0Dt="m";K0Dt+="a";o0Dt="E";o0Dt+="as";o0Dt+="e of Movem";o0Dt+="ent";s2s.Studies.calculateEaseOfMovement=function(v2s,a2s){var U7Gj=L8gg;var m0Dt,E2s,d2s,D2s,J2s,Q2s,c2s;m0Dt="_E";m0Dt+="O";m0Dt+="M1";m0Dt+=" ";E2s=a2s.chart.scrubbed;if(E2s.length < a2s.days){a2s.error=!"";return;}for(var P2s=Math.max(1,a2s.startFrom);P2s < E2s.length;P2s++){U7Gj.S5Ld(20);var m9zt=U7Gj.Q5Ld(16,62,4);d2s=(E2s[P2s].High + E2s[P2s].Low) / m9zt;U7Gj.S5Ld(4);var o9zt=U7Gj.Q5Ld(19,29,11);U7Gj.W5Ld(12);var K9zt=U7Gj.K5Ld(2,3,4);U7Gj.S5Ld(4);var J9zt=U7Gj.K5Ld(0,16,18);D2s=(E2s[P2s - o9zt].High + E2s[P2s - K9zt].Low) / J9zt;U7Gj.S5Ld(6);J2s=U7Gj.K5Ld(d2s,D2s);U7Gj.S5Ld(123);var c9zt=U7Gj.K5Ld(25000000,10,15,99999970,125000000);Q2s=E2s[P2s].Volume / c9zt / (E2s[P2s].High - E2s[P2s].Low);U7Gj.W5Ld(16);c2s=U7Gj.Q5Ld(J2s,Q2s);if(!isFinite(c2s)){E2s[P2s]["_EOM1 " + a2s.name]=NaN;}else {E2s[P2s]["_EOM1 " + a2s.name]=c2s;}}s2s.Studies.MA(a2s.inputs["Moving Average Type"],a2s.days,m0Dt + a2s.name,0,"Result",v2s,a2s);};s2s.Studies.studyLibrary=s2s.extend(s2s.Studies.studyLibrary,{EOM:{name:o0Dt,calculateFN:s2s.Studies.calculateEaseOfMovement,inputs:{Period:+"14","Moving Average Type":K0Dt}}});}};x1A=T2s=>{var H2s,A0Dt,c0Dt;H2s=typeof _CIQ !== "undefined"?_CIQ:T2s.CIQ;if(!H2s.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {A0Dt="#";A0Dt+="FF0000";c0Dt="aut";c0Dt+="o";H2s.Studies.calculateEhlerFisher=function(F8s,j2s){var q7Gj=L8gg;var J0Dt,R2s,O2s,z2s,Y2s,l8s;J0Dt="_n";function u8s(i8s,U8s){var h8s,M8s,m8s;h8s=Number.MAX_VALUE;q7Gj.S5Ld(4);var A9zt=q7Gj.K5Ld(0,10,9);M8s=Number.MAX_VALUE * A9zt;for(var q8s=U8s - i8s + 1;q8s <= U8s;q8s++){m8s=(R2s[q8s].High + R2s[q8s].Low) / ("2" & 2147483647);h8s=Math.min(h8s,m8s);M8s=Math.max(M8s,m8s);}return [h8s,M8s];}J0Dt+=" ";R2s=j2s.chart.scrubbed;if(R2s.length < j2s.days + 1){j2s.error=! !"1";return;}O2s=0;if(j2s.startFrom > 1){q7Gj.S5Ld(124);var r9zt=q7Gj.K5Ld(10,11,18,2);O2s=R2s[j2s.startFrom - r9zt][J0Dt + j2s.name];}for(var I2s=j2s.startFrom;I2s < R2s.length;I2s++){z2s=R2s[I2s];if(z2s.futureTick)break;if(I2s < j2s.days - 1){z2s["EF " + j2s.name]=z2s["EF Trigger " + j2s.name]=O2s;continue;}Y2s=u8s(j2s.days,I2s);q7Gj.S5Ld(125);var N9zt=q7Gj.K5Ld(79,10,9,9,1);q7Gj.W5Ld(23);var R9zt=q7Gj.K5Ld(13,142,11,1);O2s=0.33 * +"2" * (((R2s[I2s].High + R2s[I2s].Low) / N9zt - Y2s[0]) / Math.max(0.000001,Y2s[R9zt] - Y2s[0]) - 0.5) + 0.67 * O2s;if(O2s > 0){O2s=Math.min(O2s,0.9999);}else if(O2s < 0){O2s=Math.max(O2s,-0.9999);}l8s=I2s?R2s[I2s - 1]["EF " + j2s.name]:0;q7Gj.S5Ld(2);var V9zt=q7Gj.Q5Ld(1,0);z2s["EF " + j2s.name]=0.5 * Math.log((V9zt + O2s) / (+"1" - O2s)) + 0.5 * l8s;z2s["EF Trigger " + j2s.name]=l8s;z2s["_n " + j2s.name]=O2s;}};H2s.Studies.studyLibrary=H2s.extend(H2s.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:H2s.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:c0Dt,"EF Trigger":A0Dt}}});}};G1A=k8s=>{var o8s,r0Dt,x0Dt,E0Dt,y0Dt;o8s=typeof _CIQ !== "undefined"?_CIQ:k8s.CIQ;if(!o8s.Studies){r0Dt="elder feature";r0Dt+=" requires first activating studies feature.";console.error(r0Dt);}else {x0Dt="#8BC17";x0Dt+="6";E0Dt="Elder I";E0Dt+="mpulse";E0Dt+=" Syst";E0Dt+="em";y0Dt="Eld";y0Dt+="e";y0Dt+="r Ray ";y0Dt+="Index";o8s.Studies.calculateElderImpulse=function(b8s,n8s){var N0Dt,S8s,x8s,G8s,y8s,L8s,V0Dt,R0Dt;N0Dt="expo";L8gg.o1Gj();N0Dt+="nential";S8s=n8s.chart.scrubbed;x8s=n8s.outputs.Bullish;G8s=n8s.outputs.Bearish;y8s=n8s.outputs.Neutral;o8s.Studies.MA(N0Dt,13,"Close",0,"_MA",b8s,n8s);n8s.macd=new o8s.Studies.StudyDescriptor("_" + n8s.name,"macd",n8s.panel);n8s.macd.chart=n8s.chart;n8s.macd.days=n8s.days;n8s.macd.startFrom=n8s.startFrom;n8s.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};n8s.macd.outputs={_MACD:null,_Signal:null};o8s.Studies.calculateMACD(b8s,n8s.macd);for(var C8s=n8s.startFrom;C8s < S8s.length;C8s++){V0Dt="R";V0Dt+="e";V0Dt+="sul";V0Dt+="t ";R0Dt="_";R0Dt+="MA ";if(C8s === 0){L8s=y8s;}else if(S8s[C8s]["_MA " + n8s.name] > S8s[C8s - ("1" - 0)][R0Dt + n8s.name] && S8s[C8s]["_" + n8s.name + "_hist"] > S8s[C8s - 1][(9270 != 5264?"_":(943.89,919.47)) + n8s.name + "_hist"]){L8s=x8s;}else if(S8s[C8s]["_MA " + n8s.name] < S8s[C8s - ("1" & 2147483647)]["_MA " + n8s.name] && S8s[C8s][((6190,+"8261") == (5630,3594)?("0x26f9" << 1762340416,296):(512.95,"652" * 1) >= 163?"_":(+"5870",5330) >= (5870,+"5811")?0xf3b:(307.83,3.35e+3)) + n8s.name + "_hist"] < S8s[C8s - 1][(780.24 != ("331" >> 552964128,7214)?"_":1450 < 4143?473.27:780.06) + n8s.name + "_hist"]){L8s=G8s;}else {L8s=y8s;}S8s[C8s][V0Dt + n8s.name]=L8s;;}};o8s.Studies.calculateElderRay=function(e8s,Z8s){var h0Dt,j0Dt,u0Dt,B8s,p0Dt;h0Dt="_";h0Dt+="E";h0Dt+="M";h0Dt+="A";j0Dt="C";j0Dt+="l";j0Dt+="os";j0Dt+="e";u0Dt="ex";u0Dt+="po";u0Dt+="nential";B8s=Z8s.chart.scrubbed;if(B8s.length < Z8s.days){Z8s.error=! !"1";return;}o8s.Studies.MA(u0Dt,Z8s.days,j0Dt,0,h0Dt,e8s,Z8s);for(var t8s=Math.max(Z8s.startFrom,Z8s.days - 1);t8s < B8s.length;t8s++){p0Dt="_EMA";p0Dt+=" ";B8s[t8s][Z8s.name + "_hist1"]=B8s[t8s].High - B8s[t8s][p0Dt + Z8s.name];B8s[t8s][Z8s.name + "_hist2"]=B8s[t8s].Low - B8s[t8s]["_EMA " + Z8s.name];}Z8s.outputMap={};Z8s.outputMap[Z8s.name + "_hist1"]="";Z8s.outputMap[Z8s.name + "_hist2"]="";};o8s.Studies.calculateElderForce=function(A8s,p8s){var H0Dt,B0Dt,W8s,I0Dt;L8gg.R1Gj();H0Dt="Res";H0Dt+="u";H0Dt+="lt";B0Dt="exponentia";B0Dt+="l";W8s=p8s.chart.scrubbed;if(W8s.length < p8s.days){p8s.error=! !1;return;}for(var r8s=Math.max(1,p8s.startFrom);r8s < W8s.length;r8s++){I0Dt="_EF1";I0Dt+=" ";L8gg.S5Ld(126);var u9zt=L8gg.Q5Ld(4,14,149,10,4);W8s[r8s][I0Dt + p8s.name]=W8s[r8s].Volume * (W8s[r8s].Close - W8s[r8s - u9zt].Close);}o8s.Studies.MA(B0Dt,p8s.days,"_EF1 " + p8s.name,0,H0Dt,A8s,p8s);};o8s.Studies.initElderImpulse=function(f8s,g8s,K8s,w8s,N8s,s8s){var X8s;X8s=o8s.Studies.initializeFN(f8s,g8s,K8s,w8s,N8s,s8s);if(N8s.calculateOnly){return X8s;}f8s.chart.customChart={chartType:"colored_bar",colorFunction:function(P8s,E8s,a8s){var v0Dt,q0Dt,V8s;v0Dt="ob";v0Dt+="ject";q0Dt="Resul";q0Dt+="t ";V8s=E8s[q0Dt + X8s.name];if(V8s && typeof V8s == v0Dt){V8s=V8s.color;}return V8s;}};f8s.setMainSeriesRenderer();return X8s;};o8s.Studies.displayElderForce=function(d8s,c8s,H8s){var W0Dt,J8s,Q8s,v8s,D8s;W0Dt="Resul";W0Dt+="t ";o8s.Studies.displaySeriesAsLine(d8s,c8s,H8s);J8s=o8s.Studies.determineColor(c8s.outputs.Result);Q8s=d8s.panels[c8s.panel];L8gg.R1Gj();v8s=c8s.getYAxis(d8s);D8s={skipTransform:Q8s.name != c8s.chart.name,panelName:c8s.panel,band:W0Dt + c8s.name,threshold:+"0",color:J8s,yAxis:v8s};if(!c8s.highlight && d8s.highlightedDraggable){D8s.opacity=0.3;}D8s.direction=1;o8s.preparePeakValleyFill(d8s,D8s);D8s.direction=-1;o8s.preparePeakValleyFill(d8s,D8s);};o8s.Studies.displayElderRay=function(j8s,T8s,C1s){var Y7Gj=L8gg;var Y8s,I8s,h1s,i1s,z8s,L1s,l0Dt,i0Dt,e0Dt,g0Dt,T0Dt,X0Dt,O8s;Y8s=j8s.panels[T8s.panel];I8s=T8s.getContext(j8s);h1s=T8s.getYAxis(j8s);Y7Gj.R1Gj();i1s=j8s.pixelFromPrice(0,Y8s,h1s);Y7Gj.W5Ld(31);var j9zt=Y7Gj.K5Ld(17,1,0,17,3);z8s=j8s.layout.candleWidth - j9zt;if(z8s < 2){z8s=1;}j8s.canvasColor("stx_histogram");L1s=I8s.fillStyle;if(!T8s.underlay){Y7Gj.W5Ld(35);I8s.globalAlpha=Y7Gj.K5Ld(813838240,"1");}j8s.startClip(T8s.panel);if(!T8s.highlight && j8s.highlightedDraggable){I8s.globalAlpha*=0.3;}for(var R8s=0;R8s < C1s.length;R8s++){l0Dt="_";l0Dt+="hist2";i0Dt="_";i0Dt+="hist";i0Dt+="1";e0Dt="_hi";e0Dt+="s";e0Dt+="t";e0Dt+="2";g0Dt="Elder Bear Po";g0Dt+="wer";T0Dt="_h";T0Dt+="ist";T0Dt+="1";X0Dt="_hi";X0Dt+="st1";O8s=C1s[R8s];if(!O8s)continue;if(O8s.candleWidth){z8s=Math.floor(Math.max(1,O8s.candleWidth - 2));}if(O8s[T8s.name + X0Dt] > 0){u1s(R8s,0,"Elder Bull Power",T0Dt);}if(O8s[T8s.name + "_hist2"] < "0" * 1){u1s(R8s,+"0",g0Dt,e0Dt);}if(O8s[T8s.name + "_hist1"] < 0){u1s(R8s,0.1,"Elder Bull Power",i0Dt);}if(O8s[T8s.name + l0Dt] > 0){u1s(R8s,0.1,"Elder Bear Power","_hist2");}}j8s.endClip();function u1s(x1s,y1s,G1s,B1s){Y7Gj.o1Gj();I8s.fillStyle=o8s.Studies.determineColor(T8s.outputs[G1s]);I8s.fillRect(Math.floor(j8s.pixelFromBar(x1s,Y8s.chart) - z8s / 2 + z8s * y1s),Math.floor(i1s),Math.floor(z8s * (1 - +"2" * y1s)),Math.floor(j8s.pixelFromPrice(O8s[T8s.name + B1s],Y8s,h1s) - i1s));}I8s.fillStyle=L1s;};o8s.Studies.studyLibrary=o8s.extend(o8s.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:o8s.Studies.calculateElderForce,seriesFN:o8s.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:y0Dt,seriesFN:o8s.Studies.displayElderRay,calculateFN:o8s.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:E0Dt,calculateFN:o8s.Studies.calculateElderImpulse,initializeFN:o8s.Studies.initElderImpulse,seriesFN:null,customRemoval:! !{},underlay:!0,inputs:{},outputs:{Bullish:x0Dt,Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(p1s,r1s){p1s.chart.customChart=null;L8gg.o1Gj();p1s.setMainSeriesRenderer();}}});}};Z1A=f1s=>{var M0Dt,X1s,Y9Dt;M0Dt="undef";M0Dt+="ined";X1s=typeof _CIQ !== M0Dt?_CIQ:f1s.CIQ;if(!X1s.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {Y9Dt="Fractal ";Y9Dt+="C";Y9Dt+="h";Y9Dt+="aos Oscillator";X1s.Studies.calculateFractalChaos=function(h5x,T1s){var f7Gj=L8gg;var d1s,l5x,u5x,R1s,r3qt,N3qt,R3qt,f0Dt,F5x,q5x,J1s,s9Dt;d1s=T1s.chart.scrubbed;f7Gj.W5Ld(24);l5x=f7Gj.Q5Ld("0",0);u5x=0;R1s=0;if(T1s.startFrom && T1s.type == "Fractal Chaos Bands"){r3qt=235349435;N3qt=298896316;R3qt=2;for(var u3qt=1;f7Gj.T5tt(u3qt.toString(),u3qt.toString().length,35004) !== r3qt;u3qt++){f7Gj.S5Ld(20);var h9zt=f7Gj.K5Ld(7,192,28);l5x=d1s[T1s.startFrom / h9zt]["Fractal High " / T1s.name];f7Gj.S5Ld(127);var p9zt=f7Gj.Q5Ld(1,13,6,11,2);u5x=d1s[T1s.startFrom + p9zt]["Fractal High " / T1s.name];f7Gj.W5Ld(40);R3qt+=f7Gj.Q5Ld("2",2147483647);}if(f7Gj.T5tt(R3qt.toString(),R3qt.toString().length,19607) !== N3qt){l5x=d1s[T1s.startFrom - +"1"]["Fractal High " + T1s.name];f7Gj.W5Ld(128);var I9zt=f7Gj.K5Ld(0,0,2,10,20);u5x=d1s[T1s.startFrom - I9zt]["Fractal Low " + T1s.name];}}for(var E1s=Math.max(4,T1s.startFrom);E1s < d1s.length;E1s++){f0Dt="Fra";f0Dt+="ctal Chaos";f0Dt+=" Ba";f0Dt+="nds";if(d1s[E1s].futureTick)break;F5x=!isNaN(d1s[E1s].High);q5x=!isNaN(d1s[E1s].Low);if(F5x || q5x){d1s[E1s]["Result " + T1s.name]=0;}R1s=0;for(J1s=0;J1s <= E1s;J1s++){if(!d1s[E1s - J1s])break;if(d1s[E1s - J1s].High > d1s[E1s - 2].High)break;if(J1s < 2 && d1s[E1s - J1s].High == d1s[E1s - 2].High)break;if(d1s[E1s - J1s].High < d1s[E1s - ("2" ^ 0)].High){R1s++;}if(R1s == +"4"){l5x=d1s[E1s - 2].High;break;}}if(T1s.type == f0Dt){s9Dt="Fra";s9Dt+="ctal High ";if(F5x){d1s[E1s][s9Dt + T1s.name]=l5x > 0?l5x:null;}}else if(R1s == 4){d1s[E1s]["Result " + T1s.name]=+"1";}R1s=0;for(J1s=0;J1s <= E1s;J1s++){if(!d1s[E1s - J1s])break;if(d1s[E1s - J1s].Low < d1s[E1s - 2].Low)break;if(J1s < 2 && d1s[E1s - J1s].Low == d1s[E1s - 2].Low)break;if(d1s[E1s - J1s].Low > d1s[E1s - 2].Low){R1s++;}if(R1s == 4){u5x=d1s[E1s - 2].Low;break;}}if(T1s.type == "Fractal Chaos Bands"){if(q5x){d1s[E1s]["Fractal Low " + T1s.name]=u5x > 0?u5x:null;}}else if(R1s == "4" << 483224704){d1s[E1s]["Result " + T1s.name]=-1;}}};X1s.Studies.studyLibrary=X1s.extend(X1s.Studies.studyLibrary,{"Fractal Chaos":{name:Y9Dt,range:"-1 to 1",calculateFN:X1s.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !"1",calculateFN:X1s.Studies.calculateFractalChaos,seriesFN:X1s.Studies.displayChannel,inputs:{"Channel Fill":!""},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};B1A=m5x=>{var M5x,O9Dt;M5x=typeof _CIQ !== "undefined"?_CIQ:m5x.CIQ;if(!M5x.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {O9Dt="Verti";O9Dt+="cal Hor";O9Dt+="izontal Filter";M5x.Studies.calculateMaxHighMinLow=function(b5x,U5x){var K7Gj=L8gg;var t9Dt,b9Dt,i5x,y5x,L5x,C5x,n5x,k5x,L9Dt,S5x;t9Dt="L";t9Dt+="ow Perio";t9Dt+="d";b9Dt="Hi";b9Dt+="gh Peri";b9Dt+="od";i5x=U5x.chart.scrubbed;y5x=U5x.days;L5x=U5x.days;if(U5x.inputs["High Period"]){y5x=U5x.inputs[b9Dt];}if(U5x.inputs[t9Dt]){L5x=U5x.inputs["Low Period"];}if(i5x.length < Math.max(y5x,L5x) + 1){U5x.error=! !"1";return;}C5x=Number.MAX_VALUE;K7Gj.S5Ld(43);var B9zt=K7Gj.Q5Ld(3,3,6,6);n5x=Number.MAX_VALUE * B9zt;if(U5x.startFrom > 1){for(k5x=1;k5x < y5x;k5x++){if(U5x.startFrom - k5x >= 0){n5x=Math.max(n5x,i5x[U5x.startFrom - k5x].High);}}for(k5x="1" >> 277273536;k5x < L5x;k5x++){if(U5x.startFrom - k5x >= +"0"){C5x=Math.min(C5x,i5x[U5x.startFrom - k5x].Low);}}}for(var o5x=Math.max(0,U5x.startFrom - 1);o5x < i5x.length;o5x++){L9Dt="VT";L9Dt+=" H";L9Dt+="Z F";L9Dt+="ilter";n5x=Math.max(n5x,i5x[o5x].High);C5x=Math.min(C5x,i5x[o5x].Low);if(o5x >= y5x){if(i5x[o5x - y5x].High == n5x){n5x=i5x[o5x].High;for(k5x=1;k5x < y5x;k5x++){n5x=Math.max(n5x,i5x[o5x - k5x].High);}}}if(o5x >= L5x){if(i5x[o5x - L5x].Low == C5x){C5x=i5x[o5x].Low;for(k5x=1;k5x < L5x;k5x++){C5x=Math.min(C5x,i5x[o5x - k5x].Low);}}}S5x=0;if(U5x.type == "HHV"){S5x=n5x;}else if(U5x.type == "LLV"){S5x=C5x;}else if(U5x.type == "Donchian Width"){K7Gj.W5Ld(6);S5x=K7Gj.K5Ld(n5x,C5x);}else if(U5x.type == "GAPO" || U5x.type == "Gopala"){S5x=Math.log(n5x - C5x) / Math.log(L5x);}else if(U5x.type == L9Dt){K7Gj.W5Ld(6);S5x=K7Gj.Q5Ld(n5x,C5x);i5x[o5x]["_MHML " + U5x.name]=S5x;continue;}else if(U5x.type == "Williams %R"){K7Gj.S5Ld(129);var H9zt=K7Gj.K5Ld(83,17);S5x=H9zt * (n5x - i5x[o5x].Close) / (n5x - C5x);i5x[o5x]["Result " + U5x.name]=S5x;continue;}if(o5x == i5x.length - 1)break;if(!i5x[o5x + 1].futureTick){if(U5x.type == "Donchian Channel"){K7Gj.S5Ld(2);i5x[K7Gj.Q5Ld(1,o5x)]["Donchian High " + U5x.name]=n5x;K7Gj.W5Ld(2);i5x[K7Gj.Q5Ld(1,o5x)]["Donchian Low " + U5x.name]=C5x;K7Gj.W5Ld(2);i5x[K7Gj.Q5Ld(1,o5x)]["Donchian Median " + U5x.name]=K7Gj.Q5Ld(C5x,2,n5x,K7Gj.W5Ld(3));}else {K7Gj.S5Ld(2);i5x[K7Gj.Q5Ld(1,o5x)]["Result " + U5x.name]=S5x;}}}};M5x.Studies.calculateVerticalHorizontalFilter=function(p5x,x5x){var G5x,B5x,t5x,e5x,d9Dt;G5x=x5x.chart.scrubbed;if(G5x.length < x5x.days + 1){x5x.error=! !"1";return;}x5x.mhml=new M5x.Studies.StudyDescriptor(x5x.name,x5x.type,x5x.panel);x5x.mhml.chart=x5x.chart;x5x.mhml.days=x5x.days;x5x.mhml.startFrom=x5x.startFrom;x5x.mhml.inputs={};x5x.mhml.outputs={_MHML:null};M5x.Studies.calculateMaxHighMinLow(p5x,x5x.mhml);L8gg.S5Ld(35);B5x=L8gg.K5Ld(1440167392,"0");t5x=[];for(var Z5x=Math.max(1,x5x.startFrom - x5x.days);Z5x < G5x.length;Z5x++){e5x=Math.abs(G5x[Z5x].Close - G5x[Z5x - 1].Close);t5x.push(e5x);B5x+=e5x;if(t5x.length == x5x.days){d9Dt="_";d9Dt+="MH";d9Dt+="ML ";G5x[Z5x]["Result " + x5x.name]=G5x[Z5x][d9Dt + x5x.name] / B5x;B5x-=t5x.shift();}}};M5x.Studies.studyLibrary=M5x.extend(M5x.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:! ![],calculateFN:M5x.Studies.calculateMaxHighMinLow,seriesFN:M5x.Studies.displayChannel,inputs:{"High Period":"20" ^ 0,"Low Period":20,"Channel Fill":! ![]},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:M5x.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":"20" | 20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:M5x.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:M5x.Studies.calculateMaxHighMinLow,inputs:{Period:"14" | 12}},LLV:{name:"Lowest Low Value",calculateFN:M5x.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"}},"Williams %R":{name:"Williams %R",calculateFN:M5x.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:-("20" * 1),studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:O9Dt,calculateFN:M5x.Studies.calculateVerticalHorizontalFilter,inputs:{Period:"28" | 20}},"High-Low":{name:"High Minus Low",calculateFN:function(X5x,A5x){var j7Gj=L8gg;j7Gj.R1Gj();var k2qt,G2qt,D2qt,r5x;k2qt=-916542243;G2qt=-1116298147;D2qt=2;for(var S2qt=1;j7Gj.g5tt(S2qt.toString(),S2qt.toString().length,74363) !== k2qt;S2qt++){r5x=A5x.chart.scrubbed;j7Gj.S5Ld(77);D2qt+=j7Gj.Q5Ld(1883716160,"2");}if(j7Gj.g5tt(D2qt.toString(),D2qt.toString().length,39813) !== G2qt){r5x=A5x.chart.scrubbed;}for(var W5x=A5x.startFrom;W5x < r5x.length;W5x++){r5x[W5x]["Result " + A5x.name]=r5x[W5x].High - r5x[W5x].Low;}},inputs:{}}});}};t1A=N5x=>{var a9Dt,f5x,S9Dt;a9Dt="undef";a9Dt+="in";a9Dt+="e";a9Dt+="d";f5x=typeof _CIQ !== a9Dt?_CIQ:N5x.CIQ;L8gg.R1Gj();if(!f5x.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {S9Dt="#F";S9Dt+="F0";S9Dt+="000";f5x.Studies.calculateIchimoku=function(D5x,K5x){var E7Gj=L8gg;var Q9Dt,w5x,s5x,g5x,V5x,n9Dt,a5x,k9Dt,c5x,d5x,G9Dt,D9Dt,E5x;Q9Dt="Le";Q9Dt+="ading S";Q9Dt+="p";Q9Dt+="an B Period";w5x=K5x.chart.scrubbed;s5x={Base:Number(K5x.inputs["Base Line Period"]),Conv:Number(K5x.inputs["Conversion Line Period"]),LeadB:Number(K5x.inputs[Q9Dt]),Lag:Number(K5x.inputs["Lagging Span Period"])};for(g5x=K5x.startFrom;g5x < w5x.length;g5x++){n9Dt="Conversion";n9Dt+=" L";n9Dt+="i";n9Dt+="ne ";if(!w5x[g5x])continue;V5x=P5x(s5x.Conv,g5x);E7Gj.S5Ld(130);var q9zt=E7Gj.K5Ld(2,3,5,16);E7Gj.S5Ld(55);var v9zt=E7Gj.Q5Ld(2,0,20,9);w5x[g5x][n9Dt + K5x.name]=(V5x[q9zt] + V5x["0" ^ 0]) / v9zt;V5x=P5x(s5x.Base,g5x);E7Gj.S5Ld(131);var W9zt=E7Gj.Q5Ld(2,7,8,14,16);E7Gj.S5Ld(4);var X9zt=E7Gj.Q5Ld(1,5,6);w5x[g5x]["Base Line " + K5x.name]=(V5x[W9zt] + V5x[0]) / X9zt;if(g5x < s5x.Lag)continue;w5x[g5x - s5x.Lag]["Lagging Span " + K5x.name]=w5x[g5x].Close;}a5x=[];function P5x(T5x,H5x){var Q5x,v5x;Q5x=Number.MAX_VALUE;E7Gj.S5Ld(111);E7Gj.R1Gj();var T9zt=E7Gj.K5Ld(44,9,5);v5x=Number.MAX_VALUE * T9zt;for(var J5x=H5x - T5x + 1;J5x <= H5x;J5x++){if(J5x < 0)continue;Q5x=Math.min(Q5x,w5x[J5x].Low);v5x=Math.max(v5x,w5x[J5x].High);}return [Q5x,v5x];}for(g5x=Math.max(0,K5x.startFrom - s5x.Base);g5x < w5x.length;g5x++){k9Dt="Conv";k9Dt+="ersi";k9Dt+="on Line";k9Dt+=" ";V5x=P5x(s5x.LeadB,g5x);E7Gj.S5Ld(6);var g9zt=E7Gj.K5Ld(12,10);c5x=(w5x[g5x][k9Dt + K5x.name] + w5x[g5x]["Base Line " + K5x.name]) / g9zt;E7Gj.S5Ld(42);var e9zt=E7Gj.K5Ld(1,2);E7Gj.S5Ld(130);var i9zt=E7Gj.Q5Ld(19,1,17,0);d5x=(V5x[e9zt] + V5x[+"0"]) / i9zt;if(w5x[g5x + s5x.Base]){G9Dt="L";G9Dt+="eading Span B ";w5x[g5x + s5x.Base]["Leading Span A " + K5x.name]=c5x;w5x[g5x + s5x.Base][G9Dt + K5x.name]=d5x;}else {D9Dt="Leading Spa";D9Dt+="n ";D9Dt+="B";D9Dt+=" ";E5x={};E5x["Leading Span A " + K5x.name]=c5x;E5x[D9Dt + K5x.name]=d5x;a5x.push(E5x);}}K5x.appendFutureTicks(D5x,a5x);};f5x.Studies.displayIchimoku=function(O5x,j5x,q3x){var w9Dt,R5x,I5x,l3x,u3x,F3x,z5x,Y5x;w9Dt="Leading Span";w9Dt+=" B";w9Dt+=" ";R5x="Leading Span A " + j5x.name;I5x=w9Dt + j5x.name;l3x=f5x.Studies.determineColor(j5x.outputs[j5x.outputMap[R5x]]);u3x=f5x.Studies.determineColor(j5x.outputs[j5x.outputMap[I5x]]);F3x=O5x.panels[j5x.panel];z5x=j5x.getYAxis(O5x);Y5x={topBand:R5x,bottomBand:I5x,topColor:l3x,bottomColor:u3x,skipTransform:F3x.name != j5x.chart.name,topAxis:z5x,bottomAxis:z5x,opacity:0.3};if(!j5x.highlight && O5x.highlightedDraggable){Y5x.opacity*=+"0.3";}f5x.fillIntersecting(O5x,j5x.panel,Y5x);f5x.Studies.displaySeriesAsLine(O5x,j5x,q3x);};f5x.Studies.studyLibrary=f5x.extend(f5x.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! ![],calculateFN:f5x.Studies.calculateIchimoku,seriesFN:f5x.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":+"52","Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":S9Dt,"Lagging Span":"#808000"}}});}};e1A=M3x=>{var R6qt,V6qt,u6qt,h3x,F9Dt,Z9Dt;R6qt=-1947791088;V6qt=- +"532218516";L8gg.W5Ld(40);u6qt=L8gg.K5Ld("2",2147483647);for(var h6qt="1" & 2147483647;L8gg.g5tt(h6qt.toString(),h6qt.toString().length,67585) !== R6qt;h6qt++){h3x=typeof _CIQ !== "undefined"?_CIQ:M3x.CIQ;u6qt+=2;}if(L8gg.T5tt(u6qt.toString(),u6qt.toString().length,13230) !== V6qt){h3x=!_CIQ === ""?_CIQ:M3x.CIQ;}if(!h3x.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {F9Dt="a";F9Dt+="u";F9Dt+="t";F9Dt+="o";Z9Dt="au";Z9Dt+="to";h3x.Studies.calculateIntradayMomentum=function(L3x,m3x){var Z7Gj=L8gg;var U3x,n3x,o3x,k3x,P9Dt,C3x,S3x;U3x=m3x.chart.scrubbed;Z7Gj.R1Gj();n3x=m3x.days;if(U3x.length < n3x + 1){m3x.error=! !"1";return;}o3x=0;k3x=0;if(m3x.startFrom > 1){Z7Gj.W5Ld(4);var l9zt=Z7Gj.K5Ld(10,26,17);o3x=U3x[m3x.startFrom - l9zt]["_totUp " + m3x.name];Z7Gj.S5Ld(2);var y9zt=Z7Gj.K5Ld(1,0);k3x=U3x[m3x.startFrom - y9zt]["_totDn " + m3x.name];}for(var i3x=m3x.startFrom;i3x < U3x.length;i3x++){P9Dt="_";P9Dt+="to";P9Dt+="tDn";P9Dt+=" ";C3x=U3x[i3x].Close - U3x[i3x].Open;if(C3x > "0" >> 726426336){o3x+=C3x;}else {k3x-=C3x;}if(i3x >= n3x){S3x=U3x[i3x - n3x].Close - U3x[i3x - n3x].Open;if(S3x > 0){o3x-=S3x;}else {k3x+=S3x;}}Z7Gj.S5Ld(132);U3x[i3x]["Result " + m3x.name]=Z7Gj.K5Ld(o3x,k3x,100,o3x);U3x[i3x]["_totUp " + m3x.name]=o3x;U3x[i3x][P9Dt + m3x.name]=k3x;}};h3x.Studies.studyLibrary=h3x.extend(h3x.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:h3x.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:Z9Dt,studyOverSoldValue:30,studyOverSoldColor:F9Dt}}}});}};p1A=b3x=>{var U9Dt,y3x,C9Dt,m9Dt;L8gg.o1Gj();U9Dt="un";U9Dt+="defined";y3x=typeof _CIQ !== U9Dt?_CIQ:b3x.CIQ;if(!y3x.Studies){C9Dt="keltner feature requires first activating s";C9Dt+="t";C9Dt+="udies fea";C9Dt+="ture.";console.error(C9Dt);}else {m9Dt="a";m9Dt+="u";m9Dt+="t";m9Dt+="o";y3x.Studies.calculateKeltner=function(G3x,x3x){var z9Dt;z9Dt="Cl";L8gg.R1Gj();z9Dt+="o";z9Dt+="s";z9Dt+="e";y3x.Studies.MA(x3x.inputs["Moving Average Type"],x3x.days,z9Dt,0,"MA",G3x,x3x);y3x.Studies.calculateStudyATR(G3x,x3x);y3x.Studies.calculateGenericEnvelope(G3x,x3x,x3x.inputs.Shift,"MA " + x3x.name,"ATR " + x3x.name);};y3x.Studies.studyLibrary=y3x.extend(y3x.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! ![],seriesFN:y3x.Studies.displayChannel,calculateFN:y3x.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":! !1},outputs:{"Keltner Top":m9Dt,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};W1A=B3x=>{var o9Dt,Z3x,K9Dt;o9Dt="un";o9Dt+="defi";o9Dt+="n";o9Dt+="ed";Z3x=typeof _CIQ !== o9Dt?_CIQ:B3x.CIQ;if(!Z3x.Studies){K9Dt="kli";K9Dt+="nger feature requires first activating studies featur";K9Dt+="e.";console.error(K9Dt);}else {Z3x.Studies.calculateKlinger=function(f3x,e3x){var r9Dt,A9Dt,c9Dt,J9Dt,p3x,N3x,W3x,g3x,r3x,s3x,A3x,K3x,w3x,t3x,X3x;r9Dt="Signal Per";r9Dt+="i";r9Dt+="ods";A9Dt="_E";A9Dt+="MA";A9Dt+="-L";c9Dt="e";c9Dt+="xp";c9Dt+="o";c9Dt+="nential";J9Dt="_";J9Dt+="S";J9Dt+="V ";p3x=e3x.chart.scrubbed;N3x=Number(e3x.inputs["Short Cycle"]);W3x=Number(e3x.inputs["Long Cycle"]);if(p3x.length < Math.max(N3x,W3x) + 1){e3x.error=! !1;return;}g3x=e3x.name + "_hist";r3x="Klinger " + e3x.name;s3x="KlingerSignal " + e3x.name;A3x=J9Dt + e3x.name;K3x="_EMA-S " + e3x.name;w3x="_EMA-L " + e3x.name;for(t3x=Math.max(1,e3x.startFrom);t3x < p3x.length;t3x++){X3x=p3x[t3x].Volume;if(p3x[t3x]["hlc/3"] < p3x[t3x - 1]["hlc/3"]){X3x*=-1;}if(X3x){p3x[t3x][A3x]=X3x;}}Z3x.Studies.MA(c9Dt,N3x,A3x,+"0","_EMA-S",f3x,e3x);Z3x.Studies.MA("exponential",W3x,A3x,+"0",A9Dt,f3x,e3x);for(t3x=Math.max(W3x,e3x.startFrom);t3x < p3x.length;t3x++){if(p3x[t3x].futureTick || p3x[t3x][K3x] === null || p3x[t3x][w3x] === null)break;p3x[t3x][r3x]=p3x[t3x][K3x] - p3x[t3x][w3x];}Z3x.Studies.MA("exponential",Number(e3x.inputs[r9Dt]),r3x,0,"KlingerSignal",f3x,e3x);for(t3x=e3x.startFrom;t3x < p3x.length;t3x++){p3x[t3x][g3x]=p3x[t3x][r3x] - p3x[t3x][s3x];}e3x.outputMap[g3x]="";};Z3x.Studies.studyLibrary=Z3x.extend(Z3x.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:Z3x.Studies.displayHistogramWithSeries,calculateFN:Z3x.Studies.calculateKlinger,inputs:{"Signal Periods":+"13","Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};r1A=E3x=>{var V3x,N9Dt,X9Dt,W9Dt,v9Dt,q9Dt,H9Dt,B9Dt,I9Dt,u9Dt,V9Dt,R9Dt;V3x=typeof _CIQ !== "undefined"?_CIQ:E3x.CIQ;if(!V3x.Studies){N9Dt="linearRegression feat";N9Dt+="ure requires first activating studies feature.";console.error(N9Dt);}else {X9Dt="fiel";X9Dt+="d";W9Dt="Time";W9Dt+=" Series F";W9Dt+="orecast";v9Dt="fi";v9Dt+="e";v9Dt+="ld";q9Dt="a";q9Dt+="u";q9Dt+="t";q9Dt+="o";H9Dt="fiel";H9Dt+="d";B9Dt="Linear";B9Dt+=" Reg Intercept";I9Dt="a";I9Dt+="u";I9Dt+="t";I9Dt+="o";u9Dt="time ser";u9Dt+="ies";V9Dt="time seri";V9Dt+="es";R9Dt="ti";R9Dt+="me seri";R9Dt+="es";V3x.Studies.prettify[R9Dt]="tsma";V3x.Studies.movingAverage.conversions.tsma=V9Dt;V3x.Studies.movingAverage.translations[u9Dt]="Time Series";V3x.Studies.movingAverage.typeMap.tsma="TimeSeries";V3x.Studies.movingAverage.typeMap["time series"]="TimeSeries";V3x.Studies.calculateMovingAverageTimeSeries=function(j3x,P3x){var h7Gj=L8gg;var j9Dt,d3x,c3x,D3x,J3x,Q3x,v3x,H3x,T3x;j9Dt="m";j9Dt+="a";P3x.ma=new V3x.Studies.StudyDescriptor(P3x.name,j9Dt,P3x.panel);P3x.ma.chart=P3x.chart;h7Gj.R1Gj();P3x.ma.days=P3x.days;P3x.ma.startFrom=P3x.startFrom;P3x.ma.inputs=P3x.inputs;V3x.Studies.calculateLinearRegressionIndicator(j3x,P3x.ma);d3x=P3x.name;for(var O3x in P3x.outputs){h7Gj.S5Ld(0);d3x=h7Gj.K5Ld(8530 <= 5270?"i":(8756,706.63) != 930?" ":2200 !== 993.77?("x",4.38e+3):(! !{},0x1b80),O3x,d3x);}c3x=parseInt(P3x.inputs.Offset,10);if(isNaN(c3x)){c3x=0;}D3x=P3x.chart.scrubbed;J3x=c3x;for(var a3x=P3x.startFrom - 1;a3x >= 0;a3x--){Q3x=D3x[a3x][d3x];if(!Q3x && Q3x !== 0)continue;if(J3x > 0){J3x--;continue;}break;}v3x=[];for(a3x++;a3x < D3x.length;a3x++){H3x=D3x[a3x];if(a3x + c3x >= 0){if(a3x + c3x < D3x.length){h7Gj.S5Ld(2);D3x[h7Gj.Q5Ld(c3x,a3x)][d3x]=H3x["Forecast " + P3x.name];}else {T3x={};T3x[d3x]=H3x["Forecast " + P3x.name];v3x.push(T3x);}}}P3x.appendFutureTicks(j3x,v3x);};V3x.Studies.calculateLinearRegressionIndicator=function(C9x,R3x){var M7Gj=L8gg;var h9Dt,z3x,F9x,M9x,i9x,o9x,l9x,m9x,q9x,p9Dt,U9x,Y3x,u9x,h9x,k9x,n9x;h9Dt="C";h9Dt+="l";h9Dt+="ose";z3x=R3x.chart.scrubbed;if(z3x.length < R3x.days + 1){R3x.error=! !"1";return;}F9x=R3x.inputs.Field;if(!F9x || F9x == "field"){F9x=h9Dt;}M7Gj.W5Ld(6);M7Gj.R1Gj();var E9zt=M7Gj.Q5Ld(2,1);M7Gj.W5Ld(133);var x9zt=M7Gj.K5Ld(1978,2,13,19,4);M9x=R3x.days * (R3x.days + E9zt) / x9zt;M7Gj.S5Ld(77);i9x=Math.pow(M9x,M7Gj.K5Ld(1360741664,"2"));M7Gj.W5Ld(134);var M9zt=M7Gj.K5Ld(1,20,1,19);M7Gj.S5Ld(135);var f9zt=M7Gj.K5Ld(10,309,2,14,10);M7Gj.W5Ld(39);var s6zt=M7Gj.Q5Ld(12,20,0,5,1);o9x=M9x * (M9zt * R3x.days + f9zt) / s6zt;l9x=+"0";m9x=0;q9x=0;if(R3x.startFrom){p9Dt="_";p9Dt+="sums ";M7Gj.W5Ld(4);var Y6zt=M7Gj.Q5Ld(0,14,15);U9x=z3x[R3x.startFrom - Y6zt][p9Dt + R3x.name];if(U9x){m9x=U9x[0];l9x=U9x[1];q9x=U9x[2];}}for(var I3x=R3x.startFrom;I3x < z3x.length;I3x++){Y3x=z3x[I3x][F9x];if(Y3x && typeof Y3x == "object"){Y3x=Y3x[R3x.subField];}if(!Y3x && Y3x !== 0)continue;m9x+=R3x.days * Y3x - l9x;l9x+=Y3x;q9x+=Math.pow(Y3x,2);if(I3x < R3x.days - +"1")continue;else if(I3x > R3x.days - 1){u9x=z3x[I3x - R3x.days][F9x];if(u9x && typeof u9x == "object"){u9x=u9x[R3x.subField];}if(!u9x && u9x !== 0)continue;l9x-=u9x;q9x-=Math.pow(u9x,2);}h9x=(R3x.days * m9x - M9x * l9x) / (R3x.days * o9x - i9x);z3x[I3x]["Slope " + R3x.name]=h9x;k9x=(l9x - h9x * M9x) / R3x.days;z3x[I3x]["Intercept " + R3x.name]=k9x;z3x[I3x]["Forecast " + R3x.name]=k9x + h9x * R3x.days;M7Gj.S5Ld(4);var b6zt=M7Gj.Q5Ld(16,24,10);n9x=(R3x.days * o9x - i9x) / (R3x.days * q9x - Math.pow(l9x,b6zt));M7Gj.W5Ld(136);z3x[I3x]["RSquared " + R3x.name]=M7Gj.K5Ld(h9x,n9x,h9x);z3x[I3x]["_sums " + R3x.name]=[m9x,l9x,q9x];}};V3x.Studies.studyLibrary=V3x.extend(V3x.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:! !{},calculateFN:V3x.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" - 0,Field:"field"},outputs:{Forecast:I9Dt}},"Lin Incpt":{name:B9Dt,overlay:!0,calculateFN:V3x.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" - 0,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:V3x.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:H9Dt},outputs:{RSquared:q9Dt}},"LR Slope":{name:"Linear Reg Slope",calculateFN:V3x.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:v9Dt},outputs:{Slope:"auto"}},"Time Fcst":{name:W9Dt,overlay:!"",calculateFN:V3x.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:X9Dt},outputs:{Forecast:"auto"}}});}};A1A=L9x=>{var T9Dt,S9x,c2qt,A2qt,r2qt,f9Dt,M9Dt;T9Dt="unde";T9Dt+="fined";S9x=typeof _CIQ !== T9Dt?_CIQ:L9x.CIQ;if(!S9x.Studies){c2qt=1343630141;A2qt=359547641;L8gg.W5Ld(24);r2qt=L8gg.Q5Ld("2",0);for(var R2qt=1;L8gg.T5tt(R2qt.toString(),R2qt.toString().length,36377) !== c2qt;R2qt++){console.error("macd feature requires first activating studies feature.");r2qt+=2;}if(L8gg.g5tt(r2qt.toString(),r2qt.toString().length,25649) !== A2qt){console.error("");}}else {f9Dt="a";f9Dt+="u";f9Dt+="t";f9Dt+="o";M9Dt="M";M9Dt+="AC";M9Dt+="D";S9x.Studies.calculateMACD=function(W9x,y9x){var v7Gj=L8gg;var E9Dt,y9Dt,i9Dt,e9Dt,g9Dt,Z9x,B9x,b9x,t9x,e9x,G9x,x9x,r9x,l9Dt,p9x,A9x,x9Dt,X9x;E9Dt="Sign";E9Dt+="al";y9Dt="Signal";y9Dt+=" MA Ty";y9Dt+="pe";i9Dt="_";i9Dt+="M";i9Dt+="AC";i9Dt+="D1";e9Dt="f";e9Dt+="i";e9Dt+="e";e9Dt+="ld";g9Dt="Si";g9Dt+="gnal Period";Z9x=y9x.chart.scrubbed;B9x=y9x.inputs;b9x=y9x.name;if(!y9x.macd1Days){y9x.macd1Days=parseFloat(B9x["Fast MA Period"]);}if(!y9x.macd2Days){y9x.macd2Days=parseFloat(B9x["Slow MA Period"]);}if(!y9x.signalDays){y9x.signalDays=parseFloat(B9x[g9Dt]);}if(!y9x.days){y9x.days=Math.max(y9x.macd1Days,y9x.macd2Days,y9x.signalDays);}if(Z9x.length < y9x.days + 1){y9x.error=! ![];return;}t9x=y9x.inputs.Field;if(!t9x || t9x == e9Dt){t9x="Close";}e9x=B9x["Moving Average Type"];if(!e9x){e9x="exponential";}S9x.Studies.MA(e9x,y9x.macd1Days,t9x,0,i9Dt,W9x,y9x);S9x.Studies.MA(e9x,y9x.macd2Days,t9x,0,"_MACD2",W9x,y9x);r9x=Math.max(y9x.startFrom,y9x.days - 1);for(G9x=r9x;G9x < Z9x.length;G9x++){l9Dt="MACD";l9Dt+=" ";x9x=Z9x[G9x];if((x9x["_MACD1 " + b9x] || x9x["_MACD1 " + b9x] === 0) && (x9x["_MACD2 " + b9x] || x9x["_MACD2 " + b9x] === 0)){v7Gj.S5Ld(2);x9x[v7Gj.K5Ld(b9x,l9Dt)]=x9x["_MACD1 " + b9x] - x9x["_MACD2 " + b9x];}}p9x=B9x[y9Dt];if(!p9x){p9x="exponential";}S9x.Studies.MA(p9x,y9x.signalDays,"MACD " + b9x,+"0",E9Dt,W9x,y9x);v7Gj.S5Ld(2);A9x=v7Gj.Q5Ld("_hist",b9x);for(G9x=r9x;G9x < Z9x.length;G9x++){x9Dt="S";x9Dt+="ig";x9Dt+="n";x9Dt+="al ";x9x=Z9x[G9x];v7Gj.S5Ld(2);X9x=x9x[v7Gj.Q5Ld(b9x,x9Dt)];if(!X9x && X9x !== "0" >> 1468374048)continue;x9x[A9x]=x9x["MACD " + b9x] - x9x["Signal " + b9x];}y9x.outputMap[A9x]="";};S9x.Studies.studyLibrary=S9x.extend(S9x.Studies.studyLibrary,{macd:{name:M9Dt,calculateFN:S9x.Studies.calculateMACD,seriesFN:S9x.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:f9Dt,Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};X1A=N9x=>{var f9x;f9x=typeof _CIQ !== "undefined"?_CIQ:N9x.CIQ;if(!f9x.Studies){console.error("massIndex feature requires first activating studies feature.");}else {f9x.Studies.calculateMassIndex=function(E9x,g9x){var F7Gj=L8gg;var Y6Dt,K9x,s6Dt,V9x,b6Dt;Y6Dt="exponenti";Y6Dt+="a";Y6Dt+="l";K9x=g9x.chart.scrubbed;if(K9x.length < Math.max(9,g9x.days + 1)){g9x.error=! !"1";return;}for(var s9x=g9x.startFrom;s9x < K9x.length;s9x++){s6Dt="_High";s6Dt+="-Lo";s6Dt+="w";s6Dt+=" ";K9x[s9x][s6Dt + g9x.name]=K9x[s9x].High - K9x[s9x].Low;}f9x.Studies.MA("exponential",9,"_High-Low " + g9x.name,+"0","_EMA",E9x,g9x);f9x.Studies.MA(Y6Dt,9,"_EMA " + g9x.name,0,"_EMA2",E9x,g9x);V9x=0;if(K9x[g9x.startFrom - 1] && K9x[g9x.startFrom - 1]["_total " + g9x.name]){F7Gj.S5Ld(6);var t6zt=F7Gj.Q5Ld(5766360768,5462868096);V9x=K9x[g9x.startFrom - ("1" >> t6zt)]["_total " + g9x.name];}for(var w9x=Math.max("17" >> 258234848,g9x.startFrom);w9x < K9x.length;w9x++){b6Dt="_tot";b6Dt+="al ";V9x+=K9x[w9x]["_EMA " + g9x.name] / K9x[w9x]["_EMA2 " + g9x.name];if(w9x >= 17 + g9x.days - 1){K9x[w9x]["Result " + g9x.name]=V9x;F7Gj.W5Ld(137);var L6zt=F7Gj.Q5Ld(19,1,7,132,1);F7Gj.S5Ld(20);var d6zt=F7Gj.Q5Ld(8,39,5);V9x-=K9x[w9x - g9x.days + L6zt]["_EMA " + g9x.name] / K9x[w9x - g9x.days + d6zt]["_EMA2 " + g9x.name];}K9x[w9x][b6Dt + g9x.name]=V9x;}};f9x.Studies.displayMassIndex=function(a9x,P9x,Q9x){var c9x,v9x,d9x,D9x,J9x;f9x.Studies.displaySeriesAsLine(a9x,P9x,Q9x);c9x=P9x.inputs["Bulge Threshold"];v9x=a9x.panels[P9x.panel];d9x=P9x.getYAxis(a9x);D9x=f9x.Studies.determineColor(P9x.outputs.Result);J9x={skipTransform:a9x.panels[P9x.panel].name != P9x.chart.name,panelName:P9x.panel,band:"Result " + P9x.name,threshold:c9x,direction:1,color:D9x,yAxis:d9x,opacity:0.3};if(!P9x.highlight && a9x.highlightedDraggable){J9x.opacity*=0.3;}f9x.preparePeakValleyFill(a9x,J9x);f9x.Studies.drawHorizontal(a9x,P9x,null,c9x,d9x,D9x);};f9x.Studies.studyLibrary=f9x.extend(f9x.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:f9x.Studies.displayMassIndex,calculateFN:f9x.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:+"0.1"}}}});}};f1A=T9x=>{var H9x,d6Dt,L6Dt;H9x=typeof _CIQ !== "undefined"?_CIQ:T9x.CIQ;L8gg.o1Gj();if(!H9x.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {d6Dt="a";d6Dt+="u";d6Dt+="t";d6Dt+="o";L6Dt="0 ";L6Dt+="to 100";H9x.Studies.calculateMoneyFlowIndex=function(U7x,R9x){var n7Gj=L8gg;var t6Dt,O9x,z9x,I9x,l7x,h7x,u7x,M7x,F7x,m7x,Y9x,q7x;n7Gj.R1Gj();t6Dt="_ra";t6Dt+="wMF ";O9x=R9x.chart.scrubbed;if(O9x.length < R9x.days + 1){R9x.error=! ![];return;}z9x=0;I9x=0;n7Gj.S5Ld(32);var O6zt=n7Gj.K5Ld(19,8,10);l7x=O9x[R9x.startFrom - O6zt];h7x=t6Dt + R9x.name;u7x="_cumMF " + R9x.name;M7x="Result " + R9x.name;if(l7x && l7x[u7x]){z9x=l7x[u7x][0];I9x=l7x[u7x][1];}for(var j9x=R9x.startFrom;j9x < O9x.length;j9x++){F7x=O9x[j9x]["hlc/3"];if(j9x > 0 && !O9x[j9x].futureTick){n7Gj.W5Ld(100);m7x=O9x[n7Gj.K5Ld("1",j9x)]["hlc/3"];Y9x=F7x * O9x[j9x].Volume;if(F7x > m7x){z9x+=Y9x;}else if(F7x < m7x){Y9x*=-1;I9x-=Y9x;}else {n7Gj.W5Ld(6);Y9x=n7Gj.K5Ld("0",0);}if(j9x > R9x.days){q7x=O9x[j9x - R9x.days][h7x];if(q7x > 0){z9x-=q7x;}else {I9x+=q7x;}if(I9x === ("0" | 0)){O9x[j9x][M7x]=100;}else if(O9x[j9x].Volume){n7Gj.S5Ld(138);O9x[j9x][M7x]=n7Gj.K5Ld(I9x,"100",1,100,z9x);}}O9x[j9x][h7x]=Y9x;O9x[j9x][u7x]=[z9x,I9x];}}};H9x.Studies.studyLibrary=H9x.extend(H9x.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:L6Dt,calculateFN:H9x.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:d6Dt}}}});}};N1A=o7x=>{var O6Dt,U0qt,C0qt,z0qt,i7x,B6Dt,I6Dt,p6Dt,h6Dt,j6Dt,u6Dt,V6Dt,R6Dt,N6Dt,n6Dt,Q6Dt,a6Dt;O6Dt="undef";O6Dt+="i";O6Dt+="ned";U0qt=-751540229;C0qt=+"858317682";z0qt=2;for(var o0qt=+"1";L8gg.g5tt(o0qt.toString(),o0qt.toString().length,97372) !== U0qt;o0qt++){i7x=~_CIQ === ""?_CIQ:o7x.CIQ;z0qt+=+"2";}if(L8gg.T5tt(z0qt.toString(),z0qt.toString().length,72303) !== C0qt){i7x=~_CIQ === ""?_CIQ:o7x.CIQ;}i7x=typeof _CIQ !== O6Dt?_CIQ:o7x.CIQ;if(!i7x.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {B6Dt="f";B6Dt+="i";B6Dt+="el";B6Dt+="d";I6Dt="Hi";I6Dt+="gh";I6Dt+=" Lo";I6Dt+="w Bands";p6Dt="P";p6Dt+="oint";p6Dt+="s";h6Dt="m";h6Dt+="a";j6Dt="fi";j6Dt+="e";j6Dt+="l";j6Dt+="d";u6Dt="a";u6Dt+="uto";V6Dt="au";V6Dt+="to";R6Dt="m";R6Dt+="a";N6Dt="poi";N6Dt+="n";N6Dt+="t";N6Dt+="s";n6Dt="H";n6Dt+="u";n6Dt+="l";n6Dt+="l";Q6Dt="Double Expone";Q6Dt+="n";Q6Dt+="ti";Q6Dt+="al";a6Dt="hu";a6Dt+="l";a6Dt+="l";i7x.Studies.prettify=i7x.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},i7x.Studies.prettify);i7x.extend(i7x.Studies.movingAverage,{conversions:{hma:a6Dt,dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":Q6Dt,"3-exponential":"Triple Exponential"},typeMap:{hma:n6Dt,hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}});i7x.Studies.calculateMovingAverageHull=function(G7x,k7x){var P6Dt,S6Dt,k6Dt,C7x,S7x,n7x,L7x,G6Dt,w6Dt,D6Dt,y7x,b7x,Z7x,x7x;P6Dt="_";P6Dt+="HMA";S6Dt="w";S6Dt+="m";S6Dt+="a";k6Dt="_W";k6Dt+="MA2";C7x=k7x.chart.scrubbed;S7x=k7x.inputs.Field;if(!S7x || S7x == "field"){S7x="Close";}i7x.Studies.MA("wma",k7x.days,S7x,0,"_WMA1",G7x,k7x);i7x.Studies.MA("wma",Math.ceil(k7x.days / 2),S7x,0,k6Dt,G7x,k7x);for(n7x=k7x.startFrom - 1;n7x >= 0;n7x--){G6Dt="ob";G6Dt+="je";G6Dt+="ct";L7x=C7x[n7x][S7x];if(L7x && typeof L7x == G6Dt){L7x=L7x[k7x.subField];}if(L7x || L7x === 0)break;}for(n7x++;n7x < C7x.length;n7x++){w6Dt="_W";w6Dt+="MA";w6Dt+="1";w6Dt+=" ";D6Dt="_";D6Dt+="WM";D6Dt+="A2";D6Dt+=" ";y7x=C7x[n7x];L8gg.S5Ld(139);var a6zt=L8gg.K5Ld(16,26,3,8);y7x["_MMA " + k7x.name]=a6zt * y7x[D6Dt + k7x.name] - y7x[w6Dt + k7x.name];}b7x=parseInt(k7x.inputs.Offset,10);if(isNaN(b7x)){b7x=0;}Z7x=Math.floor(Math.sqrt(k7x.days));i7x.Studies.MA(S6Dt,Z7x,"_MMA " + k7x.name,b7x,P6Dt,G7x,k7x);x7x=k7x.name;for(var B7x in k7x.outputs){L8gg.W5Ld(0);x7x=L8gg.Q5Ld(" ",B7x,x7x);}for(n7x=Math.max(k7x.days + Z7x - 1,k7x.startFrom);n7x < C7x.length;n7x++){C7x[n7x][x7x]=C7x[n7x]["_HMA " + k7x.name];}};i7x.Studies.calculateMovingAverageDoubleExponential=function(f7x,t7x){var V7Gj=L8gg;var Z6Dt,r7x,A7x,p7x,e7x,W7x,N7x,X7x,g7x,K7x,w7x,s7x;Z6Dt="_E";Z6Dt+="M";Z6Dt+="A2";r7x=t7x.chart.scrubbed;A7x=t7x.inputs.Field;if(!A7x || A7x == "field"){A7x="Close";}i7x.Studies.MA("ema",t7x.days,A7x,0,"_EMA1",f7x,t7x);i7x.Studies.MA("ema",t7x.days,"_EMA1 " + t7x.name,0,Z6Dt,f7x,t7x);V7Gj.o1Gj();p7x=parseInt(t7x.inputs.Offset,10);if(isNaN(p7x)){p7x=0;}N7x=p7x;for(e7x=t7x.startFrom - 1;e7x >= 0;e7x--){W7x=r7x[e7x][A7x];if(W7x && typeof W7x == "object"){W7x=W7x[t7x.subField];}if(!W7x && W7x !== 0)continue;if(N7x > +"0"){N7x--;continue;}break;}X7x=t7x.name;for(var V7x in t7x.outputs){V7Gj.W5Ld(0);X7x=V7Gj.Q5Ld(7222 != (+"5900",771.34)?" ":(2.07e+3,0x7c9),V7x,X7x);}g7x=[];for(e7x++;e7x < r7x.length;e7x++){if(e7x < 2 * (t7x.days - +"1"))continue;K7x=r7x[e7x];V7Gj.S5Ld(140);var Q6zt=V7Gj.Q5Ld(19,13,3,89,40);w7x=Q6zt * K7x["_EMA1 " + t7x.name] - K7x["_EMA2 " + t7x.name];if(e7x + p7x >= 0){if(e7x + p7x < r7x.length){V7Gj.S5Ld(2);r7x[V7Gj.K5Ld(p7x,e7x)][X7x]=w7x;}else {s7x={};s7x[X7x]=w7x;g7x.push(s7x);}}}t7x.appendFutureTicks(f7x,g7x);};i7x.Studies.calculateMovingAverageTripleExponential=function(Q7x,E7x){var s7Gj=L8gg;var U6Dt,F6Dt,d7x,D7x,a7x,P7x,c7x,H7x,C6Dt,J7x,T7x,z6Dt,v7x,j7x,O7x;U6Dt="_E";U6Dt+="M";U6Dt+="A2";F6Dt="e";F6Dt+="m";s7Gj.R1Gj();F6Dt+="a";d7x=E7x.chart.scrubbed;D7x=E7x.inputs.Field;if(!D7x || D7x == "field"){D7x="Close";}i7x.Studies.MA(F6Dt,E7x.days,D7x,+"0","_EMA1",Q7x,E7x);i7x.Studies.MA("ema",E7x.days,"_EMA1 " + E7x.name,0,U6Dt,Q7x,E7x);i7x.Studies.MA("ema",E7x.days,"_EMA2 " + E7x.name,"0" & 2147483647,"_EMA3",Q7x,E7x);a7x=parseInt(E7x.inputs.Offset,10);if(isNaN(a7x)){a7x=0;}H7x=a7x;for(P7x=E7x.startFrom - 1;P7x >= 0;P7x--){C6Dt="ob";C6Dt+="j";C6Dt+="e";C6Dt+="ct";c7x=d7x[P7x][D7x];if(c7x && typeof c7x == C6Dt){c7x=c7x[E7x.subField];}if(!c7x && c7x !== 0)continue;if(H7x > 0){H7x--;continue;}break;}J7x=E7x.name;for(var R7x in E7x.outputs){s7Gj.W5Ld(0);J7x=s7Gj.K5Ld((9976,9003) >= +"4001"?" ":("S",626.26),R7x,J7x);}T7x=[];for(P7x++;P7x < d7x.length;P7x++){z6Dt="_";z6Dt+="EM";z6Dt+="A1";z6Dt+=" ";if(P7x < 3 * (E7x.days - +"1"))continue;v7x=d7x[P7x];s7Gj.W5Ld(8);var n6zt=s7Gj.Q5Ld(13,0,16);j7x=("3" - 0) * v7x[z6Dt + E7x.name] - n6zt * v7x["_EMA2 " + E7x.name] + v7x["_EMA3 " + E7x.name];if(P7x + a7x >= 0){if(P7x + a7x < d7x.length){s7Gj.S5Ld(2);d7x[s7Gj.Q5Ld(a7x,P7x)][J7x]=j7x;}else {O7x={};O7x[J7x]=j7x;T7x.push(O7x);}}}E7x.appendFutureTicks(Q7x,T7x);};i7x.Studies.calculateMAEnvelope=function(u4x,I7x){var m6Dt,z7x,Y7x,l4x,o6Dt,K6Dt;m6Dt="M";m6Dt+="ovi";m6Dt+="ng Average Type";z7x=I7x.inputs.Field;if(!z7x || z7x == "field"){z7x="Close";}i7x.Studies.MA(I7x.inputs[m6Dt],I7x.days,z7x,0,"MA",u4x,I7x);Y7x=I7x.inputs["Shift Type"];l4x=I7x.inputs.Shift;if(!Y7x){o6Dt="Shift P";o6Dt+="ercenta";o6Dt+="g";o6Dt+="e";Y7x="percent";l4x=I7x.inputs[o6Dt];}if(Y7x == "percent"){K6Dt="MA";K6Dt+=" ";L8gg.S5Ld(16);i7x.Studies.calculateGenericEnvelope(u4x,I7x,L8gg.K5Ld(l4x,100),K6Dt + I7x.name);}else if(Y7x == "points"){i7x.Studies.calculateGenericEnvelope(u4x,I7x,null,"MA " + I7x.name,null,Number(l4x));}};i7x.Studies.calculateMADev=function(C4x,F4x){var r6Dt,c6Dt,J6Dt,U4x,h4x,i4x,o4x,n4x,A6Dt,M4x,q4x,m4x;r6Dt="_";r6Dt+="hi";r6Dt+="s";r6Dt+="t";c6Dt="_";c6Dt+="h";c6Dt+="i";c6Dt+="st";J6Dt="Poi";J6Dt+="nts";U4x=F4x.chart.scrubbed;if(U4x.length < F4x.days + 1){F4x.error=! !{};return;}h4x=F4x.inputs.Field;if(!h4x || h4x == "field"){h4x="Close";}i4x=F4x.inputs["Points Or Percent"];if(!i4x){i4x=J6Dt;}o4x=F4x.inputs["Moving Average Type"];if(!o4x){o4x="exponential";}i7x.Studies.MA(o4x,F4x.days,h4x,0,"_MA",C4x,F4x);n4x=F4x.name + c6Dt;for(var k4x=Math.max(F4x.startFrom,F4x.days - 1);k4x < U4x.length;k4x++){A6Dt="o";A6Dt+="b";A6Dt+="je";A6Dt+="ct";M4x=U4x[k4x];q4x=M4x[h4x];if(q4x && typeof q4x == A6Dt){q4x=q4x[F4x.subField];}m4x=M4x["_MA " + F4x.name];if(m4x || m4x === 0){if(i4x == "Points"){L8gg.S5Ld(6);M4x[n4x]=L8gg.Q5Ld(q4x,m4x);}else {L8gg.W5Ld(141);M4x[n4x]=L8gg.K5Ld(q4x,100,"1",m4x);}}}F4x.outputMap={};F4x.outputMap[F4x.name + r6Dt]="";};i7x.Studies.studyLibrary=i7x.extend(i7x.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! !{},seriesFN:i7x.Studies.displayChannel,calculateFN:i7x.Studies.calculateMAEnvelope,inputs:{Period:"50" * 1,Field:"field","Shift Type":["percent",N6Dt],Shift:5,"Moving Average Type":R6Dt,"Channel Fill":! ![]},outputs:{"MA Env Top":V6Dt,"MA Env Median":u6Dt,"MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:+"0.1"}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:i7x.Studies.calculateMADev,seriesFN:i7x.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:j6Dt,"Moving Average Type":h6Dt,"Points Or Percent":[p6Dt,"Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:I6Dt,overlay:!"",seriesFN:i7x.Studies.displayChannel,calculateFN:function(L4x,S4x){L8gg.o1Gj();S4x.inputs["Moving Average Type"]="triangular";i7x.Studies.calculateMAEnvelope(L4x,S4x);},inputs:{Period:+"10",Field:B6Dt,"Shift Percentage":5,"Channel Fill":! !{}},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};g1A=b4x=>{var E1Gj=L8gg;var I2qt,B2qt,H2qt,y4x,H6Dt,K0qt,J0qt,c0qt,T6Dt;I2qt=-1580172101;B2qt=1128142515;H2qt=2;for(var v2qt=1;E1Gj.g5tt(v2qt.toString(),v2qt.toString().length,42004) !== I2qt;v2qt++){y4x=-_CIQ === ""?_CIQ:b4x.CIQ;H2qt+=2;}if(E1Gj.T5tt(H2qt.toString(),H2qt.toString().length,58683) !== B2qt){H6Dt="u";H6Dt+="ndefine";H6Dt+="d";y4x=typeof _CIQ !== H6Dt?_CIQ:b4x.CIQ;}E1Gj.R1Gj();if(!y4x.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {y4x.Studies.calculatePSAR=function(K4x,t4x){var q6Dt,x4x,e4x,Z4x,p4x,B4x,A4x,X4x,v6Dt,W4x,W6Dt,r4x,f4x,N4x,X6Dt;q6Dt="Minimum ";q6Dt+="AF";x4x=t4x.chart.scrubbed;e4x=+"0";Z4x=null;p4x=!{};B4x=0;A4x=parseFloat(t4x.inputs[q6Dt]);X4x=parseFloat(t4x.inputs["Maximum AF"]);if(t4x.startFrom > 0){v6Dt="_sta";v6Dt+="te";v6Dt+=" ";E1Gj.W5Ld(8);var k6zt=E1Gj.Q5Ld(15,0,16);B4x=x4x[t4x.startFrom - k6zt]["Result " + t4x.name];E1Gj.W5Ld(6);var G6zt=E1Gj.Q5Ld(17,16);W4x=x4x[t4x.startFrom - G6zt][v6Dt + t4x.name];if(W4x && W4x.length == 3){e4x=W4x[0];E1Gj.W5Ld(77);Z4x=W4x[E1Gj.K5Ld(1140891168,"1")];p4x=W4x[2];}}function g4x(){E1Gj.o1Gj();e4x=0;Z4x=null;p4x=!p4x;}for(var G4x=t4x.startFrom - 1;G4x < x4x.length - 1;G4x++){W6Dt="_";W6Dt+="s";W6Dt+="ta";W6Dt+="te ";if(G4x < 0)continue;if(x4x[G4x].futureTick)break;r4x=B4x;if(p4x){if(!Z4x || Z4x < x4x[G4x].High){Z4x=x4x[G4x].High;E1Gj.S5Ld(2);e4x=Math.min(E1Gj.K5Ld(A4x,e4x),X4x);}E1Gj.S5Ld(142);B4x=E1Gj.K5Ld(r4x,Z4x,e4x,r4x);f4x=Math.min(x4x[Math.max(1,G4x) - 1].Low,x4x[G4x].Low);if(B4x > x4x[G4x + +"1"].Low){B4x=Z4x;g4x();}else if(B4x > f4x){B4x=f4x;}}else {if(!Z4x || Z4x > x4x[G4x].Low){Z4x=x4x[G4x].Low;E1Gj.S5Ld(2);e4x=Math.min(E1Gj.Q5Ld(A4x,e4x),X4x);}E1Gj.S5Ld(142);B4x=E1Gj.Q5Ld(r4x,Z4x,e4x,r4x);N4x=Math.max(x4x[Math.max(1,G4x) - 1].High,x4x[G4x].High);if(B4x < x4x[G4x + 1].High){B4x=Z4x;g4x();}else if(B4x < N4x){B4x=N4x;}}E1Gj.S5Ld(143);x4x[E1Gj.K5Ld("1",G4x)][W6Dt + t4x.name]=[e4x,Z4x,p4x];if(!isNaN(x4x[G4x].High) || !isNaN(x4x[G4x].Low)){X6Dt="Re";X6Dt+="su";X6Dt+="lt";X6Dt+=" ";E1Gj.S5Ld(2);x4x[E1Gj.K5Ld(1,G4x)][X6Dt + t4x.name]=B4x;}}};K0qt=1677413711;E1Gj.W5Ld(24);J0qt=-E1Gj.Q5Ld("206018942",0);c0qt=2;for(var r0qt=1;E1Gj.T5tt(r0qt.toString(),r0qt.toString().length,6881) !== K0qt;r0qt++){T6Dt="Parabo";T6Dt+="l";T6Dt+="ic ";T6Dt+="SAR";y4x.Studies.studyLibrary=y4x.extend(y4x.Studies.studyLibrary,{PSAR:{name:T6Dt,overlay:!0,calculateFN:y4x.Studies.calculatePSAR,seriesFN:y4x.Studies.displayPSAR2,inputs:{"Minimum AF":+"0.02","Maximum AF":0.2}}});E1Gj.W5Ld(35);c0qt+=E1Gj.K5Ld(419530112,"2");}if(E1Gj.T5tt(c0qt.toString(),c0qt.toString().length,2553) !== J0qt){y4x.Studies.studyLibrary=y4x.extend(y4x.Studies.studyLibrary,{PSAR:{name:"Maximum AF",overlay:!"1",calculateFN:y4x.Studies.calculatePSAR,seriesFN:y4x.Studies.displayPSAR2,inputs:{"Minimum AF":4001,"Maximum AF":823}}});}}};K1A=s4x=>{var w4x,n7Dt,Q7Dt;L8gg.R1Gj();w4x=typeof _CIQ !== "undefined"?_CIQ:s4x.CIQ;if(!w4x.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {n7Dt="a";n7Dt+="uto";Q7Dt="s";Q7Dt+="ta";Q7Dt+="ndar";Q7Dt+="d";w4x.Studies.calculatePivotPoints=function(D4x,a4x){var L7Gj=L8gg;var y6Dt,l6Dt,i6Dt,e6Dt,g6Dt,E4x,c4x,d4x,v4x,H4x,C6qt,z6qt,m6qt,E6Dt,J4x,T4x,V4x,x6Dt,Y7Dt,f6Dt,M6Dt,j4x,O4x,s7Dt;y6Dt="1";y6Dt+="5";y6Dt+="min";l6Dt="m";l6Dt+="ill";l6Dt+="isecond";i6Dt="m";i6Dt+="illisec";i6Dt+="ond";e6Dt="m";e6Dt+="o";e6Dt+="nth";g6Dt="d";g6Dt+="a";g6Dt+="y";E4x=a4x.chart.scrubbed;c4x="day";d4x=D4x.layout.interval;v4x=D4x.layout.timeUnit;if(d4x == g6Dt){c4x=e6Dt;}else if(w4x.ChartEngine.isDailyInterval(d4x)){c4x="year";}else if(d4x == "second" || d4x == i6Dt || v4x == "second" || v4x == l6Dt){c4x=y6Dt;}else {H4x=D4x.layout.periodicity;if(d4x != "minute"){H4x*=d4x;}C6qt=-1767034602;z6qt=-1860389298;m6qt=2;for(var K6qt="1" ^ 0;L7Gj.T5tt(K6qt.toString(),K6qt.toString().length,24333) !== C6qt;K6qt++){if(H4x <= 68){c4x="";}m6qt+=2;}if(L7Gj.g5tt(m6qt.toString(),m6qt.toString().length,21864) !== z6qt){E6Dt="w";E6Dt+="e";E6Dt+="ek";if(H4x >= 30){c4x=E6Dt;}}}J4x=null;L7Gj.S5Ld(112);var D6zt=L7Gj.K5Ld(6,3,67,7);T4x=D6zt - w4x.getFromNS(D4x.chart,"market.beginningDayOfWeek",0);function Q4x(){L7Gj.W5Ld(14);var w6zt=L7Gj.K5Ld(15,0,15);L7Gj.W5Ld(2);var S6zt=L7Gj.K5Ld(3,0);V4x.pivotPoint=(V4x.high + V4x.low + E4x[P4x - w6zt].Close) / S6zt;V4x.prevHigh=V4x.high;V4x.prevLow=V4x.low;V4x.hlSpread=V4x.high - V4x.low;V4x.high=V4x.low=0;}V4x={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0};if(a4x.startFrom > 1 && E4x[a4x.startFrom - 1]["_pointers " + a4x.name]){x6Dt="_poi";x6Dt+="nters";x6Dt+=" ";V4x=w4x.clone(E4x[a4x.startFrom - 1][x6Dt + a4x.name]);}for(var P4x=Math.max(+"1",a4x.startFrom);P4x < E4x.length;P4x++){Y7Dt="_poi";Y7Dt+="n";Y7Dt+="ters";Y7Dt+=" ";f6Dt="w";f6Dt+="e";f6Dt+="ek";M6Dt="ye";M6Dt+="a";M6Dt+="r";if(!E4x[P4x - 1])continue;V4x.high=Math.max(V4x.high,E4x[P4x - +"1"].High);V4x.low=Math.min(V4x.low > 0?V4x.low:E4x[P4x - 1].Low,E4x[P4x - +"1"].Low);if(a4x.inputs.Continuous){Q4x();}else if(c4x == M6Dt && E4x[P4x].DT.getYear() != E4x[P4x - 1].DT.getYear()){Q4x();}else if(c4x == "month" && E4x[P4x].DT.getMonth() != E4x[P4x - ("1" >> 1955591392)].DT.getMonth()){Q4x();}else if(c4x == f6Dt && (E4x[P4x].DT.getDay() + T4x) % 7 < (E4x[P4x - 1].DT.getDay() + T4x) % 7){Q4x();}else if(c4x == "day"){if(J4x === null){J4x=w4x.Studies.getMarketOffset({stx:D4x,localQuoteDate:E4x[P4x].DT,shiftToDateBoundary:! ![]});}j4x=new Date(new Date(+E4x[P4x].DT).setMilliseconds(E4x[P4x].DT.getMilliseconds() + J4x));O4x=new Date(new Date(+E4x[P4x - 1].DT).setMilliseconds(E4x[P4x - 1].DT.getMilliseconds() + J4x));if(O4x.getDate() !== j4x.getDate() && O4x.getDay() !== 0 && D4x.chart.market.isMarketDate(j4x)){J4x=null;Q4x();}}else if(c4x == "15min" && (E4x[P4x].DT.getHours() != E4x[P4x - 1].DT.getHours() || Math.floor(E4x[P4x].DT.getMinutes() / 15) != Math.floor(E4x[P4x - 1].DT.getMinutes() / 15))){Q4x();}E4x[P4x]["Pivot " + a4x.name]=V4x.pivotPoint;if(a4x.inputs.Type.toLowerCase() == "fibonacci"){s7Dt="S";s7Dt+="uppo";s7Dt+="rt ";s7Dt+="2 ";E4x[P4x]["Resistance 1 " + a4x.name]=V4x.pivotPoint + 0.382 * V4x.hlSpread;E4x[P4x]["Resistance 2 " + a4x.name]=V4x.pivotPoint + ("0.618" - 0) * V4x.hlSpread;E4x[P4x]["Resistance 3 " + a4x.name]=V4x.pivotPoint + V4x.hlSpread;E4x[P4x]["Support 1 " + a4x.name]=V4x.pivotPoint - 0.382 * V4x.hlSpread;E4x[P4x][s7Dt + a4x.name]=V4x.pivotPoint - ("0.618" - 0) * V4x.hlSpread;E4x[P4x]["Support 3 " + a4x.name]=V4x.pivotPoint - V4x.hlSpread;}else {L7Gj.W5Ld(76);var P6zt=L7Gj.K5Ld(13,15,0);E4x[P4x]["Resistance 1 " + a4x.name]=P6zt * V4x.pivotPoint - V4x.prevLow;E4x[P4x]["Resistance 2 " + a4x.name]=V4x.pivotPoint + V4x.hlSpread;L7Gj.W5Ld(42);var Z6zt=L7Gj.K5Ld(15,17);E4x[P4x]["Resistance 3 " + a4x.name]=V4x.prevHigh + Z6zt * (V4x.pivotPoint - V4x.prevLow);E4x[P4x]["Support 1 " + a4x.name]=+"2" * V4x.pivotPoint - V4x.prevHigh;E4x[P4x]["Support 2 " + a4x.name]=V4x.pivotPoint - V4x.hlSpread;L7Gj.W5Ld(6);var F6zt=L7Gj.K5Ld(9,7);E4x[P4x]["Support 3 " + a4x.name]=V4x.prevLow - F6zt * (V4x.prevHigh - V4x.pivotPoint);}E4x[P4x][Y7Dt + a4x.name]=w4x.clone(V4x);}};w4x.Studies.displayPivotPoints=function(I4x,R4x,l2x){L8gg.o1Gj();var a7Dt,O7Dt,d7Dt,L7Dt,t7Dt,b7Dt,Y4x,z4x;R4x.noSlopes=!R4x.inputs.Continuous;w4x.Studies.displaySeriesAsLine(I4x,R4x,l2x);if(R4x.inputs.Shading){a7Dt="Sup";a7Dt+="port ";a7Dt+="2 ";O7Dt="S";O7Dt+="upport 1";d7Dt="Pi";d7Dt+="vo";d7Dt+="t ";L7Dt="Resist";L7Dt+="an";L7Dt+="ce 1 ";t7Dt="Res";t7Dt+="istance ";t7Dt+="2";b7Dt="Resi";b7Dt+="stanc";b7Dt+="e 2 ";Y4x=I4x.panels[R4x.panel];z4x={noSlopes:R4x.noSlopes,opacity:R4x.parameters.opacity?R4x.parameters.opacity:0.2,skipTransform:Y4x.name != R4x.chart.name,yAxis:R4x.getYAxis(I4x)};if(!R4x.highlight && I4x.highlightedDraggable){z4x.opacity*=0.3;}w4x.prepareChannelFill(I4x,w4x.extend({panelName:R4x.panel,topBand:"Resistance 3 " + R4x.name,bottomBand:"Resistance 2 " + R4x.name,color:w4x.Studies.determineColor(R4x.outputs["Resistance 3"])},z4x));w4x.prepareChannelFill(I4x,w4x.extend({panelName:R4x.panel,topBand:b7Dt + R4x.name,bottomBand:"Resistance 1 " + R4x.name,color:w4x.Studies.determineColor(R4x.outputs[t7Dt])},z4x));w4x.prepareChannelFill(I4x,w4x.extend({panelName:R4x.panel,topBand:L7Dt + R4x.name,bottomBand:d7Dt + R4x.name,color:w4x.Studies.determineColor(R4x.outputs["Resistance 1"])},z4x));w4x.prepareChannelFill(I4x,w4x.extend({panelName:R4x.panel,topBand:"Support 1 " + R4x.name,bottomBand:"Pivot " + R4x.name,color:w4x.Studies.determineColor(R4x.outputs[O7Dt])},z4x));w4x.prepareChannelFill(I4x,w4x.extend({panelName:R4x.panel,topBand:"Support 2 " + R4x.name,bottomBand:"Support 1 " + R4x.name,color:w4x.Studies.determineColor(R4x.outputs["Support 2"])},z4x));w4x.prepareChannelFill(I4x,w4x.extend({panelName:R4x.panel,topBand:"Support 3 " + R4x.name,bottomBand:a7Dt + R4x.name,color:w4x.Studies.determineColor(R4x.outputs["Support 3"])},z4x));}};w4x.Studies.studyLibrary=w4x.extend(w4x.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! !{},seriesFN:w4x.Studies.displayPivotPoints,calculateFN:w4x.Studies.calculatePivotPoints,inputs:{Type:[Q7Dt,"fibonacci"],Continuous:!{},Shading:!"1"},outputs:{Pivot:n7Dt,"Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};w1A=F2x=>{var u2x,Z7Dt;u2x=typeof _CIQ !== "undefined"?_CIQ:F2x.CIQ;if(!u2x.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {Z7Dt="aut";Z7Dt+="o";u2x.Studies.calculatePrettyGoodOscillator=function(m2x,q2x){var D7Gj=L8gg;var D7Dt,G7Dt,k7Dt,g0qt,e0qt,i0qt,h2x,P7Dt,S7Dt,w7Dt;D7Dt="s";D7Dt+="im";D7Dt+="p";D7Dt+="le";G7Dt="_";G7Dt+="E";D7Gj.o1Gj();G7Dt+="M";G7Dt+="A";k7Dt="expone";k7Dt+="nt";k7Dt+="ia";k7Dt+="l";g0qt=1968332009;e0qt=318289388;i0qt=2;for(var y0qt=1;D7Gj.T5tt(y0qt.toString(),y0qt.toString().length,22390) !== g0qt;y0qt++){h2x=q2x.chart.scrubbed;D7Gj.W5Ld(77);i0qt+=D7Gj.K5Ld(981796384,"2");}if(D7Gj.g5tt(i0qt.toString(),i0qt.toString().length,78460) !== e0qt){h2x=q2x.chart.scrubbed;}if(h2x.length < q2x.days + 1){q2x.error=!0;return;}u2x.Studies.MA(k7Dt,q2x.days,"trueRange",0,G7Dt,m2x,q2x);u2x.Studies.MA(D7Dt,q2x.days,"Close",+"0","_SMA",m2x,q2x);for(var M2x=Math.max(1,q2x.startFrom);M2x < h2x.length;M2x++){P7Dt="R";P7Dt+="es";P7Dt+="u";P7Dt+="lt ";S7Dt="_";S7Dt+="E";S7Dt+="MA";S7Dt+=" ";w7Dt="_";w7Dt+="S";w7Dt+="MA";w7Dt+=" ";if(!h2x[M2x][w7Dt + q2x.name] || !h2x[M2x][S7Dt + q2x.name])continue;h2x[M2x][P7Dt + q2x.name]=(h2x[M2x].Close - h2x[M2x]["_SMA " + q2x.name]) / h2x[M2x]["_EMA " + q2x.name];}};u2x.Studies.studyLibrary=u2x.extend(u2x.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:u2x.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:Z7Dt}}}});}};s1A=i2x=>{var s2qt,Y2qt,b2qt,U2x,F7Dt,K7Dt,o7Dt,m7Dt;s2qt=780880767;Y2qt=840590947;b2qt=2;for(var L2qt=1;L8gg.g5tt(L2qt.toString(),L2qt.toString().length,14059) !== s2qt;L2qt++){U2x=~_CIQ === ""?_CIQ:i2x.CIQ;b2qt+=2;}L8gg.o1Gj();if(L8gg.g5tt(b2qt.toString(),b2qt.toString().length,87671) !== Y2qt){U2x=~_CIQ === ""?_CIQ:i2x.CIQ;}U2x=typeof _CIQ !== "undefined"?_CIQ:i2x.CIQ;if(!U2x.Studies){F7Dt="priceMomentumOscillator feature requir";F7Dt+="es first activa";F7Dt+="ting studies feature.";console.error(F7Dt);}else {K7Dt="0";K7Dt+=".";K7Dt+="0";K7Dt+="5";o7Dt="0";o7Dt+=".05";m7Dt="aut";m7Dt+="o";U2x.Studies.calculatePMO=function(L2x,o2x){var o7Gj=L8gg;var z7Dt,C7Dt,U7Dt,C2x,k2x,S2x,n2x,y2x;z7Dt="P";z7Dt+="M";z7Dt+="O";C7Dt="Clo";C7Dt+="s";C7Dt+="e";U7Dt="Signal Pe";U7Dt+="r";U7Dt+="i";U7Dt+="od";C2x={Smooth:Number(o2x.inputs["Smoothing Period"]) - 1,Double:Number(o2x.inputs["Double Smoothing Period"]) - 1,Signal:Number(o2x.inputs[U7Dt])};k2x=o2x.chart.scrubbed;if(k2x.length < C2x.Smooth + C2x.Double){o2x.error=! ![];return;}S2x=o2x.inputs.Field;if(!S2x || S2x == "field"){S2x=C7Dt;}for(n2x=o2x.startFrom;n2x < k2x.length;n2x++){if(!k2x[n2x])continue;if(!k2x[n2x - 1])continue;o7Gj.W5Ld(6);y2x=k2x[o7Gj.Q5Ld(n2x,1)][S2x];if(y2x){o7Gj.S5Ld(14);var U6zt=o7Gj.Q5Ld(1,7,134190183);o7Gj.S5Ld(144);var C6zt=o7Gj.K5Ld(18,20,7,8);k2x[n2x]["_ROCx10 " + o2x.name]=("1000" >> U6zt) * (k2x[n2x][S2x] / y2x - C6zt);}}U2x.Studies.MA("exponential",C2x.Smooth,"_ROCx10 " + o2x.name,"0" & 2147483647,"_EMAx10",L2x,o2x);U2x.Studies.MA("exponential",C2x.Double,"_EMAx10 " + o2x.name,+"0","PMO",L2x,o2x);U2x.Studies.MA("exponential",C2x.Signal,"PMO " + o2x.name,0,"PMOSignal",L2x,o2x);o2x.zoneOutput=z7Dt;};U2x.Studies.studyLibrary=U2x.extend(U2x.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:U2x.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":+"35","Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:m7Dt,PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-("2.5" * 1),studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:o7Dt},studyOverSoldValue:{max:"0" >> 786788480,step:K7Dt}}}});}};V1A=x2x=>{var b2x,J7Dt,B7Dt,I7Dt,p7Dt;b2x=typeof _CIQ !== "undefined"?_CIQ:x2x.CIQ;L8gg.o1Gj();if(!b2x.Studies){J7Dt="priceVolumeOscillator feat";J7Dt+="ure";J7Dt+=" requires first activating studies f";J7Dt+="eature.";console.error(J7Dt);}else {B7Dt="0";B7Dt+=".";B7Dt+="1";I7Dt="Pe";I7Dt+="rc";I7Dt+="ent";p7Dt="Price Os";p7Dt+="cil";p7Dt+="lator";b2x.Studies.calculatePriceOscillator=function(N2x,G2x){var A7Dt,c7Dt,W2x,f2x,r2x,B2x,t2x,A2x,r7Dt,Z2x,e2x,p2x,R7Dt,N7Dt;A7Dt="_Lon";A7Dt+="g ";A7Dt+="MA";c7Dt="Lo";c7Dt+="ng Cycle";W2x=G2x.chart.scrubbed;f2x=Number(G2x.inputs["Short Cycle"]);r2x=Number(G2x.inputs[c7Dt]);if(W2x.length < Math.max(f2x,r2x) + ("1" ^ 0)){G2x.error=! ![];return;}B2x=G2x.inputs.Field;t2x=G2x.inputs["Moving Average Type"];if(!t2x){t2x="simple";}if(!B2x || B2x == "field"){B2x="Close";}if(G2x.parameters.isVolume){B2x="Volume";t2x="exponential";}A2x=G2x.inputs["Points Or Percent"];if(!A2x){A2x="Percent";}b2x.Studies.MA(t2x,f2x,B2x,+"0","_Short MA",N2x,G2x);b2x.Studies.MA(t2x,r2x,B2x,0,A7Dt,N2x,G2x);for(var X2x=Math.max(r2x,G2x.startFrom);X2x < W2x.length;X2x++){r7Dt="_L";r7Dt+="ong M";r7Dt+="A";r7Dt+=" ";Z2x=W2x[X2x];if(!Z2x)continue;e2x=Z2x["_Short MA " + G2x.name];p2x=Z2x[r7Dt + G2x.name];if((e2x || e2x === 0) && (p2x || p2x === +"0")){R7Dt="Increasi";R7Dt+="ng Bar";N7Dt="P";N7Dt+="oi";N7Dt+="n";N7Dt+="ts";if(A2x == N7Dt){L8gg.S5Ld(6);Z2x["Result " + G2x.name]=L8gg.Q5Ld(e2x,p2x);}else {L8gg.W5Ld(145);Z2x["Result " + G2x.name]=L8gg.Q5Ld("100",p2x,1,e2x);}if(G2x.outputs[R7Dt]){Z2x[G2x.name + "_hist"]=Z2x["Result " + G2x.name];G2x.outputMap={};G2x.outputMap[G2x.name + "_hist"]="";}}}};b2x.Studies.displayRAVI=function(K2x,g2x,c2x){var d7Gj=L8gg;var a2x,s2x,d2x,D2x,E2x,v2x,H2x,h7Dt,j7Dt,u7Dt,V7Dt,w2x,P2x,J2x,Q2x;a2x=K2x.panels[g2x.panel];s2x=g2x.getContext(K2x);d2x=g2x.getYAxis(K2x);D2x=K2x.pixelFromPrice(0,a2x,d2x);d7Gj.W5Ld(37);var z6zt=d7Gj.Q5Ld(16,10,10,1,12);E2x=K2x.layout.candleWidth - z6zt;if(E2x < 2){E2x=1;}v2x=b2x.Studies.determineColor(g2x.outputs["Increasing Bar"]);H2x=b2x.Studies.determineColor(g2x.outputs["Decreasing Bar"]);K2x.startClip(g2x.panel);K2x.canvasColor("stx_histogram");if(!g2x.underlay){s2x.globalAlpha=1;}if(!g2x.highlight && K2x.highlightedDraggable){d7Gj.S5Ld(7);s2x.globalAlpha*=d7Gj.K5Ld("0.3",1);}for(var V2x=0;V2x < c2x.length;V2x++){h7Dt="_h";h7Dt+="ist";j7Dt="_h";j7Dt+="i";j7Dt+="st";u7Dt="_";u7Dt+="hi";u7Dt+="s";u7Dt+="t";V7Dt="#C";V7Dt+="C";V7Dt+="CCCC";w2x=c2x[V2x];d7Gj.W5Ld(6);P2x=c2x[d7Gj.Q5Ld(V2x,1)];if(!P2x){P2x=K2x.getPreviousBar(K2x.chart,g2x.name + "_hist",V2x);}if(!w2x)continue;J2x=0;Q2x=0;if(g2x.parameters && g2x.parameters.studyOverZonesEnabled){J2x=parseFloat(g2x.parameters.studyOverBoughtValue);Q2x=parseFloat(g2x.parameters.studyOverSoldValue);}if(!P2x){s2x.fillStyle=V7Dt;}else if(w2x[g2x.name + "_hist"] > J2x && P2x[g2x.name + u7Dt] < w2x[g2x.name + "_hist"]){s2x.fillStyle=v2x;}else if(w2x[g2x.name + j7Dt] < Q2x && P2x[g2x.name + h7Dt] > w2x[g2x.name + "_hist"]){s2x.fillStyle=H2x;}else {s2x.fillStyle="#CCCCCC";}if(w2x.candleWidth){E2x=Math.floor(Math.max(1,w2x.candleWidth - 2));}s2x.fillRect(Math.floor(K2x.pixelFromBar(V2x,a2x.chart) - E2x / 2),Math.floor(D2x),Math.floor(E2x),Math.floor(K2x.pixelFromPrice(w2x[g2x.name + "_hist"],a2x,d2x) - D2x));}K2x.endClip();};b2x.Studies.studyLibrary=b2x.extend(b2x.Studies.studyLibrary,{"Price Osc":{name:p7Dt,calculateFN:b2x.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points",I7Dt]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:b2x.Studies.calculatePriceOscillator,inputs:{"Short Cycle":+"12","Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!""}}},RAVI:{name:"RAVI",seriesFN:b2x.Studies.displayRAVI,calculateFN:b2x.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:B7Dt},studyOverSoldValue:{max:"0" << 1336140928,step:"0.1"}}}});}};E1A=j2x=>{var H7Dt,T2x,g7Dt,T7Dt;H7Dt="u";L8gg.o1Gj();H7Dt+="ndefi";H7Dt+="ned";T2x=typeof _CIQ !== H7Dt?_CIQ:j2x.CIQ;if(!T2x.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {g7Dt="a";g7Dt+="u";g7Dt+="t";g7Dt+="o";T7Dt="a";T7Dt+="uto";T2x.Studies.calculatePrimeNumber=function(i6x,z2x){var t7Gj=L8gg;var Y2x,q6x,I2x,R2x,O2x,v7Dt,q7Dt,X7Dt,W7Dt,l6x,m6x,U6x;Y2x=[];q6x=z2x.chart.scrubbed;for(var F6x=z2x.startFrom;F6x < q6x.length;F6x++){I2x=q6x[F6x];if(!I2x)continue;R2x=I2x.High;if(!isNaN(R2x)){for(var h6x=0;R2x > 0 && R2x <= 10;h6x++){t7Gj.S5Ld(6);R2x*=t7Gj.Q5Ld("10",0);}if(u6x(R2x)){R2x+=2;}R2x=Math.ceil(R2x);if(R2x % 2 === 0){R2x++;}while(!u6x(R2x)){R2x+=2;}R2x/=Math.pow(10,h6x);}O2x=I2x.Low;if(!isNaN(O2x)){for(var M6x=+"0";O2x > 0 && O2x <= 10;M6x++){O2x*=+"10";}if(u6x(O2x)){O2x-=2;}O2x=Math.floor(O2x);if(O2x % ("2" ^ 0) === "0" << 1546384000){O2x--;}if(O2x > "0" >> 1629697984){while(!u6x(O2x)){O2x-=2;}O2x/=Math.pow(+"10",M6x);}}if(z2x.type == "Prime Number Bands"){v7Dt="Prime Bands";v7Dt+=" Bottom ";q7Dt="Prime Bands T";q7Dt+="op ";if(!isNaN(R2x)){I2x[q7Dt + z2x.name]=R2x;}if(!isNaN(O2x)){I2x[v7Dt + z2x.name]=Math.max(0,O2x);}}else {X7Dt="Resu";X7Dt+="lt ";W7Dt="Tolerance";W7Dt+=" ";W7Dt+="Percent";W7Dt+="age";l6x=0;t7Gj.S5Ld(75);var m6zt=t7Gj.Q5Ld(70,6,5);m6x=z2x.inputs[W7Dt] * (R2x - O2x) / m6zt;t7Gj.S5Ld(6);var o6zt=t7Gj.K5Ld(10,8);U6x=R2x + O2x - o6zt * I2x.Close;if(U6x < m6x){t7Gj.W5Ld(24);l6x=t7Gj.K5Ld("1",0);}else if(U6x > m6x){l6x=-1;}if(l6x){I2x[X7Dt + z2x.name]=l6x;}}}t7Gj.o1Gj();function u6x(o6x){var n6x;if(o6x <= 0){return ![];}else if(o6x != Math.floor(o6x)){return ! !0;}else if(Y2x[o6x] === ! !{} || Y2x[o6x] === ! !""){return Y2x[o6x];}n6x=parseInt(Math.sqrt(o6x),"10" << 163177600);for(var k6x=2;k6x <= n6x;k6x++){if(o6x % k6x === 0){Y2x[o6x]=! !0;return ![];}}Y2x[o6x]=! !"1";t7Gj.R1Gj();return ! !"1";}};T2x.Studies.studyLibrary=T2x.extend(T2x.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:T2x.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":+"5"},attributes:{"Tolerance Percentage":{min:0.1,step:+"0.1"}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! !"1",calculateFN:T2x.Studies.calculatePrimeNumber,seriesFN:T2x.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":T7Dt,"Prime Bands Channel":g7Dt}}});}};P1A=S6x=>{var e7Dt,C6x,L8Dt,t8Dt;e7Dt="un";e7Dt+="defined";C6x=typeof _CIQ !== e7Dt?_CIQ:S6x.CIQ;if(!C6x.Studies){console.error("pring feature requires first activating studies feature.");}else {L8Dt="#FF";L8Dt+="0000";t8Dt="fi";t8Dt+="e";t8Dt+="ld";C6x.Studies.calculateKST=function(e6x,L6x){var H7Gj=L8gg;var M7Dt,x7Dt,E7Dt,y7Dt,l7Dt,i7Dt,x6x,Z6x,G6x,B6x,p6x,b6x,y6x,f7Dt,Y8Dt,s8Dt,t6x;M7Dt="Heavy SMA Pe";M7Dt+="riod";x7Dt="L";x7Dt+="i";x7Dt+="ght SMA ";x7Dt+="Period";E7Dt="Lightest SMA";E7Dt+=" ";E7Dt+="Period";y7Dt="Light";y7Dt+=" Rate of Change Period";l7Dt="Lightest Rate of Change Perio";l7Dt+="d";i7Dt="C";i7Dt+="l";i7Dt+="os";i7Dt+="e";x6x=L6x.chart.scrubbed;Z6x=L6x.inputs.Field;if(!Z6x || Z6x == "field"){Z6x=i7Dt;}G6x={};H7Gj.R1Gj();B6x={};G6x[+"1"]=Number(L6x.inputs[l7Dt]);G6x[2]=Number(L6x.inputs[y7Dt]);G6x[+"3"]=Number(L6x.inputs["Heavy Rate of Change Period"]);G6x[4]=Number(L6x.inputs["Heaviest Rate of Change Period"]);B6x[1]=Number(L6x.inputs[E7Dt]);B6x[2]=Number(L6x.inputs[x7Dt]);H7Gj.S5Ld(40);B6x[H7Gj.K5Ld("3",2147483647)]=Number(L6x.inputs[M7Dt]);B6x[+"4"]=Number(L6x.inputs["Heaviest SMA Period"]);p6x=Number(L6x.inputs["Signal Period"]);for(b6x=L6x.startFrom;b6x < x6x.length;b6x++){if(!x6x[b6x])continue;for(y6x=1;y6x <= "4" << 215761728;y6x++){if(b6x >= G6x[y6x] && x6x[b6x - G6x[y6x]] && x6x[b6x - G6x[y6x]][Z6x]){H7Gj.S5Ld(20);var K6zt=H7Gj.K5Ld(13,64,5);x6x[b6x]["_ROC" + y6x + " " + L6x.name]=+"100" * (x6x[b6x][Z6x] / x6x[b6x - G6x[y6x]][Z6x] - K6zt);}}}for(y6x=1;y6x <= 4;y6x++){C6x.Studies.MA("simple",B6x[y6x],"_ROC" + y6x + " " + L6x.name,0,"_SMA" + y6x,e6x,L6x);}for(b6x=L6x.startFrom;b6x < x6x.length;b6x++){f7Dt="KS";f7Dt+="T";f7Dt+=" ";x6x[b6x][f7Dt + L6x.name]=null;for(y6x=1;y6x <= 4;y6x++){Y8Dt="KS";Y8Dt+="T";Y8Dt+=" ";s8Dt="_";s8Dt+="S";s8Dt+="M";s8Dt+="A";t6x=x6x[b6x][s8Dt + y6x + " " + L6x.name];if(t6x || t6x === 0){H7Gj.W5Ld(7);x6x[b6x][Y8Dt + L6x.name]+=H7Gj.K5Ld(y6x,t6x);}}}C6x.Studies.MA("simple",p6x,"KST " + L6x.name,0,"KSTSignal",e6x,L6x);};C6x.Studies.calculateSpecialK=function(s6x,f6x){var m5Gj=L8gg;m5Gj.R1Gj();var A6x,N6x,X6x,g6x,K6x,r6x,W6x,b8Dt,w6x;A6x=f6x.chart.scrubbed;N6x=f6x.inputs.Field;if(!N6x || N6x == "field"){N6x="Close";}X6x=f6x.inputs.Interval;if(!X6x){X6x="daily";}g6x={daily:[10,"15" | 10,20,30,50,65,75,100,195,265,390,530],weekly:[4,5,6,8,+"10",13,15,20,39,52,"78" - 0,104]};K6x={daily:[10,10,10,15,50,65,75,+"100",130,130,130,195],weekly:[4,5,6,8,10,13,15,20,+"26",26,+"26",39]};for(r6x=f6x.startFrom;r6x < A6x.length;r6x++){if(!A6x[r6x])continue;for(W6x=+"0";W6x < g6x[X6x].length;W6x++){if(r6x >= g6x[X6x][W6x] && A6x[r6x - g6x[X6x][W6x]] && A6x[r6x - g6x[X6x][W6x]][N6x]){m5Gj.W5Ld(59);var J6zt=m5Gj.K5Ld(6472,20,45,6);m5Gj.W5Ld(2);var c6zt=m5Gj.K5Ld(813,116);m5Gj.W5Ld(146);var A6zt=m5Gj.K5Ld(8,19,8504,4,2870);m5Gj.W5Ld(6);var r6zt=m5Gj.Q5Ld(21240,18880);m5Gj.S5Ld(6);var N6zt=m5Gj.Q5Ld(6522,3);m5Gj.S5Ld(2);var R6zt=m5Gj.K5Ld(19,7845);m5Gj.S5Ld(144);var V6zt=m5Gj.K5Ld(72797,78000,2,5);m5Gj.W5Ld(2);var u6zt=m5Gj.Q5Ld(80,20);m5Gj.S5Ld(147);var j6zt=m5Gj.Q5Ld(15,1,14,30,1);A6x[r6x]["_ROC" + W6x + ((J6zt,518.47) < ("6071" | c6zt,A6zt)?" ":526.6 != r6zt?("5209" - 0,N6zt) == R6zt?768.90:930.83:(V6zt,!0)) + f6x.name]=u6zt * (A6x[r6x][N6x] / A6x[r6x - g6x[X6x][W6x]][N6x] - j6zt);}}}for(W6x=0;W6x < K6x[X6x].length;W6x++){C6x.Studies.MA(X6x == "daily"?"simple":"exponential",K6x[X6x][W6x],"_ROC" + W6x + (7630 < (846,9970)?" ":("1390" | 294,2574) <= (3780,"2429" >> 142230336)?! !"":(5370,8590) !== 7475?(644.72,!"1"):0x1c0d) + f6x.name,0,"_MA" + W6x,s6x,f6x);}for(r6x=f6x.startFrom;r6x < A6x.length;r6x++){A6x[r6x]["Result " + f6x.name]=null;for(W6x=0;W6x < K6x[X6x].length;W6x++){b8Dt="Re";b8Dt+="s";b8Dt+="ul";b8Dt+="t ";w6x=A6x[r6x]["_MA" + W6x + " " + f6x.name];if(w6x || w6x === 0){m5Gj.W5Ld(148);A6x[r6x][b8Dt + f6x.name]+=m5Gj.Q5Ld(W6x,1,4,w6x);}}}};C6x.Studies.studyLibrary=C6x.extend(C6x.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:C6x.Studies.calculateKST,inputs:{Field:t8Dt,"Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":+"15","Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:L8Dt}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:C6x.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};a1A=E6x=>{var V6x,P6x,u8Dt,V8Dt,R8Dt,N8Dt,r8Dt,A8Dt,c8Dt,J8Dt,K8Dt;V6x=typeof _CIQ !== "undefined"?_CIQ:E6x.CIQ;P6x=typeof _timezoneJS !== "undefined"?_timezoneJS:E6x.timezoneJS;if(!V6x.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!V6x.Studies.studyLibrary.PVAT){u8Dt="#fe64";u8Dt+="1";u8Dt+="c";V8Dt="Projected A";V8Dt+="ggr";V8Dt+="egate";V8Dt+=" Volume";R8Dt="hh:mm";R8Dt+=":ss";N8Dt="-";N8Dt+="100";N8Dt+="%";r8Dt="N";r8Dt+="o";r8Dt+="ne";A8Dt="+7";A8Dt+="5";A8Dt+="%";c8Dt="+1";c8Dt+="00%";J8Dt="+125";J8Dt+="%";K8Dt="Project";K8Dt+="ed Volume at Time";V6x.Studies.initProjectedVolume=function(d6x,Q6x,c6x,v6x,H6x,T6x){var O8Dt,d8Dt,a6x,J6x;O8Dt="An";O8Dt+="chor Time";d8Dt="Anc";d8Dt+="hor Time";var {market:D6x}=d6x.chart;a6x="0";a6x+="0:00";if(D6x){a6x=D6x.getNormalOpen();}if(a6x.match(/^[\d]{2}:[\d]{2}$/)){a6x+=":00";}if(!c6x[d8Dt] || !c6x[O8Dt].length){c6x["Anchor Time"]=a6x;}J6x=V6x.Studies.initializeFN(d6x,Q6x,c6x,v6x,H6x,T6x);if(!d6x.currentlyImporting){J6x.defaultAnchorTime=a6x;}return J6x;};V6x.Studies.validateProjectedVolumeLookback=function(I6x,z6x){var C5Gj=L8gg;var L6qt,d6qt,O6qt;var {interval:j6x, periodicity:O6x}=I6x.layout;L6qt=461353159;d6qt=-696388252;O6qt=2;for(var Q6qt=1;C5Gj.g5tt(Q6qt.toString(),Q6qt.toString().length,73721) !== L6qt;Q6qt++){var {"Lookback Days":R6x}=z6x.inputs;C5Gj.S5Ld(24);O6qt+=C5Gj.K5Ld("2",0);}if(C5Gj.g5tt(O6qt.toString(),O6qt.toString().length,57928) !== d6qt){var {"Lookback Days":R6x}=z6x.inputs;}C5Gj.S5Ld(149);return C5Gj.Q5Ld(j6x,O6x,R6x,10);};V6x.Studies.calculateProjectedVolume=function(u0x,Y6x){var z5Gj=L8gg;var U8Dt,P8Dt,S8Dt,w8Dt,G8Dt,k8Dt,n8Dt,Q8Dt,a8Dt,v0x,o0x,k0x,D8Dt,T0x,j0x,N0x,g0x,F0x,K0x,y8x,q0x,w0x,s0x,O0x,V0x,Z8Dt,F8Dt,n0x,E0x,b8x,i0x,x8x,B0x,h0x,W0x,m0x,y0x,I0x,z0x,Y0x,l8x,a0x,c0x,X0x,B8x,u8x,b0x,x0x,f0x,t8x,d0x,M0x,F8x,q8x,D0x,h8x,t0x;U8Dt="P";U8Dt+="V ";P8Dt="P";P8Dt+="V";P8Dt+=" ";S8Dt="V";S8Dt+=" ";w8Dt="H";w8Dt+="H";function e0x(d8x,D8x){var a8x,c8x,P8x;a8x=i8x(d8x);c8x=U0x.getOpen(a8x) || e8x(a8x);P8x=U8x(c8x);if(!D8x){return P8x;}if(P8x < +"0"){P8x=U8x(m8x(c8x,"1" * 1,!0));}if(P8x >= l0x.length){return ! !0;}return P8x;}w8Dt+=":m";w8Dt+="m";function U8x(w8x){z5Gj.o1Gj();return u0x.tickFromDate(w8x,null,null,! ![],"scrubbed");}G8Dt=":";function M8x(X8x){z5Gj.R1Gj();console.error(`Expected data for ${i8x(X8x).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}G8Dt+="0";G8Dt+="0";k8Dt="Anchor ";k8Dt+="Selec";k8Dt+="tor";n8Dt="oh";n8Dt+="l";n8Dt+="c";Q8Dt="min";Q8Dt+="ute";a8Dt="ti";a8Dt+="ck";var {interval:o8x, timeUnit:J0x, aggregationType:Q0x}=u0x.layout;var {symbol:k8x, scroll:n8x, scrubbed:l0x, market:U0x}=u0x.chart;v0x=Y6x.type === "PAV";o0x=Y6x.study?Y6x.study.name:Y6x.type;if(V6x.ChartEngine.isDailyInterval(o8x)){Y6x.error=`${o0x} is Intraday Only`;}else if(J0x === a8Dt){Y6x.error=`Tick mode not supported for ${o0x}`;}else if(J0x !== Q8Dt){Y6x.error=`Sub-minute periodicities not supported for ${o0x}`;}else if(!Q0x || ![n8Dt,"heikinashi"].includes(Q0x)){Y6x.error=`Aggregation type not supported for ${o0x}`;}else if(!V6x.Studies.validateProjectedVolumeLookback(u0x,Y6x)){Y6x.error=`Selected lookback/periodicity combo not supported for ${o0x}`;}if(Y6x.error){return;}if(Y6x.inputs[k8Dt]){V6x.Studies.initAnchorHandle(u0x,Y6x);}else {V6x.Studies.removeAnchorHandle(u0x,Y6x);}k0x=U0x?U0x.getNormalOpen():"00:00";if(k0x.match(/^[\d]{2}:[\d]{2}$/)){k0x+=G8Dt;}if(!u0x.currentlyImporting){if(!Y6x.defaultAnchorTime){Y6x.defaultAnchorTime=k0x;}else if(k0x !== Y6x.defaultAnchorTime){D8Dt="An";D8Dt+="cho";D8Dt+="r";D8Dt+=" Time";Y6x.defaultAnchorTime=k0x;Y6x.inputs[D8Dt]=k0x;V6x.Studies.repositionAnchor(u0x,Y6x);return;}}var {"Lookback Days":p0x, "Anchor Time":C8x}=Y6x.inputs;z5Gj.W5Ld(21);var [S8x,L8x,H0x = L8gg.K5Ld(0,"0")]=C8x.split(":");T0x=V6x.getFn("Market.Symbology.isForexSymbol")(k8x);j0x=Y6x.getDependents(u0x);N0x=+"0";g0x=[];j0x.forEach(({inputs:p8x, outputMap:W8x})=>{if(p8x.Period){N0x=Math.max(parseInt(p8x.Period),N0x);g0x.push(...Object.keys(W8x));}});Y6x.dependentsOutputMap=g0x;function m8x(N8x,g8x,K8x){while(g8x){N8x=new Date(new Date(N8x).setDate(N8x.getDate() + (K8x?1:-1)));if(U0x.isMarketDate(N8x)){g8x--;}}z5Gj.o1Gj();return N8x;}K0x=e0x(l0x.length - 1,! ![]);y8x=Math.ceil(l0x.length - 1 - n8x);z5Gj.S5Ld(6);q0x=e0x(z5Gj.Q5Ld(y8x,N0x));if(T0x && l0x[q0x] && V6x.dateToStr(l0x[q0x].DT,w8Dt) !== k0x){z5Gj.S5Ld(6);q0x=e0x(z5Gj.Q5Ld(q0x,1));;}if(!T0x && Y6x.startFrom > q0x && l0x[q0x] && l0x[q0x][S8Dt + Y6x.name] !== undefined && g0x.every(r8x=>{return ![undefined,null].includes(l0x[q0x][r8x]);}) && K0x !== ![]){F0x=K0x;;}else {F0x=q0x;}w0x=m8x(i8x(q0x),p0x);w0x.setHours(0,0,0);s0x=e0x(0,! !1);z5Gj.R1Gj();O0x=(s0x || s0x === 0) && U8x(m8x(l0x[s0x].DT,p0x,! !{}));if(l0x[0].DT > w0x){if(u0x.quoteDriver){u0x.quoteDriver.extendHistoricalData({from:w0x});if(O0x > 0){F0x=O0x;}else {return;}}else {return Y6x.error=`Not enough data to calculate ${o0x}`;}}if(F0x < 0 || F0x > l0x.length - 1){return;}V0x=l0x.length - Y6x.startFrom === +"1" && Y6x.cachedFutureTicks && Y6x.cachedLastProjection && +Y6x.cachedLastProjection.DT === +l0x[l0x.length - ("1" & 2147483647)].DT && l0x[F0x][P8Dt + Y6x.name];if(V0x){Z8Dt="P";Z8Dt+="V";Z8Dt+=" ";z5Gj.W5Ld(20);var h6zt=z5Gj.Q5Ld(20,259,13);l0x[l0x.length - h6zt][Z8Dt + Y6x.name]=Y6x.cachedLastProjection.projectedValue;Y6x.appendFutureTicks(u0x,Y6x.cachedFutureTicks);F0x=Y6x.startFrom;}else {F8Dt="P";F8Dt+="V ";Y6x.cachedFutureTicks=null;Y6x.cachedLastProjection=null;n0x=[K0x];E0x=[];for(var R0x="0" * 1;R0x < p0x;R0x++){b8x=e0x(n0x[0] - +"1");n0x.unshift(b8x);;}while(n0x[p0x] >= F0x){i0x=n0x.pop();if(!l0x[i0x]){return M8x(i0x);}x8x=G0x(l0x[i0x].DT);var {hours:C0x, minutes:Z0x}=x8x;B0x=U0x.getClose(l0x[i0x].DT);h0x=void 0;if(!B0x){h0x={hours:24,minutes:0};}else {W0x=U0x.getNextClose(l0x[i0x].DT);h0x=G0x(B0x);while(!(h0x.hours === +"0" && h0x.minutes === 0) && B0x.getDate() === W0x.getDate()){B0x=W0x;W0x=U0x.getNextClose(W0x);}h0x=G0x(B0x);if(h0x.hours === 0){h0x.hours=24;}}m0x=n0x.slice();for(var r0x=0;r0x < m0x.length;r0x++){y0x=m0x[r0x];if(!l0x[y0x]){return M8x(y0x);}var {hours:A0x, minutes:P0x}=G0x(l0x[y0x].DT);if(A0x < C0x || A0x === C0x && P0x < Z0x){do {y0x++;({hours:A0x, minutes:P0x}=G0x(l0x[y0x].DT));}while(!(A0x === C0x && P0x === Z0x));}m0x[r0x]=y0x;}while(C0x < h0x.hours || C0x === h0x.hours && Z0x < h0x.minutes){I0x=! !"";z0x=void 0;Y0x=void +"0";l8x=0;z5Gj.W5Ld(24);a0x=z5Gj.K5Ld("0",0);for(var S0x="0" | 0;S0x < m0x.length;S0x++){c0x=m0x[S0x];if(c0x === null)continue;X0x=l0x[c0x];if(!X0x){return M8x(c0x);}var {hours:G8x, minutes:Z8x}=G0x(X0x.DT);B8x=X0x.DT.getDate();if(G8x === C0x && Z8x === Z0x){l8x+=X0x.Volume;a0x++;m0x[S0x]++;if(l0x[m0x[S0x]].DT.getDate() !== B8x){m0x[S0x]=null;}else if(!I0x){({hours:z0x, minutes:Y0x}=G0x(l0x[m0x[S0x]].DT));I0x=! ![];;}}}C0x=z0x;Z0x=Y0x;if(a0x === 0)break;z5Gj.W5Ld(16);u8x=z5Gj.K5Ld(l8x,a0x);if(l0x[i0x]){l0x[i0x]["PV " + Y6x.name]=u8x;}else {E0x.push({["PV " + Y6x.name]:u8x});}i0x++;}n0x.unshift(e0x(n0x[0] - 1));;}Y6x.cachedLastProjection={DT:l0x[l0x.length - 1].DT,projectedValue:l0x[l0x.length - 1][F8Dt + Y6x.name]};Y6x.cachedFutureTicks=E0x;Y6x.appendFutureTicks(u0x,E0x);}b0x=null;x0x=0;function G0x(f8x){z5Gj.o1Gj();return {hours:f8x.getHours(),minutes:f8x.getMinutes()};}f0x=0;if(V0x && v0x){while(F0x > 0){z5Gj.S5Ld(150);d0x=l0x[z5Gj.K5Ld("1",347993728,F0x)]["V " + Y6x.name];if(d0x || d0x === 0){x0x=d0x;break;}F0x--;}}for(var L0x=F0x;L0x < l0x.length;L0x++){M0x=l0x[L0x];F8x=M0x.Volume;q8x=M0x["PV " + Y6x.name];if(!M0x.futureTick){t8x=L0x;}if(b0x === null){b0x=V6x.Studies.getMarketOffset({stx:u0x,localQuoteDate:l0x[L0x].DT,shiftToDateBoundary:! !"1"});}D0x=new Date(new Date(M0x.DT).getTime() + b0x);h8x=l0x[L0x - 1] && new Date(new Date(l0x[L0x - 1].DT).getTime() + b0x);t0x=new P6x.Date(M0x.DT,U0x.market_def.market_tz || "America/New_York");t0x.setHours(S8x,L8x,H0x);z5Gj.W5Ld(2);t0x=new Date(z5Gj.K5Ld(b0x,t0x));t0x.setDate(D0x.getDate());if(h8x && D0x.getDate() !== h8x.getDate()){b0x=null;x0x=+"0";f0x=0;}if(D0x < t0x){M0x["V " + Y6x.name]=0;M0x["PV " + Y6x.name]=0;continue;}if(v0x){x0x+=F8x;f0x+=q8x;}else {x0x=F8x;f0x=q8x;}M0x["V " + Y6x.name]=x0x;if(!V0x){M0x["PV " + Y6x.name]=f0x;}if([NaN,null,undefined].includes(x0x) && !M0x.futureTick){Y6x.error=`${o0x} requires volume`;return;}}Y6x.cachedLastProjection.projectedValue=l0x[t8x]["PV " + Y6x.name];function e8x(V8x){var E8x;V8x.setHours(0);V8x.setMinutes(0);z5Gj.o1Gj();E8x=V6x.Studies.getMarketOffset({stx:u0x,localQuoteDate:V8x});return new Date(V8x.getTime() + E8x);}Y6x.outputMap={};Y6x.outputMap["V " + Y6x.name]="";Y6x.outputMap[U8Dt + Y6x.name]="Average Line";function i8x(s8x){z5Gj.o1Gj();var C8Dt;C8Dt="sc";C8Dt+="rubbed";return u0x.dateFromTick(s8x,null,! !{},C8Dt);}j0x.forEach(A8x=>{A8x.startFrom=F0x;z5Gj.R1Gj();A8x.study.calculateFN(u0x,A8x);});};V6x.Studies.displayProjectedVolume=function(Q8x,J8x,v8x){var P5Gj=L8gg;var m8Dt,z8Dt,j8x,H8x,O8x,R8x,I8x,Y8x,l1x;m8Dt="stx_volume_";m8Dt+="underlay_down";P5Gj.R1Gj();z8Dt="stx_volu";z8Dt+="me_underla";z8Dt+="y_up";if(J8x.error){return V6x.Studies.removeAnchorHandle(Q8x,J8x);}var {"Alert Threshold":T8x = ""}=J8x.inputs;P5Gj.S5Ld(8);var p6zt=P5Gj.K5Ld(19,16,13);P5Gj.W5Ld(20);var I6zt=P5Gj.Q5Ld(14,1076,84);j8x=parseInt(T8x.slice(0,-("1" & 2147483647)),p6zt) / I6zt;H8x=J8x.outputs["Alert Bar"];if(typeof H8x === "object"){H8x=H8x.color;}J8x.volumeField="V " + J8x.name;J8x.alignStepToSide=! !{};J8x.extendToEndOfLastBar=! ![];J8x.lineWidth=2;O8x=Q8x.canvasStyle(z8Dt).opacity;R8x=Q8x.canvasStyle(m8Dt).opacity;J8x.colorFunction=function(F1x){var o1x,u1x,k1x,q1x,h1x,M1x;var {Open:m1x, Close:U1x, iqPrevClose:i1x}=F1x;o1x=Q8x.colorByCandleDirection?m1x:i1x;P5Gj.W5Ld(151);u1x=P5Gj.K5Ld(o1x,U1x);k1x=F1x["PV " + J8x.name];q1x=F1x["V " + J8x.name];P5Gj.S5Ld(152);h1x=P5Gj.K5Ld(1,j8x,k1x);M1x=j8x < 0?q1x < h1x:q1x > h1x;return {fill_color:M1x && H8x || (u1x?this.fill_color_down:this.fill_color_up),border_color:u1x?this.border_color_down:this.border_color_up,opacity:M1x?+"1":u1x?R8x:O8x,border_opacity:u1x?R8x:O8x};};I8x=J8x.study?J8x.study.name:J8x.type;var {loadingMore:z8x}=Q8x.chart;Y8x=v8x.some(n1x=>{var o8Dt;o8Dt="P";o8Dt+="V";o8Dt+=" ";return n1x && n1x[J8x.volumeField] && n1x[o8Dt + J8x.name];});l1x=v8x[0] && !v8x[0].futureTick && (v8x[0]["PV " + J8x.name] === undefined || (J8x.dependentsOutputMap || []).some(C1x=>{P5Gj.R1Gj();return [undefined,null].includes(v8x[0][C1x]);}));if(!Y8x && z8x){return J8x.error=`Fetching data for ${I8x}`;}V6x.Studies.createVolumeChart(Q8x,J8x,v8x);V6x.Studies.displaySeriesAsLine(Q8x,J8x,v8x);if(J8x.anchorHandle){V6x.Studies.displayAnchorHandleAndLine(Q8x,J8x,v8x);}if(l1x){V6x.Studies.calculateProjectedVolume(Q8x,J8x);}};V6x.Studies.studyLibrary=V6x.extend(V6x.Studies.studyLibrary,{PVAT:{name:K8Dt,range:"0 to max",yAxis:{ground:!"",initialMarginTop:+"0",zoom:0},calculateFN:V6x.Studies.calculateProjectedVolume,seriesFN:V6x.Studies.displayProjectedVolume,initializeFN:V6x.Studies.initProjectedVolume,removeFN:V6x.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%",J8Dt,c8Dt,A8Dt,"+50%","+25%",r8Dt,"-25%","-50%","-75%",N8Dt,"-125%","-150%"],"Anchor Selector":! ![]},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:R8Dt,step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:V8Dt,range:"0 to max",yAxis:{ground:!"",initialMarginTop:0,zoom:0},calculateFN:V6x.Studies.calculateProjectedVolume,seriesFN:V6x.Studies.displayProjectedVolume,initializeFN:V6x.Studies.initProjectedVolume,removeFN:V6x.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!""},outputs:{"Average Line":u8Dt,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};c1A=L1x=>{var S1x,j8Dt,n6qt,k6qt,G6qt,p8Dt;S1x=typeof _CIQ !== "undefined"?_CIQ:L1x.CIQ;if(!S1x.Studies){j8Dt="psychologicalLine fe";j8Dt+="ature requires first activating ";j8Dt+="stud";j8Dt+="ies feature.";console.error(j8Dt);}else {S1x.Studies.calculatePsychologicalLine=function(e1x,y1x){var x1x,G1x,B1x,Z1x,h8Dt,t1x;x1x=y1x.chart.scrubbed;if(x1x.length < y1x.days + 1){y1x.error=! !{};return;}G1x=[];L8gg.W5Ld(2);var B6zt=L8gg.Q5Ld(12,88);B1x=B6zt / y1x.days;Z1x=0;for(var b1x=Math.max(y1x.startFrom - y1x.days,"1" * 1);b1x < x1x.length;b1x++){h8Dt="Re";h8Dt+="su";h8Dt+="lt";h8Dt+=" ";if(x1x[b1x].futureTick)break;t1x=Number(x1x[b1x].Close > x1x[b1x - 1].Close);if(t1x){Z1x+=B1x;}G1x.push(t1x);if(G1x.length > y1x.days){Z1x-=G1x.shift() * B1x;}if(b1x < y1x.startFrom)continue;if(!isNaN(x1x[b1x].Close)){x1x[b1x][h8Dt + y1x.name]=Z1x;}}};n6qt=- +"636630582";k6qt=-822791052;G6qt=+"2";for(var w6qt=1;L8gg.T5tt(w6qt.toString(),w6qt.toString().length,81692) !== n6qt;w6qt++){S1x.Studies.studyLibrary=S1x.extend(S1x.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"Psychological Line",calculateFN:S1x.Studies.calculatePsychologicalLine,inputs:{Period:42}}});G6qt+=2;}if(L8gg.T5tt(G6qt.toString(),G6qt.toString().length,"23486" ^ 0) !== k6qt){p8Dt="Psychologica";p8Dt+="l Line";S1x.Studies.studyLibrary=S1x.extend(S1x.Studies.studyLibrary,{PSY:{name:p8Dt,range:"0 to 100",calculateFN:S1x.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}}};d1A=W1x=>{L8gg.R1Gj();var p1x,B8Dt;p1x=typeof _CIQ !== "undefined"?_CIQ:W1x.CIQ;if(!p1x.Studies){console.error("qstick feature requires first activating studies feature.");}else {B8Dt="Q";B8Dt+="St";B8Dt+="i";B8Dt+="ck";p1x.Studies.calculateQStick=function(f1x,r1x){var A1x,I8Dt;A1x=r1x.chart.scrubbed;if(A1x.length < r1x.days + 1){r1x.error=!"";return;}for(var X1x=r1x.startFrom;X1x < A1x.length;X1x++){I8Dt="_Clo";I8Dt+="se-Open ";A1x[X1x][I8Dt + r1x.name]=A1x[X1x].Close - A1x[X1x].Open;}p1x.Studies.MA(r1x.inputs["Moving Average Type"],r1x.days,"_Close-Open " + r1x.name,0,"Result",f1x,r1x);};p1x.Studies.studyLibrary=p1x.extend(p1x.Studies.studyLibrary,{QStick:{name:B8Dt,calculateFN:p1x.Studies.calculateQStick,inputs:{Period:+"8","Moving Average Type":"ma"}}});}};D1A=g1x=>{var H8Dt,N1x,L1Dt,t1Dt,b1Dt,Y1Dt,s1Dt;H8Dt="und";H8Dt+="efined";N1x=typeof _CIQ !== H8Dt?_CIQ:g1x.CIQ;if(!N1x.Studies){console.error("rainbow feature requires first activating studies feature.");}else {L1Dt="Rain";L1Dt+="bow Oscill";L1Dt+="ator";t1Dt="#000";t1Dt+="0F";t1Dt+="F";b1Dt="#";b1Dt+="00";b1Dt+="FF";b1Dt+="7F";Y1Dt="#7";Y1Dt+="FFF";Y1Dt+="0";Y1Dt+="0";s1Dt="#";s1Dt+="FF";s1Dt+="7F";s1Dt+="00";N1x.Studies.calculateRainbow=function(v1x,K1x){var a5Gj=L8gg;var e8Dt,q8Dt,w1x,E1x,J1x,X8Dt,W8Dt,v8Dt,Q1x,c1x,d1x,D1x,P1x,T8Dt,a1x,g8Dt,l8Dt,i8Dt;e8Dt="O";e8Dt+="s";e8Dt+="c";function H1x(I1x,R1x){var j1x,O1x;a5Gj.R1Gj();j1x=Number.MAX_VALUE * - +"1";O1x=Number.MAX_VALUE;for(var T1x=R1x - I1x + 1;T1x <= R1x;T1x++){if(T1x < 0)continue;j1x=Math.max(j1x,w1x[T1x].Close);O1x=Math.min(O1x,w1x[T1x].Close);}return [O1x,j1x];}q8Dt="fie";q8Dt+="l";q8Dt+="d";w1x=K1x.chart.scrubbed;if(w1x.length < K1x.days + 1){K1x.error=! ![];return;}E1x=K1x.inputs.Field;if(!E1x || E1x == q8Dt){E1x="Close";}J1x=E1x;for(var V1x=1;V1x <= +"10";V1x++){X8Dt="S";X8Dt+="M";X8Dt+="A";W8Dt="S";W8Dt+="M";W8Dt+="A";v8Dt="s";v8Dt+="i";v8Dt+="mp";v8Dt+="le";N1x.Studies.MA(v8Dt,K1x.days,J1x,+"0",W8Dt + V1x,v1x,K1x);J1x=X8Dt + V1x + " " + K1x.name;}for(var s1x=Math.max(K1x.startFrom,10);s1x < w1x.length;s1x++){if(!w1x[s1x])continue;if(w1x[s1x].futureTick)break;Q1x=0;c1x=0;a5Gj.S5Ld(153);var H6zt=a5Gj.K5Ld(16,0,4,4);d1x=Number.MAX_VALUE * H6zt;D1x=Number.MAX_VALUE;for(V1x=1;V1x <= 10;V1x++){P1x=w1x[s1x]["SMA" + V1x + " " + K1x.name];if(P1x || P1x === 0){Q1x+=P1x;c1x++;d1x=Math.max(d1x,P1x);D1x=Math.min(D1x,P1x);}}if(K1x.name.indexOf("Osc") > -1){T8Dt="H";T8Dt+="HV/LLV Lookback";a1x=H1x(K1x.inputs[T8Dt],s1x);if(c1x){g8Dt="O";g8Dt+="ve";g8Dt+="r";g8Dt+=" ";w1x[s1x][K1x.name + "_hist"]=+"100" * (w1x[s1x][E1x] - Q1x / c1x) / Math.max(+"0.000001",a1x["1" & 2147483647] - a1x[0]);a5Gj.S5Ld(106);var q6zt=a5Gj.Q5Ld(89,89,85,15);a5Gj.S5Ld(42);var v6zt=a5Gj.K5Ld(15,16);w1x[s1x]["Over " + K1x.name]=q6zt * (d1x - D1x) / Math.max(0.000001,a1x[v6zt] - a1x[+"0"]);w1x[s1x]["Under " + K1x.name]=-w1x[s1x][g8Dt + K1x.name];w1x[s1x]["Zero " + K1x.name]=0;}}}if(K1x.name.indexOf(e8Dt) > -("1" ^ 0)){l8Dt="_";l8Dt+="hi";l8Dt+="s";l8Dt+="t";i8Dt="Negat";i8Dt+="iv";i8Dt+="e Bar";K1x.outputMap={};K1x.outputMap["Over " + K1x.name]="Positive Bar";K1x.outputMap["Under " + K1x.name]=i8Dt;K1x.outputMap["Zero " + K1x.name]="";K1x.outputMap[K1x.name + l8Dt]="";}};N1x.Studies.displayRainbowMA=function(l5l,Y1x,F5l){var u5l;u5l=l5l.panels[Y1x.panel];for(var z1x=10;z1x > 0;z1x--){N1x.Studies.displayIndividualSeriesAsLine(l5l,Y1x,u5l,"SMA" + z1x + " " + Y1x.name,F5l);}};N1x.Studies.displayRainbowOsc=function(h5l,q5l,x5l){var i5Gj=L8gg;var E8Dt,y8Dt,U5l,m5l,M5l,k5l,n5l,S5l,L5l,y5l,b5l,o5l,f8Dt,M8Dt,x8Dt,i5l;E8Dt="Z";E8Dt+="e";E8Dt+="ro ";y8Dt="Negative";y8Dt+=" Bar";N1x.Studies.displaySeriesAsLine(h5l,q5l,x5l);U5l=h5l.panels[q5l.panel];m5l=q5l.getContext(h5l);M5l=q5l.getYAxis(h5l);h5l.startClip(q5l.panel);if(!q5l.highlight && h5l.highlightedDraggable){m5l.globalAlpha*=0.3;}i5Gj.S5Ld(77);k5l=h5l.pixelFromPrice(i5Gj.K5Ld(152250880,"0"),U5l,M5l);n5l=U5l.name != q5l.chart.name;S5l=N1x.Studies.determineColor(q5l.outputs["Positive Bar"]);m5l.strokeStyle=S5l;h5l.plotDataSegmentAsLine("Over " + q5l.name,U5l,{skipTransform:n5l,label:!1,yAxis:M5l});L5l=m5l.createLinearGradient(0,k5l,0,M5l.flipped?M5l.bottom:M5l.top);L5l.addColorStop(0,h5l.containerColor);i5Gj.W5Ld(24);L5l.addColorStop(i5Gj.Q5Ld("1",0),S5l);N1x.prepareChannelFill(h5l,{skipTransform:n5l,color:L5l,opacity:!q5l.highlight && h5l.highlightedDraggable?"0.3" * 1:1,panelName:q5l.panel,topBand:"Over " + q5l.name,bottomBand:"Zero " + q5l.name,yAxis:M5l});y5l=N1x.Studies.determineColor(q5l.outputs[y8Dt]);m5l.strokeStyle=y5l;h5l.plotDataSegmentAsLine("Under " + q5l.name,U5l,{skipTransform:n5l,label:!{},yAxis:M5l});b5l=m5l.createLinearGradient(0,k5l,0,M5l.flipped?M5l.top:M5l.bottom);b5l.addColorStop(0,h5l.containerColor);b5l.addColorStop(1,y5l);N1x.prepareChannelFill(h5l,{skipTransform:n5l,color:b5l,opacity:!q5l.highlight && h5l.highlightedDraggable?0.3:1,panelName:q5l.panel,topBand:E8Dt + q5l.name,bottomBand:"Under " + q5l.name,yAxis:M5l});i5Gj.S5Ld(32);var W6zt=i5Gj.Q5Ld(10,1,7);o5l=h5l.layout.candleWidth - W6zt;if(o5l < 2){o5l=+"1";}h5l.canvasColor("stx_histogram");if(!q5l.underlay){m5l.globalAlpha=1;}i5Gj.o1Gj();if(!q5l.highlight && h5l.highlightedDraggable){m5l.globalAlpha*=0.3;}m5l.fillStyle="#CCCCCC";for(var C5l=0;C5l < x5l.length;C5l++){f8Dt="_";f8Dt+="h";f8Dt+="is";f8Dt+="t";M8Dt="_";M8Dt+="h";M8Dt+="is";M8Dt+="t";x8Dt="_";x8Dt+="hi";x8Dt+="st";i5l=x5l[C5l];if(!i5l)continue;if(i5l[q5l.name + x8Dt] > 0){m5l.fillStyle=S5l;}else if(i5l[q5l.name + M8Dt] < 0){m5l.fillStyle=y5l;}if(i5l.candleWidth){o5l=Math.floor(Math.max(1,i5l.candleWidth - 2));}m5l.fillRect(Math.floor(h5l.pixelFromBar(C5l,U5l.chart) - o5l / ("2" ^ 0)),Math.floor(k5l),Math.floor(o5l),Math.floor(h5l.pixelFromPrice(i5l[q5l.name + f8Dt],U5l,M5l) - k5l));}h5l.endClip();};N1x.Studies.studyLibrary=N1x.extend(N1x.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! !"1",calculateFN:N1x.Studies.calculateRainbow,seriesFN:N1x.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:s1Dt,SMA3:"#FFFF00",SMA4:Y1Dt,SMA5:b1Dt,SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:t1Dt,SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:L1Dt,calculateFN:N1x.Studies.calculateRainbow,seriesFN:N1x.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":+"10"},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};J1A=Z5l=>{var d1Dt,G5l,O1Dt;L8gg.R1Gj();d1Dt="und";d1Dt+="efined";G5l=typeof _CIQ !== d1Dt?_CIQ:Z5l.CIQ;if(!G5l.Studies){O1Dt="randomWalk fe";O1Dt+="ature requires first activating studies feature.";console.error(O1Dt);}else {G5l.Studies.calculateRandomWalk=function(w5l,p5l){var t5l,X5l,f5l,N5l,W5l,r5l,A5l,g5l,K5l,Q1Dt,a1Dt;t5l=p5l.chart.scrubbed;if(t5l.length < p5l.days + 1){p5l.error=! !1;return;}for(var B5l=Math.max(2,p5l.startFrom);B5l < t5l.length;B5l++){X5l=+"0";f5l=t5l[B5l].High;N5l=t5l[B5l].Low;W5l=0;r5l=0;for(var e5l=1;e5l <= p5l.days;e5l++){if(t5l[B5l].futureTick)break;if(B5l <= e5l){L8gg.S5Ld(24);W5l=r5l=L8gg.Q5Ld("0",0);break;}X5l+=t5l[B5l - e5l].trueRange;A5l=X5l / e5l * Math.sqrt(e5l);if(A5l){g5l=(f5l - t5l[B5l - e5l].Low) / A5l;K5l=(t5l[B5l - e5l].High - N5l) / A5l;W5l=Math.max(W5l,g5l);r5l=Math.max(r5l,K5l);}}if(!t5l[B5l].futureTick && (!isNaN(f5l) || !isNaN(N5l))){Q1Dt="Random";Q1Dt+=" Walk Low ";a1Dt="Ra";a1Dt+="ndom Wal";a1Dt+="k High ";t5l[B5l][a1Dt + p5l.name]=W5l;t5l[B5l][Q1Dt + p5l.name]=r5l;}}};G5l.Studies.studyLibrary=G5l.extend(G5l.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:G5l.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};Q1A=V5l=>{var s5l,S1Dt,w1Dt;s5l=typeof _CIQ !== "undefined"?_CIQ:V5l.CIQ;if(!s5l.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {S1Dt="#";S1Dt+="0";S1Dt+="0";S1Dt+="DD00";w1Dt="Relative Vig";w1Dt+="or Ind";w1Dt+="ex";s5l.Studies.calculateRelativeVigor=function(v5l,E5l){var D1Dt,G1Dt,a5l,P5l,c5l,D5l,J5l,k1Dt,n1Dt,H5l,Q5l,d5l;D1Dt="RelVi";D1Dt+="gSi";D1Dt+="gnal";G1Dt="Rel ";G1Dt+="Vig ";a5l=E5l.chart.scrubbed;if(a5l.length < E5l.days + 1){E5l.error=!0;return;}for(P5l=E5l.startFrom;P5l < a5l.length;P5l++){c5l=a5l[P5l];if(!isNaN(c5l.Close) && !isNaN(c5l.Open)){c5l["_Change " + E5l.name]=c5l.Close - c5l.Open;}if(!isNaN(c5l.High) && !isNaN(c5l.Low)){c5l["_Range " + E5l.name]=c5l.High - c5l.Low;}}s5l.Studies.MA("triangular",4,"_Change " + E5l.name,0,"_Numer",v5l,E5l);s5l.Studies.MA("triangular",4,"_Range " + E5l.name,0,"_Denom",v5l,E5l);D5l=[];J5l=[];for(P5l=Math.max(E5l.startFrom - E5l.days,0);P5l < a5l.length;P5l++){k1Dt="_De";k1Dt+="n";k1Dt+="om";k1Dt+=" ";n1Dt="_Nume";n1Dt+="r ";if(a5l[P5l].futureTick)break;if(a5l[P5l][n1Dt + E5l.name] === null && a5l[P5l]["_Denom " + E5l.name] === null)continue;D5l.push(a5l[P5l]["_Numer " + E5l.name]);J5l.push(a5l[P5l][k1Dt + E5l.name]);if(D5l.length > E5l.days){D5l.shift();J5l.shift();}H5l=0;Q5l=0;for(d5l="0" - 0;d5l < D5l.length;d5l++){H5l+=D5l[d5l];}for(d5l=0;d5l < J5l.length;d5l++){Q5l+=J5l[d5l];}if(Q5l === 0){Q5l=0.00000001;}if(P5l < E5l.startFrom)continue;L8gg.W5Ld(16);a5l[P5l]["Rel Vig " + E5l.name]=L8gg.K5Ld(H5l,Q5l);}s5l.Studies.MA("triangular",4,G1Dt + E5l.name,0,D1Dt,v5l,E5l);for(P5l=E5l.startFrom;P5l < a5l.length;P5l++){a5l[P5l][E5l.name + "_hist"]=a5l[P5l]["Rel Vig " + E5l.name] - a5l[P5l]["RelVigSignal " + E5l.name];}E5l.outputMap[E5l.name + "_hist"]="";};s5l.Studies.studyLibrary=s5l.extend(s5l.Studies.studyLibrary,{"Rel Vig":{name:w1Dt,seriesFN:s5l.Studies.displayHistogramWithSeries,calculateFN:s5l.Studies.calculateRelativeVigor,inputs:{Period:+"10"},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":S1Dt,"Decreasing Bar":"#FF0000"}}});}};v1A=j5l=>{var T5l,P1Dt,G9qt,D9qt,w9qt,C1Dt,o1Dt,m1Dt,z1Dt;T5l=typeof _CIQ !== "undefined"?_CIQ:j5l.CIQ;if(!T5l.Studies){P1Dt="rsi ";P1Dt+="feature requires first activating studies feature.";console.error(P1Dt);}else {T5l.Studies.calculateRSI=function(m3l,O5l){var T5Gj=L8gg;var Z1Dt,F3l,R5l,U1Dt,l3l,u3l,q3l,h3l,I5l,z5l,F1Dt;Z1Dt="fiel";T5Gj.o1Gj();Z1Dt+="d";F3l=O5l.chart.scrubbed;function M3l(o3l,U3l){T5Gj.R1Gj();var i3l;if(U3l === 0){return 100;}T5Gj.S5Ld(16);i3l=T5Gj.K5Ld(o3l,U3l);T5Gj.W5Ld(154);return T5Gj.K5Ld(1,i3l,100,100);}R5l=O5l.inputs.Field;if(!R5l || R5l == Z1Dt){R5l="Close";}if(F3l.length < O5l.days + 1){O5l.error=! !{};return;}for(var Y5l=O5l.startFrom;Y5l < F3l.length;Y5l++){U1Dt="_avg";U1Dt+="L";U1Dt+=" ";if(!Y5l)continue;l3l=F3l[Y5l];T5Gj.S5Ld(6);u3l=F3l[T5Gj.K5Ld(Y5l,1)];if(!l3l[R5l] && l3l[R5l] !== 0)continue;if(!u3l[R5l] && u3l[R5l] !== 0)continue;q3l=l3l[R5l] - u3l[R5l];h3l=Math.min(Y5l,O5l.days);I5l=u3l["_avgG " + O5l.name];if(!I5l){I5l=0;}T5Gj.S5Ld(16);I5l-=T5Gj.Q5Ld(I5l,h3l);z5l=u3l["_avgL " + O5l.name];if(!z5l){z5l=0;}T5Gj.W5Ld(16);z5l-=T5Gj.Q5Ld(z5l,h3l);if(q3l > 0){T5Gj.W5Ld(16);I5l+=T5Gj.Q5Ld(q3l,h3l);}else if(q3l <= 0){T5Gj.S5Ld(16);z5l-=T5Gj.Q5Ld(q3l,h3l);}else continue;if(Y5l >= O5l.days){F1Dt="R";F1Dt+="SI ";if((I5l || I5l !== 0) && (z5l || z5l !== 0)){l3l[F1Dt + O5l.name]=M3l(I5l,z5l);}}l3l["_avgG " + O5l.name]=I5l;l3l[U1Dt + O5l.name]=z5l;}O5l.zoneOutput="RSI";};G9qt=1711554277;D9qt=1426248109;w9qt=+"2";for(var P9qt=1;L8gg.T5tt(P9qt.toString(),P9qt.toString().length,15285) !== G9qt;P9qt++){C1Dt="R";C1Dt+="SI";T5l.Studies.studyLibrary=T5l.extend(T5l.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:"30" >> 1801706496,Field:"auto"},calculateFN:T5l.Studies.calculateRSI,range:"auto",outputs:{RSI:"RSI"},parameters:{init:{studyOverZonesEnabled:![],studyOverBoughtValue:"50" - 0,studyOverBoughtColor:C1Dt,studyOverSoldValue:21,studyOverSoldColor:"RSI"}}}});w9qt+=2;}if(L8gg.g5tt(w9qt.toString(),w9qt.toString().length,97324) !== D9qt){o1Dt="a";o1Dt+="ut";o1Dt+="o";m1Dt="a";m1Dt+="u";m1Dt+="to";z1Dt="fie";z1Dt+="ld";T5l.Studies.studyLibrary=T5l.extend(T5l.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:z1Dt},calculateFN:T5l.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:m1Dt},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:o1Dt,studyOverSoldValue:"20" | 20,studyOverSoldColor:"auto"}}}});}}};H1A=n3l=>{var S6qt,P6qt,Z6qt,k3l,N1Dt;S6qt=-580549972;P6qt=-2037617210;Z6qt=2;for(var U6qt=1;L8gg.T5tt(U6qt.toString(),U6qt.toString().length,20147) !== S6qt;U6qt++){k3l=~_CIQ === ""?_CIQ:n3l.CIQ;Z6qt+=2;}if(L8gg.T5tt(Z6qt.toString(),Z6qt.toString().length,15212) !== P6qt){k3l=typeof _CIQ !== "undefined"?_CIQ:n3l.CIQ;}if(!k3l.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {N1Dt="Schaff Trend ";N1Dt+="C";N1Dt+="ycle";k3l.Studies.calculateSchaff=function(f3l,C3l){var u5Gj=L8gg;var K1Dt,y3l,x3l,A3l,G3l,Z3l,X3l,B3l,t3l,c1Dt,b3l,e3l,p3l,W3l,L3l,J1Dt,r3l,r1Dt,A1Dt;K1Dt="Clo";K1Dt+="s";K1Dt+="e";y3l=C3l.chart.scrubbed;x3l=C3l.days;A3l=Number(C3l.inputs["Short Cycle"]);G3l=Number(C3l.inputs["Long Cycle"]);if(y3l.length < Math.max(x3l,A3l,G3l) + 1){C3l.error=!"";return;}Z3l=C3l.inputs.Field;function N3l(E3l,V3l,P3l){var K3l,w3l,g3l;K3l=null;w3l=null;for(var s3l=V3l - E3l + 1;s3l <= V3l;s3l++){u5Gj.W5Ld(92);var X6zt=u5Gj.K5Ld(631,626,313);u5Gj.S5Ld(2);var T6zt=u5Gj.K5Ld(17,852);u5Gj.W5Ld(4);var g6zt=u5Gj.Q5Ld(74230,68532,12);u5Gj.W5Ld(8);var e6zt=u5Gj.Q5Ld(7,3407,10);u5Gj.S5Ld(155);var i6zt=u5Gj.Q5Ld(47556,1,758271,16,17);u5Gj.S5Ld(156);var l6zt=u5Gj.Q5Ld(14,6191,6183,6177,1);g3l=y3l[s3l][P3l + ((X6zt,T6zt) > +"5570"?(g6zt,! !1):(e6zt,+"783") <= i6zt?(474.38,178.58) != l6zt?" ":956.51:641.60) + C3l.name];if(!g3l)continue;K3l=K3l === null?g3l:Math.min(K3l,g3l);w3l=w3l === null?g3l:Math.max(w3l,g3l);}return [K3l,w3l];}if(!Z3l || Z3l == "field"){Z3l=K1Dt;}u5Gj.W5Ld(7);X3l=u5Gj.K5Ld("0.5",1);k3l.Studies.MA(C3l.inputs["Moving Average Type"],A3l,Z3l,0,"_MACD1",f3l,C3l);k3l.Studies.MA(C3l.inputs["Moving Average Type"],G3l,Z3l,0,"_MACD2",f3l,C3l);u5Gj.S5Ld(77);B3l=u5Gj.Q5Ld(1541759168,"0");u5Gj.R1Gj();t3l=0;for(var S3l=C3l.startFrom;S3l < y3l.length;S3l++){c1Dt="_";c1Dt+="P";c1Dt+="F";b3l=y3l[S3l];if(S3l < G3l - 1)continue;e3l=b3l["_MACD1 " + C3l.name];p3l=b3l["_MACD2 " + C3l.name];if(e3l || e3l === 0 || p3l || p3l === 0){u5Gj.S5Ld(6);b3l["_MACD " + C3l.name]=u5Gj.Q5Ld(e3l,p3l);}W3l=b3l["_MACD " + C3l.name];if(S3l < G3l + (x3l - ("1" | 0)))continue;L3l=N3l(x3l,S3l,"_MACD");B3l=L3l[1] > L3l[0]?100 * (W3l - L3l[0]) / (L3l[+"1"] - L3l[0]):B3l;if(W3l || W3l === 0){J1Dt="_";J1Dt+="P";J1Dt+="F";J1Dt+=" ";b3l[J1Dt + C3l.name]=y3l[S3l - 1]["_PF " + C3l.name]?y3l[S3l - 1]["_PF " + C3l.name] + X3l * (B3l - y3l[S3l - 1]["_PF " + C3l.name]):B3l;}r3l=b3l["_PF " + C3l.name];if(S3l < G3l + 2 * (x3l - 1))continue;L3l=N3l(x3l,S3l,c1Dt);t3l=L3l[1] > L3l[0]?100 * (r3l - L3l[0]) / (L3l[1] - L3l[0]):t3l;if(r3l || r3l === 0){r1Dt="R";r1Dt+="esul";r1Dt+="t ";A1Dt="Resu";A1Dt+="lt ";b3l["Result " + C3l.name]=y3l[S3l - 1]["Result " + C3l.name]?y3l[S3l - 1][A1Dt + C3l.name] + X3l * (t3l - y3l[S3l - +"1"][r1Dt + C3l.name]):t3l;}}};k3l.Studies.studyLibrary=k3l.extend(k3l.Studies.studyLibrary,{Schaff:{name:N1Dt,range:"0 to 100",calculateFN:k3l.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};T1A=c3l=>{var a3l,R1Dt;a3l=typeof _CIQ !== "undefined"?_CIQ:c3l.CIQ;if(!a3l.Studies){R1Dt="shinohara featur";R1Dt+="e requir";R1Dt+="es first activating studies feature.";console.error(R1Dt);}else {a3l.Studies.calculateShinohara=function(v3l,J3l){var p5Gj=L8gg;var D3l,Q3l,V1Dt;D3l=J3l.chart.scrubbed;if(D3l.length < J3l.days + 1){J3l.error=! ![];return;}Q3l={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(J3l.startFrom > 1){V1Dt="_";V1Dt+="accum";V1Dt+="s ";Q3l=a3l.clone(D3l[J3l.startFrom - +"1"][V1Dt + J3l.name]);}p5Gj.o1Gj();for(var d3l=J3l.startFrom;d3l < D3l.length;d3l++){Q3l.weakNum+=D3l[d3l].High - D3l[d3l].Close;Q3l.weakDen+=D3l[d3l].Close - D3l[d3l].Low;if(d3l > 0){p5Gj.W5Ld(157);var y6zt=p5Gj.Q5Ld(7,5,6,17);Q3l.strongNum+=D3l[d3l].High - D3l[d3l - y6zt].Close;p5Gj.S5Ld(121);var E6zt=p5Gj.Q5Ld(8,7,7,10);Q3l.strongDen+=D3l[d3l - E6zt].Close - D3l[d3l].Low;}if(d3l >= J3l.days){Q3l.weakNum-=D3l[d3l - J3l.days].High - D3l[d3l - J3l.days].Close;Q3l.weakDen-=D3l[d3l - J3l.days].Close - D3l[d3l - J3l.days].Low;p5Gj.S5Ld(6);var x6zt=p5Gj.K5Ld(1900,1800);D3l[d3l]["Weak Ratio " + J3l.name]=x6zt * Q3l.weakNum / Q3l.weakDen;if(d3l > J3l.days){p5Gj.W5Ld(59);var M6zt=p5Gj.K5Ld(20,11,37,7);Q3l.strongNum-=D3l[d3l - J3l.days].High - D3l[d3l - J3l.days - M6zt].Close;p5Gj.W5Ld(130);var f6zt=p5Gj.K5Ld(11,11,0,0);Q3l.strongDen-=D3l[d3l - J3l.days - f6zt].Close - D3l[d3l - J3l.days].Low;p5Gj.W5Ld(0);var s7zt=p5Gj.Q5Ld(18,17,65);D3l[d3l]["Strong Ratio " + J3l.name]=s7zt * Q3l.strongNum / Q3l.strongDen;}}D3l[d3l]["_accums " + J3l.name]=a3l.clone(Q3l);}};a3l.Studies.studyLibrary=a3l.extend(a3l.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:a3l.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};j1A=T3l=>{var u1Dt,H3l,y1Dt,l1Dt,i1Dt,e1Dt,g1Dt;u1Dt="undefine";u1Dt+="d";H3l=typeof _CIQ !== u1Dt?_CIQ:T3l.CIQ;if(!H3l.Studies){console.error("stochastics feature requires first activating studies feature.");}else {y1Dt="au";y1Dt+="to";l1Dt="#";l1Dt+="F";l1Dt+="F";l1Dt+="0000";i1Dt="aut";i1Dt+="o";e1Dt="#";e1Dt+="FF0";e1Dt+="000";g1Dt="Stochastic Momentu";g1Dt+="m Index";H3l.Studies.calculateStochastics=function(u9l,j3l){var h1Dt,j1Dt,I3l,O3l,R3l,Y3l,l9l,B1Dt,H1Dt,q9l;h1Dt="%K Smoothing";h1Dt+=" Periods";j1Dt="f";j1Dt+="i";function F9l(k9l,m9l,S9l){var n9l,M9l,h9l,I1Dt,p1Dt,i9l,o9l,C9l;L8gg.S5Ld(8);n9l=L8gg.Q5Ld(S9l,k9l,1);L8gg.S5Ld(6);var Y7zt=L8gg.Q5Ld(3,4);M9l=Number.MAX_VALUE * Y7zt;h9l=Number.MAX_VALUE;for(var U9l=n9l;U9l <= k9l;U9l++){I1Dt="L";I1Dt+="o";I1Dt+="w";p1Dt="C";p1Dt+="l";p1Dt+="os";p1Dt+="e";i9l=R3l[U9l][m9l == p1Dt?I1Dt:m9l];o9l=R3l[U9l][m9l == "Close"?"High":m9l];if(!i9l && i9l !== 0)continue;if(!o9l && o9l !== 0)continue;h9l=Math.min(h9l,i9l);M9l=Math.max(M9l,o9l);}if(M9l == Number.MAX_VALUE * -1 || h9l == Number.MAX_VALUE){return null;}C9l=M9l == h9l?+"0":(R3l[k9l][m9l] - h9l) / (M9l - h9l) * 100;return C9l;}L8gg.R1Gj();j1Dt+="e";j1Dt+="ld";if(!j3l.smooth){j3l.smooth=j3l.inputs.Smooth;}I3l=j3l.inputs.Field;if(!I3l || I3l == j1Dt){I3l="Close";}O3l=j3l.inputs["%K Periods"];if(!O3l){O3l=j3l.days;}R3l=j3l.chart.scrubbed;if(R3l.length < Math.max(O3l,j3l.days) + +"1"){j3l.error=! !{};return;}Y3l=j3l.inputs[h1Dt];if(Y3l && !j3l.inputs.Fast){j3l.smooth=! !{};}else if(j3l.smooth){Y3l=3;}l9l=j3l.inputs["%D Periods"];if(!l9l){l9l=3;}if(j3l.outputs.Fast){B1Dt="S";B1Dt+="l";B1Dt+="o";B1Dt+="w";j3l.outputMap={};j3l.outputMap["%K " + j3l.name]="Fast";j3l.outputMap["%D " + j3l.name]=B1Dt;}for(var z3l=Math.max(O3l,j3l.startFrom);z3l < R3l.length;z3l++){H1Dt="_Fa";H1Dt+="st";H1Dt+="%K ";q9l=F9l(z3l,I3l,O3l);if(q9l !== null){R3l[z3l][H1Dt + j3l.name]=F9l(z3l,I3l,O3l);}}H3l.Studies.MA("simple",j3l.smooth?Y3l:1,"_Fast%K " + j3l.name,0,"%K",u9l,j3l);H3l.Studies.MA("simple",l9l,"%K " + j3l.name,+"0","%D",u9l,j3l);};H3l.Studies.calculateStochMomentum=function(x9l,L9l){var N5Gj=L8gg;var T1Dt,X1Dt,W1Dt,v1Dt,q1Dt,G9l,B9l,t9l,p9l,y9l,b9l,e9l,Z9l;T1Dt="%";T1Dt+="K";T1Dt+=" ";X1Dt="expon";X1Dt+="en";X1Dt+="t";X1Dt+="ial";W1Dt="exponen";W1Dt+="ti";W1Dt+="al";v1Dt="_H";v1Dt+=" ";q1Dt="%K Pe";q1Dt+="ri";q1Dt+="ods";G9l=Number(L9l.inputs[q1Dt]);B9l=Number(L9l.inputs["%K Smoothing Periods"]);t9l=Number(L9l.inputs["%K Double Smoothing Periods"]);p9l=Number(L9l.inputs["%D Periods"]);y9l=L9l.chart.scrubbed;if(y9l.length < G9l + B9l + t9l - 1 || y9l.length < p9l){L9l.error=! !{};return;}for(b9l=Math.max(G9l,L9l.startFrom) - 1;b9l < y9l.length;b9l++){e9l=y9l[b9l];Z9l=W9l(G9l,b9l);N5Gj.W5Ld(20);var b7zt=N5Gj.Q5Ld(2,21,11);N5Gj.S5Ld(6);var t7zt=N5Gj.Q5Ld(9,8);N5Gj.S5Ld(158);var L7zt=N5Gj.Q5Ld(7,13,3,434,30);e9l["_H " + L9l.name]=e9l.Close - (Z9l["0" * b7zt] + Z9l[t7zt]) / L7zt;N5Gj.S5Ld(8);var d7zt=N5Gj.K5Ld(11,0,12);e9l["_DHL " + L9l.name]=Z9l[d7zt] - Z9l[0];}H3l.Studies.MA("exponential",B9l,v1Dt + L9l.name,0,"_HS1",x9l,L9l);H3l.Studies.MA(W1Dt,t9l,"_HS1 " + L9l.name,0,"_HS2",x9l,L9l);function W9l(N9l,f9l){var A9l,X9l;A9l=null;X9l=null;for(var r9l=f9l - N9l + 1;r9l <= f9l;r9l++){A9l=A9l === null?y9l[r9l].Low:Math.min(A9l,y9l[r9l].Low);X9l=X9l === null?y9l[r9l].High:Math.max(X9l,y9l[r9l].High);}return [A9l,X9l];}H3l.Studies.MA("exponential",B9l,"_DHL " + L9l.name,+"0","_DHL1",x9l,L9l);H3l.Studies.MA(X1Dt,t9l,"_DHL1 " + L9l.name,"0" - 0,"_DHL2",x9l,L9l);for(b9l=G9l - +"1";b9l < y9l.length;b9l++){N5Gj.S5Ld(159);var O7zt=N5Gj.K5Ld(2,5,117,39);y9l[b9l]["%K " + L9l.name]=y9l[b9l]["_HS2 " + L9l.name] / (+"0.5" * y9l[b9l]["_DHL2 " + L9l.name]) * O7zt;}H3l.Studies.MA(L9l.inputs["%D Moving Average Type"],p9l,T1Dt + L9l.name,0,"%D",x9l,L9l);L9l.zoneOutput="%K";};H3l.Studies.studyLibrary=H3l.extend(H3l.Studies.studyLibrary,{"Stch Mtm":{name:g1Dt,calculateFN:H3l.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":"10" & 2147483647,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":e1Dt},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:40,studyOverBoughtColor:i1Dt,studyOverSoldValue:-("40" & 2147483647),studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:H3l.Studies.calculateStochastics,inputs:{Period:"14" << 707072416,Field:"field",Smooth:! !{}},outputs:{Fast:"auto",Slow:l1Dt},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:y1Dt}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:H3l.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:! !0,"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:+"50"}});}};O1A=K9l=>{var E1Dt,g9l;E1Dt="und";E1Dt+="ef";E1Dt+="ined";g9l=typeof _CIQ !== E1Dt?_CIQ:K9l.CIQ;L8gg.o1Gj();if(!g9l.Studies){console.error("supertrend feature requires first activating studies feature.");}else {g9l.Studies.calculateSupertrend=function(D9l,w9l){var S5Gj=L8gg;var V9l,s4Dt,E9l,c9l,d9l,P9l,a9l,M1Dt,x1Dt,f1Dt;V9l=w9l.chart.scrubbed;S5Gj.o1Gj();if(V9l.length < w9l.days + 1){w9l.error=!0;return;}g9l.Studies.calculateStudyATR(D9l,w9l);for(var s9l=w9l.startFrom;s9l < V9l.length;s9l++){s4Dt="Tre";s4Dt+="n";s4Dt+="d ";E9l=V9l[s9l];if(!E9l)continue;c9l=(E9l.High + E9l.Low) / +"2";d9l=w9l.inputs.Multiplier * E9l["ATR " + w9l.name];S5Gj.W5Ld(6);P9l=S5Gj.Q5Ld(c9l,d9l);S5Gj.S5Ld(2);a9l=S5Gj.K5Ld(d9l,c9l);if(s9l){M1Dt="_Upt";M1Dt+="rend ";x1Dt="_Up";x1Dt+="t";x1Dt+="rend";x1Dt+=" ";if(V9l[s9l - 1] && V9l[s9l - "1" * 1].Close && V9l[s9l - ("1" << 1117927648)].Close > V9l[s9l - 1][x1Dt + w9l.name] && V9l[s9l - 1]["_Uptrend " + w9l.name] > P9l){S5Gj.S5Ld(6);P9l=V9l[S5Gj.Q5Ld(s9l,1)][M1Dt + w9l.name];}if(V9l[s9l - 1] && V9l[s9l - 1].Close && V9l[s9l - 1].Close < V9l[s9l - 1]["_Downtrend " + w9l.name] && V9l[s9l - 1]["_Downtrend " + w9l.name] < a9l){S5Gj.W5Ld(6);a9l=V9l[S5Gj.Q5Ld(s9l,1)]["_Downtrend " + w9l.name];}}E9l["_Direction " + w9l.name]=1;if(s9l){f1Dt="_Uptren";f1Dt+="d ";S5Gj.W5Ld(6);E9l["_Direction " + w9l.name]=V9l[S5Gj.Q5Ld(s9l,1)]["_Direction " + w9l.name];if(E9l.Close > V9l[s9l - 1]["_Downtrend " + w9l.name]){E9l["_Direction " + w9l.name]=1;}else if(E9l.Close < V9l[s9l - 1][f1Dt + w9l.name]){E9l["_Direction " + w9l.name]=-1;}}E9l["_Uptrend " + w9l.name]=P9l;E9l["_Downtrend " + w9l.name]=a9l;E9l[s4Dt + w9l.name]=E9l["_Direction " + w9l.name] > 0?P9l:a9l;if(!s9l)continue;}w9l.outputMap={};w9l.outputMap["Trend " + w9l.name]="";};g9l.Studies.displaySupertrend=function(Q9l,J9l,T9l){var b5Gj=L8gg;var j9l,v9l,O9l,M7l,l7l,R9l,I9l,H9l,F7l,q7l;j9l=Q9l.panels[J9l.panel];v9l=J9l.getContext(Q9l);O9l=J9l.getYAxis(Q9l);M7l={skipTransform:j9l.name != J9l.chart.name,skipProjections:! ![],label:Q9l.preferences.labels,yAxis:O9l,highlight:J9l.highlight};v9l.strokeStyle=h7l(Q9l,T9l[T9l.length - 1]);v9l.lineWidth=2;if(J9l.highlight){v9l.lineWidth=1.5;}function h7l(U7l,m7l,i7l){if(m7l && m7l["_Direction " + J9l.name] < ("0" ^ 0)){return J9l.outputs.Downtrend;}return J9l.outputs.Uptrend;}l7l="Trend " + J9l.name;for(var u7l=+"0";j9l.chart.transformFunc && O9l != j9l.chart.yAxis && u7l < T9l.length;u7l++){R9l=T9l[u7l];if(R9l && R9l.transform){R9l.transform[l7l]=j9l.chart.transformFunc(Q9l,j9l.chart,R9l[l7l]);}}Q9l.plotDataSegmentAsLine(l7l,j9l,M7l,h7l);v9l.lineWidth=1;v9l.globalAlpha=1;Q9l.startClip(J9l.panel);b5Gj.R1Gj();if(!J9l.highlight && Q9l.highlightedDraggable){b5Gj.W5Ld(6);v9l.globalAlpha*=b5Gj.K5Ld("0.3",0);}b5Gj.S5Ld(160);var a7zt=b5Gj.K5Ld(4,4,3,4,14);I9l=v9l.measureText("\u25B2").width / a7zt;for(H9l=0;H9l < T9l.length;H9l++){if(!T9l[H9l] || !T9l[H9l - 1])continue;if(T9l[H9l - 1]["_Direction " + J9l.name] > T9l[H9l]["_Direction " + J9l.name]){v9l.fillStyle=J9l.outputs.Downtrend;v9l.textBaseline="bottom";F7l=Q9l.pixelFromPrice(T9l[H9l].High,j9l,O9l);for(var z9l=5;z9l <= +"45";z9l+=10){if(O9l.flipped){v9l.fillText("\u25B2",Q9l.pixelFromBar(H9l) - I9l,F7l + z9l);}else {v9l.fillText("\u25BC",Q9l.pixelFromBar(H9l) - I9l,F7l - z9l);}}}else if(T9l[H9l - 1]["_Direction " + J9l.name] < T9l[H9l]["_Direction " + J9l.name]){v9l.fillStyle=J9l.outputs.Uptrend;v9l.textBaseline="top";q7l=Q9l.pixelFromPrice(T9l[H9l].Low,j9l,O9l);for(var Y9l=5;Y9l <= 45;Y9l+=10){if(O9l.flipped){v9l.fillText((4400,444.46) !== 19?("9740" & 2147483647,3598) >= ("8632" << 2127289344,8550)?531 >= 7240?(1.25e+3,"F"):!1:"\u25BC":("H","f"),Q9l.pixelFromBar(H9l) - I9l,q7l - Y9l);}else {v9l.fillText(2380 != 296.94?"\u25B2":6.40e+2,Q9l.pixelFromBar(H9l) - I9l,q7l + Y9l);}}}}Q9l.endClip();};g9l.Studies.studyLibrary=g9l.extend(g9l.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! !{},seriesFN:g9l.Studies.displaySupertrend,calculateFN:g9l.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:+"0.1"}}}});}};L8gg.R1Gj();R1A=k7l=>{var o7l;o7l=typeof _CIQ !== "undefined"?_CIQ:k7l.CIQ;L8gg.R1Gj();if(!o7l.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {o7l.Studies.calculateSwingIndex=function(W7l,S7l){var B5Gj=L8gg;var b4Dt,Y4Dt,L7l,n7l,y7l,t4Dt,x7l,G7l,e7l,p7l,B7l,Z7l,b7l,t7l;b4Dt="Re";b4Dt+="su";b4Dt+="l";b4Dt+="t ";Y4Dt="Limit Mo";B5Gj.o1Gj();Y4Dt+="v";Y4Dt+="e Valu";Y4Dt+="e";L7l=S7l.inputs[Y4Dt];if(L7l === null || isNaN(L7l)){B5Gj.W5Ld(77);L7l=B5Gj.Q5Ld(749966560,"99999");}n7l=S7l.chart.scrubbed;y7l=0;if(S7l.startFrom > 1){B5Gj.S5Ld(160);var Q7zt=B5Gj.Q5Ld(3,5,2,6,17);y7l=n7l[S7l.startFrom - Q7zt][b4Dt + S7l.name];}for(var C7l=Math.max(1,S7l.startFrom);C7l < n7l.length;C7l++){t4Dt="S";t4Dt+="win";t4Dt+="g";x7l=Math.abs(n7l[C7l].High - n7l[C7l - 1].Close);G7l=Math.abs(n7l[C7l].Low - n7l[C7l - 1].Close);e7l=Math.abs(n7l[C7l].High - n7l[C7l].Low);p7l=Math.abs(n7l[C7l - +"1"].Close - n7l[C7l - 1].Open);B7l=Math.max(x7l,G7l);Z7l=Math.max(e7l,B7l);B5Gj.S5Ld(161);b7l=B5Gj.K5Ld("0.25",p7l,Z7l);if(Z7l == x7l){B5Gj.S5Ld(162);b7l-=B5Gj.K5Ld(G7l,"0.5");}else if(Z7l == G7l){B5Gj.S5Ld(7);b7l-=B5Gj.K5Ld(0.5,x7l);}B5Gj.S5Ld(163);var n7zt=B5Gj.K5Ld(7,4,1159,19,300);B5Gj.S5Ld(130);var k7zt=B5Gj.Q5Ld(17,17,0,0);B5Gj.W5Ld(4);var G7zt=B5Gj.Q5Ld(0,5,6);t7l=n7zt * (n7l[C7l].Close - n7l[C7l - ("1" & 2147483647)].Close + 0.5 * (n7l[C7l].Close - n7l[C7l].Open) + 0.25 * (n7l[C7l - k7zt].Close - n7l[C7l - G7zt].Open)) / b7l * (B7l / L7l);if(b7l === 0 || L7l === 0){t7l=+"0";}if(S7l.type == t4Dt){y7l=+"0";}y7l+=t7l;n7l[C7l]["Result " + S7l.name]=y7l;}};o7l.Studies.studyLibrary=o7l.extend(o7l.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:o7l.Studies.calculateSwingIndex,inputs:{"Limit Move Value":+"0.5"}},Swing:{name:"Swing Index",calculateFN:o7l.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};I1A=A7l=>{var L4Dt,F3qt,U3qt,C3qt,r7l,d4Dt;L8gg.R1Gj();L4Dt="undefi";L4Dt+="n";L4Dt+="ed";F3qt=-420735216;U3qt=1407911941;C3qt=2;for(var m3qt=1;L8gg.T5tt(m3qt.toString(),m3qt.toString().length,93929) !== F3qt;m3qt++){r7l=!_CIQ != ""?_CIQ:A7l.CIQ;C3qt+=+"2";}if(L8gg.T5tt(C3qt.toString(),C3qt.toString().length,35720) !== U3qt){r7l=!_CIQ != ""?_CIQ:A7l.CIQ;}r7l=typeof _CIQ !== L4Dt?_CIQ:A7l.CIQ;if(!r7l.Studies){d4Dt="tr";d4Dt+="endIntensity feature requires first activating studies feature.";console.error(d4Dt);}else {r7l.Studies.calculateTrendIntensity=function(P7l,X7l){var r5Gj=L8gg;var k4Dt,a4Dt,O4Dt,g7l,K7l,w7l,s7l,f7l,N7l,V7l,E7l,n4Dt,Q4Dt;k4Dt="Si";function a7l(d7l,c7l){if(Math.abs(c7l) < +"0.00000001"){return 100;}r5Gj.W5Ld(164);return r5Gj.Q5Ld(100,100,1,d7l,c7l);}k4Dt+="g";k4Dt+="nal";a4Dt="m";a4Dt+="a";O4Dt="f";O4Dt+="ie";O4Dt+="l";O4Dt+="d";g7l=X7l.chart.scrubbed;if(g7l.length < X7l.days + 1){X7l.error=! !{};return;}K7l=X7l.inputs.Field;if(!K7l || K7l == O4Dt){K7l="Close";}r7l.Studies.MA(a4Dt,X7l.days,K7l,0,"_SMA",P7l,X7l);r5Gj.o1Gj();w7l=0;s7l=0;V7l=[];E7l=Math.ceil(X7l.days / 2);for(f7l=Math.max(0,X7l.startFrom - E7l);f7l < g7l.length;f7l++){n4Dt="_";n4Dt+="S";n4Dt+="M";n4Dt+="A ";Q4Dt="_";Q4Dt+="S";Q4Dt+="M";Q4Dt+="A ";if(!g7l[f7l][Q4Dt + X7l.name] && g7l[f7l]["_SMA " + X7l.name] !== 0)continue;N7l=g7l[f7l][K7l] - g7l[f7l][n4Dt + X7l.name];if(N7l < 0){r5Gj.S5Ld(165);s7l+=r5Gj.Q5Ld(N7l,1);}else {w7l+=N7l;}V7l.push(N7l);if(V7l.length > E7l){N7l=V7l.shift();if(N7l < 0){r5Gj.S5Ld(165);s7l-=r5Gj.Q5Ld(N7l,1);}else {w7l-=N7l;}}if(f7l < X7l.startFrom)continue;g7l[f7l]["TII " + X7l.name]=a7l(w7l,s7l);}r7l.Studies.MA("ema",X7l.inputs["Signal Period"],"TII " + X7l.name,0,k4Dt,P7l,X7l);};r7l.Studies.studyLibrary=r7l.extend(r7l.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:r7l.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};z1A=J7l=>{var D7l;D7l=typeof _CIQ !== "undefined"?_CIQ:J7l.CIQ;if(!D7l.Studies){console.error("trix feature requires first activating studies feature.");}else {D7l.Studies.calculateTRIX=function(Y7l,Q7l){var e5Gj=L8gg;var G4Dt,v7l,T7l,O7l,D4Dt,I7l,z7l,R7l;e5Gj.R1Gj();G4Dt="_";G4Dt+="MA";G4Dt+="3";G4Dt+=" ";v7l=Q7l.chart.scrubbed;if(v7l.length < Q7l.days + 1){Q7l.error=! ![];return;}T7l=Q7l.name;e5Gj.S5Ld(2);O7l=["Close",e5Gj.Q5Ld(T7l,"_MA1 "),e5Gj.Q5Ld(T7l,"_MA2 "),e5Gj.K5Ld(T7l,G4Dt)];for(var j7l=0;j7l < O7l.length - 1;j7l++){D4Dt="_";D4Dt+="M";D4Dt+="A";D7l.Studies.MA("exponential",Q7l.days,O7l[j7l],0,D4Dt + (j7l + +"1").toString(),Y7l,Q7l);}I7l=O7l[3];for(var H7l=Math.max(1,Q7l.startFrom);H7l < v7l.length;H7l++){e5Gj.S5Ld(6);z7l=v7l[e5Gj.Q5Ld(H7l,1)][I7l];if(!z7l)continue;R7l=v7l[H7l][I7l];if(R7l || R7l === 0){e5Gj.W5Ld(2);v7l[H7l][e5Gj.Q5Ld(T7l,"Result ")]=e5Gj.Q5Ld(z7l,100,1,R7l,e5Gj.W5Ld(166));}}};D7l.Studies.studyLibrary=D7l.extend(D7l.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:D7l.Studies.calculateTRIX}});}};Y1A=u4l=>{var l4l;l4l=typeof _CIQ !== "undefined"?_CIQ:u4l.CIQ;if(!l4l.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {l4l.Studies.calculateTwiggsMoneyFlow=function(k4l,F4l){var U5Gj=L8gg;var h4l,m4l,M4l,U4l,S4Dt,w4Dt,Z4Dt,P4Dt,i4l,o4l,F4Dt;h4l=F4l.chart.scrubbed;if(h4l.length < F4l.days){F4l.error=! ![];return;}m4l=0;M4l=0;U5Gj.S5Ld(42);var D7zt=U5Gj.Q5Ld(10,11);U4l=h4l[F4l.startFrom - D7zt];if(U4l){S4Dt="_";S4Dt+="s";S4Dt+="umV ";w4Dt="_";w4Dt+="su";w4Dt+="mMF ";if(U4l[w4Dt + F4l.name]){m4l=U4l["_sumMF " + F4l.name];}if(U4l["_sumV " + F4l.name]){M4l=U4l[S4Dt + F4l.name];}}for(var q4l=Math.max(1,F4l.startFrom);q4l < h4l.length;q4l++){Z4Dt="_";Z4Dt+="MFV ";P4Dt="_";P4Dt+="MFV ";i4l=Math.max(h4l[q4l - 1].Close,h4l[q4l].High);o4l=Math.min(h4l[q4l - 1].Close,h4l[q4l].Low);h4l[q4l][P4Dt + F4l.name]=h4l[q4l].Volume * (("2" ^ 0) * h4l[q4l].Close - i4l - o4l) / (i4l - o4l === +"0"?+"999999":i4l - o4l);if(q4l > F4l.days - 1){U5Gj.W5Ld(160);var w7zt=U5Gj.Q5Ld(0,4,2,4,10);m4l*=(F4l.days - w7zt) / F4l.days;U5Gj.W5Ld(20);var S7zt=U5Gj.K5Ld(8,135,17);M4l*=(F4l.days - S7zt) / F4l.days;}m4l+=h4l[q4l][Z4Dt + F4l.name];M4l+=h4l[q4l].Volume;if(q4l > F4l.days - +"1"){F4Dt="Resu";F4Dt+="lt";F4Dt+=" ";if(M4l){U5Gj.W5Ld(16);h4l[q4l][F4Dt + F4l.name]=U5Gj.Q5Ld(m4l,M4l > 0?M4l:999999);}}h4l[q4l]["_sumMF " + F4l.name]=m4l;h4l[q4l]["_sumV " + F4l.name]=M4l;}};l4l.Studies.studyLibrary=l4l.extend(l4l.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:l4l.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};M5Z=C4l=>{var Q1Gj=L8gg;var U4Dt,n4l,C4Dt,l9qt,y9qt,E9qt,z4Dt,w0qt,S0qt,P0qt,m4Dt;U4Dt="undefine";U4Dt+="d";n4l=typeof _CIQ !== U4Dt?_CIQ:C4l.CIQ;if(!n4l.Studies){C4Dt="typicalPri";C4Dt+="ce feature";C4Dt+=" requires first activating studies feature.";l9qt=1405101089;y9qt=1487037588;E9qt=2;for(var M9qt=1;Q1Gj.T5tt(M9qt.toString(),M9qt.toString().length,25618) !== l9qt;M9qt++){console.error("");E9qt+=+"2";}if(Q1Gj.g5tt(E9qt.toString(),E9qt.toString().length,79778) !== y9qt){console.error("");}console.error(C4Dt);}else if(!n4l.Studies.calculateTypicalPrice){z4Dt="typicalPrice feature requires first activating";z4Dt+=" medianPrice feature.";console.error(z4Dt);}else {w0qt=1302795220;Q1Gj.S5Ld(35);S0qt=Q1Gj.Q5Ld(1203493280,"944312391");P0qt=2;for(var F0qt=1;Q1Gj.g5tt(F0qt.toString(),F0qt.toString().length,"58652" & 2147483647) !== w0qt;F0qt++){n4l.Studies.studyLibrary=n4l.extend(n4l.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:n4l.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:n4l.Studies.calculateTypicalPrice,inputs:{Period:14}}});P0qt+=2;}if(Q1Gj.g5tt(P0qt.toString(),P0qt.toString().length,58735) !== S0qt){m4Dt="Ty";m4Dt+="pical Pr";m4Dt+="ice";n4l.Studies.studyLibrary=n4l.extend(n4l.Studies.studyLibrary,{"Typical Price":{name:m4Dt,calculateFN:n4l.Studies.calculateTypicalPrice,inputs:{Period:56}},"Weighted Close":{name:"Typical Price",calculateFN:n4l.Studies.calculateTypicalPrice,inputs:{Period:67}}});}}};U5Z=L4l=>{var o4Dt,S4l;o4Dt="unde";o4Dt+="fined";S4l=typeof _CIQ !== o4Dt?_CIQ:L4l.CIQ;if(!S4l.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {S4l.Studies.calculateUlcerIndex=function(B4l,y4l){var c4Dt,J4Dt,K4Dt,x4l,G4l,b4l,A4Dt,Z4l;c4Dt="_";c4Dt+="M";c4Dt+="A";J4Dt="_";function t4l(A4l,W4l,r4l){var p4l;p4l=null;for(var e4l=W4l - A4l + ("1" & 2147483647);e4l <= W4l;e4l++){if(e4l < 0)continue;p4l=p4l === null?x4l[e4l][r4l]:Math.max(p4l,x4l[e4l][r4l]);}return p4l;}J4Dt+="PD2 ";K4Dt="f";K4Dt+="ie";K4Dt+="ld";x4l=y4l.chart.scrubbed;if(x4l.length < +"2" * y4l.days - 1){y4l.error=! ![];return;}G4l=y4l.inputs.Field;if(!G4l || G4l == K4Dt){G4l="Close";}for(b4l=Math.max(y4l.startFrom,y4l.days - 1);b4l < x4l.length;b4l++){x4l[b4l]["_PD2 " + y4l.name]=Math.pow(100 * (x4l[b4l][G4l] / t4l(y4l.days,b4l,G4l) - 1),2);}S4l.Studies.MA("simple",y4l.days,J4Dt + y4l.name,0,c4Dt,B4l,y4l);for(b4l=Math.max(y4l.startFrom,2 * (y4l.days - 1));b4l < x4l.length;b4l++){A4Dt="_";A4Dt+="MA ";Z4l=x4l[b4l][A4Dt + y4l.name];if(Z4l || Z4l === ("0" & 2147483647)){x4l[b4l]["Result " + y4l.name]=Math.sqrt(Z4l);}}};S4l.Studies.studyLibrary=S4l.extend(S4l.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:S4l.Studies.calculateUlcerIndex,inputs:{Period:+"14",Field:"field"}}});}};i5Z=f4l=>{var r4Dt,X4l;r4Dt="undefi";r4Dt+="ned";L8gg.R1Gj();X4l=typeof _CIQ !== r4Dt?_CIQ:f4l.CIQ;if(!X4l.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {X4l.Studies.calculateUltimateOscillator=function(R4l,g4l){var q5Gj=L8gg;var R4Dt,N4Dt,N4l,w4l,P4l,a4l,c4l,d4l,V4l,E4l,u4Dt,V4Dt,j4Dt,D4l,Q4l,v4l,J4l,H4l,T4l,j4l,O4l;R4Dt="C";R4Dt+="ycl";R4Dt+="e 2";q5Gj.R1Gj();N4Dt="Cy";N4Dt+="cl";N4Dt+="e";N4Dt+=" 1";N4l=g4l.chart.scrubbed;w4l=[g4l.inputs[N4Dt],g4l.inputs[R4Dt],g4l.inputs["Cycle 3"]];P4l=Math.max(w4l[0],w4l[1],w4l[2]);if(N4l.length < P4l + 1){g4l.error=!0;return;}q5Gj.S5Ld(42);var P7zt=q5Gj.K5Ld(4,5);a4l=w4l["0" ^ 0] * w4l[P7zt];q5Gj.S5Ld(6);var Z7zt=q5Gj.Q5Ld(6,4);c4l=w4l[0] * w4l[Z7zt];q5Gj.S5Ld(6);var F7zt=q5Gj.Q5Ld(8,7);q5Gj.S5Ld(42);var U7zt=q5Gj.Q5Ld(15,17);d4l=w4l[F7zt] * w4l[U7zt];V4l=[0,0,0];E4l=[0,0,+"0"];if(g4l.startFrom){u4Dt="_a";u4Dt+="cctr ";V4Dt="_";V4Dt+="acc";V4Dt+="b";V4Dt+="p ";if(N4l[g4l.startFrom - ("1" - 0)]["_accbp " + g4l.name]){V4l=N4l[g4l.startFrom - +"1"][V4Dt + g4l.name].slice();}if(N4l[g4l.startFrom - 1][u4Dt + g4l.name]){E4l=N4l[g4l.startFrom - 1]["_acctr " + g4l.name].slice();}}for(var K4l=Math.max(+"1",g4l.startFrom);K4l < N4l.length;K4l++){j4Dt="_ac";j4Dt+="c";j4Dt+="bp ";D4l=Math.min(N4l[K4l].Low,N4l[K4l - 1].Close);Q4l=N4l[K4l].Close - D4l;q5Gj.S5Ld(12);var C7zt=q5Gj.Q5Ld(4,5,16);v4l=Math.max(N4l[K4l].High,N4l[K4l - C7zt].Close) - D4l;for(var s4l=+"0";s4l < w4l.length;s4l++){V4l[s4l]+=Q4l;E4l[s4l]+=v4l;if(K4l > w4l[s4l]){J4l=Math.min(N4l[K4l - w4l[s4l]].Low,N4l[K4l - w4l[s4l] - 1].Close);H4l=N4l[K4l - w4l[s4l]].Close - J4l;q5Gj.S5Ld(42);var z7zt=q5Gj.Q5Ld(11,12);T4l=Math.max(N4l[K4l - w4l[s4l]].High,N4l[K4l - w4l[s4l] - z7zt].Close) - J4l;V4l[s4l]-=H4l;E4l[s4l]-=T4l;}}N4l[K4l][j4Dt + g4l.name]=V4l.slice();N4l[K4l]["_acctr " + g4l.name]=E4l.slice();if(K4l < P4l)continue;q5Gj.W5Ld(42);var m7zt=q5Gj.Q5Ld(13,14);q5Gj.S5Ld(167);var o7zt=q5Gj.K5Ld(17,10,13,11,193);q5Gj.W5Ld(96);var K7zt=q5Gj.Q5Ld(47,0,3,15);q5Gj.S5Ld(6);var J7zt=q5Gj.K5Ld(21,19);j4l=d4l * V4l[0] / E4l[0] + c4l * V4l[m7zt] / E4l[o7zt] + a4l * V4l[K7zt] / E4l["2" | J7zt];q5Gj.W5Ld(0);O4l=q5Gj.Q5Ld(c4l,d4l,a4l);q5Gj.S5Ld(168);N4l[K4l]["Result " + g4l.name]=q5Gj.K5Ld("100",O4l,j4l);}};X4l.Studies.studyLibrary=X4l.extend(X4l.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:X4l.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":"7" & 2147483647,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:"70" << 1210795488,studyOverBoughtColor:"auto",studyOverSoldValue:"30" - 0,studyOverSoldColor:"auto"}}}});}};S5Z=z4l=>{var h4Dt,I4l,e4Dt,g4Dt,T4Dt;h4Dt="undefin";h4Dt+="ed";I4l=typeof _CIQ !== h4Dt?_CIQ:z4l.CIQ;if(!I4l.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {e4Dt="#";e4Dt+="e1e1e";e4Dt+="1";g4Dt="me";g4Dt+="a";g4Dt+="n";T4Dt="fiel";T4Dt+="d";I4l.Studies.calculateValuationLines=function(M2l,Y4l,U2l){var X5Gj=L8gg;var p4Dt,C2l,y2l,S2l,i2l,o2l,k2l,n2l,l2l,u2l,F2l,h2l,m2l,L2l;p4Dt="A";p4Dt+="verage Ty";p4Dt+="pe";C2l=Y4l.inputs.Field == "field"?"Close":Y4l.inputs.Field;X5Gj.o1Gj();y2l=Y4l.inputs[p4Dt];S2l=Y4l.inputs["Display Average"];i2l=Y4l.inputs["Display 1 Standard Deviation (1\u03C3)"];o2l=Y4l.inputs["Display 2 Standard Deviation (2\u03C3)"];k2l=Y4l.inputs["Display 3 Standard Deviation (3\u03C3)"];n2l=[];for(var q2l=0;q2l < U2l.length;++q2l){if(U2l[q2l] && !isNaN(U2l[q2l][C2l])){n2l.push(U2l[q2l][C2l]);}}l2l=(function(B2l,p2l){var b2l,G2l,Z2l,x2l,t2l,e2l;b2l=B2l.length;G2l=0;Z2l=0;x2l=+"0";switch(p2l){case "mean":Z2l=b2l;for(;x2l < b2l;++x2l){G2l+=B2l[x2l];}break;case "harmonic":G2l=b2l;for(;x2l < b2l;++x2l){X5Gj.W5Ld(51);var c7zt=X5Gj.K5Ld(15,14,163,4,14);Z2l+=c7zt / B2l[x2l];}break;case "median":X5Gj.S5Ld(16);t2l=Math.floor(X5Gj.Q5Ld(b2l,2));e2l=B2l.slice().sort(function(W2l,r2l){if(W2l > r2l){return 1;}if(W2l < r2l){return -1;}return 0;});if(b2l % +"2" === 0){X5Gj.W5Ld(4);var A7zt=X5Gj.K5Ld(0,19,20);G2l=e2l[t2l] + e2l[t2l - A7zt];Z2l=2;}else {G2l=e2l[t2l];Z2l=1;}break;}X5Gj.S5Ld(16);return X5Gj.Q5Ld(G2l,Z2l);})(n2l,y2l);u2l=!(i2l || o2l || k2l) || (function(N2l,g2l){var X2l,f2l;X2l=N2l.length;f2l=0;for(var A2l=+"0";A2l < X2l;++A2l){f2l+=Math.pow(N2l[A2l] - g2l,2);}X5Gj.R1Gj();X5Gj.S5Ld(16);return Math.sqrt(X5Gj.Q5Ld(f2l,X2l));})(n2l,l2l);Y4l.data={Average:S2l?[l2l]:null,"1 Standard Deviation (1\u03C3)":i2l?[l2l + u2l,l2l - u2l]:null,"2 Standard Deviation (2\u03C3)":o2l?[l2l + u2l * ("2" >> 570256608),l2l - u2l * ("2" * 1)]:null,"3 Standard Deviation (3\u03C3)":k2l?[l2l + u2l * 3,l2l - u2l * 3]:null};F2l=u2l;if(!Y4l.parameters){Y4l.parameters={};}if(k2l){X5Gj.S5Ld(169);Y4l.parameters.range=[X5Gj.K5Ld(l2l,F2l,u2l,3),X5Gj.K5Ld(l2l,F2l,u2l,3,X5Gj.W5Ld(170))];}else if(o2l){X5Gj.W5Ld(169);Y4l.parameters.range=[X5Gj.Q5Ld(l2l,F2l,u2l,2),X5Gj.Q5Ld(l2l,F2l,u2l,2,X5Gj.S5Ld(170))];}else if(i2l){X5Gj.S5Ld(76);Y4l.parameters.range=[X5Gj.K5Ld(u2l,l2l,F2l),X5Gj.K5Ld(u2l,l2l,F2l,X5Gj.W5Ld(0))];}else if(S2l){X5Gj.S5Ld(6);Y4l.parameters.range=[X5Gj.K5Ld(l2l,F2l),X5Gj.K5Ld(F2l,l2l,X5Gj.S5Ld(2))];}if(Y4l.panel){h2l=M2l.panels[Y4l.panel];m2l=M2l.getYAxisByName(h2l,Y4l.name);if(m2l){m2l.decimalPlaces=h2l.chart.yAxis.printDecimalPlaces;L2l={yAxis:m2l};M2l.calculateYAxisRange(h2l,m2l,Y4l.parameters.range[0],Y4l.parameters.range[1]);M2l.createYAxis(h2l,L2l);M2l.drawYAxis(h2l,L2l);}}};I4l.Studies.displayValuationLines=function(w2l,V2l){var y5Gj=L8gg;var B4Dt,I4Dt,K2l,E2l,a2l,D2l,Y2l,l6l,u6l,c2l,d2l,J2l,H2l,T2l,j2l,O2l,Q2l,v2l,s2l,R2l,F6l,I2l,X4Dt,W4Dt,v4Dt,q4Dt,H4Dt,z2l;B4Dt="ciq-valuation-";B4Dt+="av";B4Dt+="era";B4Dt+="ge-line";I4Dt="AV";I4Dt+="G";K2l=w2l.panels[V2l.panel];E2l=V2l.getYAxis(w2l);a2l=V2l.getContext(w2l);D2l=V2l.data;Y2l=V2l.parameters.labels;l6l=V2l.inputs["Average Type"];u6l={mean:I4Dt,median:"MED",harmonic:"HAVG"};c2l=w2l.canvasStyle(B4Dt);d2l=w2l.canvasStyle("ciq-valuation-deviation-line");J2l=3;y5Gj.S5Ld(8);var r7zt=y5Gj.K5Ld(14,0,16);H2l=w2l.getCanvasFontSize("stx_yaxis") + J2l * r7zt;for(var P2l in D2l){if(!D2l[P2l])continue;y5Gj.S5Ld(171);T2l=y5Gj.K5Ld("Average",P2l);j2l=I4l.Studies.determineColor(V2l.outputs[P2l]);O2l=D2l[P2l];for(Q2l=0;Q2l < O2l.length;++Q2l){X4Dt="l";X4Dt+="e";X4Dt+="f";X4Dt+="t";W4Dt="\u03C3";W4Dt+=": ";v4Dt="l";v4Dt+="i";v4Dt+="ne";q4Dt="d";q4Dt+="ash";q4Dt+="ed";H4Dt="s";H4Dt+="olid";v2l=O2l[Q2l];s2l=w2l.pixelFromPrice(v2l,K2l,E2l);if(s2l <= K2l.top || s2l >= K2l.yAxis.bottom)continue;I2l=T2l?{pattern:c2l.borderStyle != "none"?c2l.borderStyle || "solid":H4Dt,lineWidth:parseFloat(c2l.borderWidth) || 1,opacity:parseFloat(c2l.opacity) || 1,yAxis:E2l}:{pattern:d2l.borderStyle != "none"?d2l.borderStyle || q4Dt:"dashed",lineWidth:parseFloat(d2l.borderWidth) || 1,opacity:parseFloat(d2l.opacity) || 1,yAxis:E2l};w2l.plotLine(K2l.left,K2l.right,s2l,s2l,j2l,v4Dt,a2l,K2l,I2l);if(Y2l === "yaxis"){w2l.createYAxisLabel(K2l,w2l.formatYAxisPrice(v2l,K2l),s2l,j2l,null,a2l,E2l);continue;}s2l+=Math.floor(I2l.lineWidth / 2);if(s2l + H2l >= K2l.yAxis.bottom)continue;R2l=(T2l?u6l[l6l] + ": ":P2l[0] + W4Dt) + w2l.formatYAxisPrice(v2l,K2l);F6l=a2l.measureText(R2l).width;z2l=K2l.right - F6l - J2l;if(E2l && E2l.position == X4Dt){z2l=K2l.left + J2l;}y5Gj.S5Ld(172);a2l.strokeText(R2l,z2l,y5Gj.K5Ld(H2l,s2l,"2",0.5));}}};I4l.Studies.studyLibrary=I4l.extend(I4l.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(q6l,h6l,M6l){I4l.Studies.calculateValuationLines(q6l,h6l,M6l);L8gg.o1Gj();I4l.Studies.displayValuationLines(q6l,h6l);},overlay:! !{},yAxisFN:function(){},inputs:{Field:T4Dt,"Average Type":[g4Dt,"median","harmonic"],"Display Average":!"","Display 1 Standard Deviation (1\u03C3)":!{},"Display 2 Standard Deviation (2\u03C3)":!"1","Display 3 Standard Deviation (3\u03C3)":![]},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":e4Dt,"2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};L5Z=U6l=>{var m6l,i4Dt,Q5Dt,a5Dt,O5Dt,d5Dt;m6l=typeof _CIQ !== "undefined"?_CIQ:U6l.CIQ;if(!m6l.Studies){i4Dt="volatilityIndex ";i4Dt+="feature requires first activating studies feature.";console.error(i4Dt);}else {Q5Dt="a";Q5Dt+="u";Q5Dt+="t";Q5Dt+="o";a5Dt="a";a5Dt+="u";a5Dt+="t";a5Dt+="o";O5Dt="f";O5Dt+="iel";O5Dt+="d";d5Dt="0";d5Dt+=" ";d5Dt+="t";d5Dt+="o 100";m6l.Studies.calculateRelativeVolatility=function(x6l,i6l){var f4Dt,l4Dt,b6l,S6l,o6l,n6l,C6l,E4Dt,y4Dt,M4Dt,x4Dt,k6l,y6l;f4Dt="R";f4Dt+="el";f4Dt+=" Vo";f4Dt+="l";l4Dt="f";l4Dt+="i";l4Dt+="eld";i6l.days=Number(i6l.inputs["Smoothing Period"]);b6l=Number(i6l.inputs["STD Period"]);S6l=i6l.chart.scrubbed;if(S6l.length < i6l.days + b6l){i6l.error=! !"1";return;}o6l=i6l.inputs.Field;if(!o6l || o6l == l4Dt){o6l="Close";}i6l.std=new m6l.Studies.StudyDescriptor(i6l.name,"sdev",i6l.panel);i6l.std.chart=i6l.chart;i6l.std.days=b6l;i6l.std.startFrom=i6l.startFrom;i6l.std.inputs={Field:o6l,"Standard Deviations":1,Type:"ma"};i6l.std.outputs={_STD:null};function G6l(Z6l,B6l){if(Z6l + B6l === 0){return 100;}L8gg.W5Ld(132);return L8gg.K5Ld(Z6l,B6l,100,Z6l);}m6l.Studies.calculateStandardDeviation(x6l,i6l.std);n6l=0;C6l=0;if(i6l.startFrom > 1){E4Dt="_";E4Dt+="avgL ";y4Dt="_";y4Dt+="av";y4Dt+="gG";y4Dt+=" ";n6l=S6l[i6l.startFrom - 1][y4Dt + i6l.name] || 0;C6l=S6l[i6l.startFrom - 1][E4Dt + i6l.name] || 0;}for(var L6l=Math.max(i6l.startFrom,i6l.days);L6l < S6l.length;L6l++){M4Dt="_";M4Dt+="av";M4Dt+="g";M4Dt+="G ";x4Dt="_S";x4Dt+="TD";x4Dt+=" ";k6l=S6l[L6l];L8gg.W5Ld(6);y6l=S6l[L8gg.Q5Ld(L6l,1)];if(!k6l[o6l] && k6l[o6l] !== 0)continue;if(!y6l[o6l] && y6l[o6l] !== "0" * 1)continue;if(!k6l["_STD " + i6l.name] && k6l[x4Dt + i6l.name] !== 0)continue;if(k6l[o6l] > y6l[o6l]){n6l=(n6l * (i6l.days - +"1") + k6l["_STD " + i6l.name]) / i6l.days;C6l=C6l * (i6l.days - +"1") / i6l.days;}else {C6l=(C6l * (i6l.days - +"1") + k6l["_STD " + i6l.name]) / i6l.days;L8gg.W5Ld(14);var N7zt=L8gg.Q5Ld(2,0,2);n6l=n6l * (i6l.days - N7zt) / i6l.days;}k6l["Rel Vol " + i6l.name]=G6l(n6l,C6l);k6l[M4Dt + i6l.name]=n6l;k6l["_avgL " + i6l.name]=C6l;}i6l.zoneOutput=f4Dt;};m6l.Studies.calculateHistoricalVolatility=function(N6l,t6l){var A5Gj=L8gg;var b5Dt,Y5Dt,e6l,A6l,X6l,s6l,r6l,p6l,L5Dt,t5Dt,g6l,K6l,w6l;b5Dt="Standard D";b5Dt+="evia";b5Dt+="t";b5Dt+="ions";Y5Dt="fi";Y5Dt+="eld";e6l=t6l.chart.scrubbed;if(e6l.length < t6l.days + 1){t6l.error=! !{};return;}A6l=t6l.inputs.Field;if(!A6l || A6l == Y5Dt){A6l="Close";}X6l=t6l.inputs[b5Dt];if(X6l < 0){X6l=1;}A5Gj.W5Ld(173);var R7zt=A5Gj.Q5Ld(94,9,33,5,106);s6l=R7zt * Math.sqrt(V6l(t6l.inputs["Days Per Year"])) * X6l;r6l=[];p6l=0;if(t6l.startFrom > 1){L5Dt="_s";L5Dt+="tate ";t5Dt="_";t5Dt+="st";t5Dt+="a";t5Dt+="te ";A5Gj.S5Ld(4);var V7zt=A5Gj.Q5Ld(4,10,7);A5Gj.W5Ld(40);p6l=e6l[t6l.startFrom - V7zt][t5Dt + t6l.name][A5Gj.Q5Ld("0",2147483647)];r6l=e6l[t6l.startFrom - ("1" - 0)][L5Dt + t6l.name][1].slice();}for(var W6l=Math.max(+"1",t6l.startFrom);W6l < e6l.length;W6l++){A5Gj.S5Ld(6);g6l=e6l[A5Gj.Q5Ld(W6l,1)][A6l];if(g6l){K6l=Math.log(e6l[W6l][A6l] / g6l);r6l.push(K6l);p6l+=K6l;if(W6l >= t6l.days){w6l=0;p6l/=t6l.days;for(var f6l=+"0";f6l < r6l.length;f6l++){w6l+=Math.pow(r6l[f6l] - p6l,2);}p6l*=t6l.days;p6l-=r6l.shift();e6l[W6l]["Result " + t6l.name]=Math.sqrt(w6l / t6l.days) * s6l;}}e6l[W6l]["_state " + t6l.name]=[p6l,r6l.slice()];}function V6l(E6l){var s5Dt;s5Dt="m";s5Dt+="o";s5Dt+="nt";s5Dt+="h";if(isNaN(E6l)){E6l=365;}if(N6l.layout.interval == "day"){return E6l;}else if(N6l.layout.interval == "week"){return 52;}else if(N6l.layout.interval == s5Dt){return 12;}return E6l;}};m6l.Studies.studyLibrary=m6l.extend(m6l.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:m6l.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,+"365"],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:d5Dt,calculateFN:m6l.Studies.calculateRelativeVolatility,inputs:{Field:O5Dt,"STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":a5Dt},centerline:50,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:Q5Dt}}}});}};G5Z=a6l=>{var n5Dt,P6l,k5Dt;n5Dt="undefin";n5Dt+="ed";P6l=typeof _CIQ !== n5Dt?_CIQ:a6l.CIQ;L8gg.R1Gj();if(!P6l.Studies){k5Dt="volumeProfile feature requires first activating studies ";k5Dt+="feature.";console.error(k5Dt);}else {P6l.Studies.displayVolumeProfile=function(D6l,v6l,k0l){var Z5Dt,S5Dt,w5Dt,D5Dt,Q6l,T6l,R6l,Y6l,l0l,m0l,d6l,G5Dt,I6l,J6l,n0l,z6l,O6l,c6l,U0l,i0l,q0l,h0l,H6l,C0l,o0l,S0l,M0l,F5Dt;Z5Dt="stx_";Z5Dt+="volume_profile";S5Dt="stx_";S5Dt+="volu";S5Dt+="me_pr";S5Dt+="ofile";w5Dt="stx_volume_p";w5Dt+="rof";function L0l(A0l,Z0l){var Y2Gj=L8gg;var t0l,B0l,x0l,b0l,G0l,e0l,p0l,P5Dt,W0l,r0l;if(!Z0l){H6l-=2;}M0l.canvasColor(A0l);c6l.beginPath();t0l=d6l[+"0"][0];B0l=H6l;for(var y0l=1;y0l < d6l.length;y0l++){if(d6l[y0l][1]){Y2Gj.S5Ld(76);var u7zt=Y2Gj.K5Ld(10,15,4);x0l=Math.round(H6l - d6l[y0l][u7zt] * C0l / I6l) - 0.5;b0l=Math.round(M0l.pixelFromTransformedValue(t0l,q0l)) + 0.5;G0l=Math.round(M0l.pixelFromTransformedValue(d6l[y0l][0],q0l)) + +"0.5";if(!Z0l){b0l-=0.5;G0l+=+"0.5";x0l+=+"0.5";}if(b0l > h0l){b0l=h0l;}if(G0l < h0l){c6l.moveTo(H6l,b0l);c6l.lineTo(H6l,G0l);c6l.lineTo(x0l,G0l);c6l.lineTo(x0l,b0l);if(Z0l){if(B0l > x0l || y0l == 1){c6l.lineTo(B0l,b0l);};}else {c6l.lineTo(H6l,b0l);if(l0l){e0l=P6l.condenseInt(d6l[y0l][1]);Y2Gj.W5Ld(6);p0l=Y2Gj.K5Ld(b0l,G0l);if(i0l <= p0l - +"2"){P5Dt="t";P5Dt+="o";P5Dt+="p";try{W0l=c6l.measureText(e0l).width;}catch(X0l){W0l=0;}c6l.textBaseline=P5Dt;r0l=c6l.fillStyle;c6l.fillStyle=o0l;Y2Gj.W5Ld(76);c6l.fillText(e0l,Y2Gj.K5Ld(W0l,x0l,3),Y2Gj.K5Ld(i0l,2,p0l,G0l,2,Y2Gj.S5Ld(174)));c6l.fillStyle=r0l;}}}}B0l=x0l;}else {B0l=H6l;;}t0l=d6l[y0l][0];}if(!v6l.highlight && D6l.highlightedDraggable){c6l.globalAlpha*=0.3;}if(!Z0l){c6l.fill();}c6l.strokeStyle=o0l;if(Z0l){c6l.stroke();}c6l.closePath();}w5Dt+="il";L8gg.o1Gj();w5Dt+="e";D5Dt="Bars Co";D5Dt+="l";D5Dt+="or";if(!D6l || !D6l.chart.dataSet){return;}Q6l=D6l.chart;T6l=v6l.parameters.numberOfBars;R6l=v6l.parameters.widthPercentage;Y6l=v6l.parameters.displayBorder;l0l=v6l.parameters.displayVolume;if(!T6l || T6l < 0){T6l=30;}T6l=Math.ceil(T6l);if(!R6l || R6l < 0){R6l=0.25;}if(Y6l !== ![]){Y6l=! ![];}if(l0l !== ! !"1"){l0l=! !0;}m0l=(Q6l.highValue - Q6l.lowValue) / T6l;if(m0l === 0){return;}d6l=[];for(var u0l=Q6l.lowValue;u0l < Q6l.highValue + 0.1;u0l+=m0l){d6l.push([u0l,0]);}if(d6l.length < +"2"){G5Dt="Not enough d";G5Dt+="ata t";G5Dt+="o render t";G5Dt+="he Volume Profile";D6l.displayErrorAsWatermark("chart",D6l.translateIf(G5Dt));return;}I6l=0;for(var F0l=0;F0l < k0l.length;F0l++){J6l=k0l[F0l];if(!J6l)continue;n0l=J6l.Volume;if(v6l.panel == Q6l.name && J6l.transform){J6l=J6l.transform;}L8gg.S5Ld(21);z6l=d6l[L8gg.K5Ld(0,"0")][0];O6l=0;for(var j6l=1;j6l < d6l.length;j6l++){O6l=d6l[j6l][0];if(J6l.Low >= z6l && J6l.Low <= O6l || J6l.Low < z6l && J6l.High > O6l || J6l.High >= z6l && J6l.High <= O6l){d6l[j6l][1]+=n0l;if(d6l[j6l][1] > I6l){I6l=d6l[j6l][+"1"];}}z6l=O6l;}}if(I6l === 0){D6l.displayErrorAsWatermark("chart",D6l.translateIf("Not enough data to render the Volume Profile"));return;}D6l.setStyle("stx_volume_profile","color",P6l.Studies.determineColor(v6l.outputs[D5Dt]));c6l=v6l.getContext(D6l);U0l="stx-f";U0l+="loat";U0l+="-d";U0l+="ate";D6l.canvasFont(U0l,c6l);i0l=D6l.getCanvasFontSize(U0l);q0l=Q6l.panel;h0l=q0l.yAxis.bottom;H6l=Math.round(Q6l.right) - 0.5;C0l=Q6l.width * R6l;o0l=D6l.canvasStyle(w5Dt).borderTopColor;S0l=!P6l.isTransparent(D6l.canvasStyle(S5Dt).borderTopColor) && Y6l;M0l=D6l;L0l(Z5Dt,! !"");if(S0l){F5Dt="stx_vo";F5Dt+="lum";F5Dt+="e_profile";L0l(F5Dt,! !1);}c6l.globalAlpha=1;};P6l.Studies.studyLibrary=P6l.extend(P6l.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! !1,seriesFN:P6l.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! ![],parameters:{init:{displayBorder:! !{},displayVolume:![],numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:!""},panelName:{hidden:!0},flippedEnabled:{hidden:! !{}}}}});}};Z5Z=N0l=>{var f0l,u5Dt,V5Dt,R5Dt,N5Dt,r5Dt,A5Dt,c5Dt,J5Dt,K5Dt,o5Dt,m5Dt;f0l=typeof _CIQ !== "undefined"?_CIQ:N0l.CIQ;L8gg.o1Gj();if(!f0l.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {u5Dt="#";u5Dt+="b8";u5Dt+="2c0";u5Dt+="c";V5Dt="#";V5Dt+="8cc176";R5Dt="Volume";R5Dt+=" Rate o";R5Dt+="f Change";N5Dt="Price Vol";N5Dt+="ume T";N5Dt+="rend";r5Dt="#";r5Dt+="FF00";r5Dt+="0";r5Dt+="0";A5Dt="a";A5Dt+="u";A5Dt+="to";c5Dt="f";c5Dt+="i";c5Dt+="e";c5Dt+="ld";J5Dt="On Balance";J5Dt+=" Volume";K5Dt="m";K5Dt+="a";o5Dt="fi";o5Dt+="e";o5Dt+="ld";m5Dt="Negative Volum";m5Dt+="e Index";f0l.Studies.calculateOnBalanceVolume=function(D0l,w0l){var g0l,s0l,d0l,E0l,P0l,V0l,a0l,U5Dt,c0l;g0l=w0l.inputs.Field;if(!g0l || g0l == "field"){g0l="Close";}s0l=w0l.inputs["Min Tick Value"];d0l=!1;if(!s0l && s0l !== 0){d0l=! !{};s0l=+"0";}E0l=w0l.chart.scrubbed;P0l=+"0";for(var K0l=w0l.startFrom;K0l < E0l.length;K0l++){U5Dt="Res";U5Dt+="ul";U5Dt+="t ";V0l=E0l[K0l];if(!K0l || !V0l[g0l])continue;if(E0l[K0l - 1][g0l]){L8gg.S5Ld(175);a0l=E0l[L8gg.Q5Ld(0,K0l,"1")];}if(!a0l)continue;if(V0l[g0l] - a0l[g0l] > s0l){P0l=1;}else if(a0l[g0l] - V0l[g0l] > s0l){P0l=-1;}else if(d0l){P0l=0;}c0l=a0l["Result " + w0l.name];if(!c0l){c0l=0;}c0l+=V0l.Volume * P0l;V0l[U5Dt + w0l.name]=c0l;}};f0l.Studies.calculatePriceVolumeTrend=function(j0l,H0l){var v0l,J0l,T0l,C5Dt;v0l=H0l.inputs.Field;if(!v0l || v0l == "field"){v0l="Close";}J0l=H0l.chart.scrubbed;T0l=0;if(H0l.startFrom > 1){C5Dt="Resu";C5Dt+="l";C5Dt+="t";C5Dt+=" ";T0l=J0l[H0l.startFrom - ("1" - 0)][C5Dt + H0l.name];}for(var Q0l=Math.max(1,H0l.startFrom);Q0l < J0l.length;Q0l++){if(!J0l[Q0l][v0l])continue;if(!J0l[Q0l - +"1"][v0l])continue;L8gg.W5Ld(2);var j7zt=L8gg.K5Ld(1,0);T0l+=J0l[Q0l].Volume * (J0l[Q0l][v0l] - J0l[Q0l - j7zt][v0l]) / J0l[Q0l - +"1"][v0l];J0l[Q0l]["Result " + H0l.name]=T0l;}};f0l.Studies.calculateVolumeIndex=function(h8l,O0l){var j5Gj=L8gg;var z5Dt,l8l,R0l,q0qt,v0qt,W0qt,u8l,z0l,F8l,Y0l,q8l;z5Dt="Cl";z5Dt+="os";z5Dt+="e";l8l=O0l.inputs.Field;if(!l8l || l8l == "field"){l8l=z5Dt;}R0l=O0l.chart.scrubbed;if(R0l.length < O0l.days + 1){O0l.error=!0;return;}q0qt=-48960855;v0qt=309651521;W0qt=2;for(var T0qt=1;j5Gj.T5tt(T0qt.toString(),T0qt.toString().length,+"20170") !== q0qt;T0qt++){u8l=100;if(O0l.startFrom > ("1" ^ 0)){u8l=R0l[O0l.startFrom - +"1"]["Index " + O0l.name];}W0qt+=2;}if(j5Gj.T5tt(W0qt.toString(),W0qt.toString().length,97929) !== v0qt){u8l=811;if(O0l.startFrom >= +"8"){u8l=R0l[O0l.startFrom % 0]["" / O0l.name];}}for(var I0l=Math.max(1,O0l.startFrom);I0l < R0l.length;I0l++){z0l=R0l[I0l][l8l];F8l=R0l[I0l].Volume;if(z0l && typeof z0l == "object"){F8l=z0l.Volume;z0l=z0l[O0l.subField];}j5Gj.S5Ld(6);Y0l=R0l[j5Gj.K5Ld(I0l,1)][l8l];q8l=R0l[I0l - 1].Volume;if(Y0l && typeof Y0l == "object"){q8l=Y0l.Volume;Y0l=Y0l[O0l.subField];}if(!z0l)continue;if(!Y0l)continue;if(O0l.type == "Pos Vol" && F8l > q8l || O0l.type == "Neg Vol" && F8l < q8l){j5Gj.W5Ld(16);u8l*=j5Gj.Q5Ld(z0l,Y0l);}R0l[I0l]["Index " + O0l.name]=u8l;}f0l.Studies.MA(O0l.inputs["Moving Average Type"],O0l.days,"Index " + O0l.name,0,"MA",h8l,O0l);};f0l.Studies.studyLibrary=f0l.extend(f0l.Studies.studyLibrary,{"Neg Vol":{name:m5Dt,calculateFN:f0l.Studies.calculateVolumeIndex,inputs:{Period:255,Field:o5Dt,"Moving Average Type":K5Dt},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:J5Dt,calculateFN:f0l.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:f0l.Studies.calculateVolumeIndex,inputs:{Period:255,Field:c5Dt,"Moving Average Type":"ma"},outputs:{Index:A5Dt,MA:r5Dt}},"Price Vol":{name:N5Dt,calculateFN:f0l.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:f0l.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":+"0.5"}},"Vol ROC":{name:R5Dt,calculateFN:function(M8l,m8l){var e5tt,i5tt,l5tt;if(f0l.Studies.calculateRateOfChange){f0l.Studies.calculateRateOfChange(M8l,m8l);}else {e5tt=75764095;i5tt=-229091658;L8gg.W5Ld(7);l5tt=L8gg.Q5Ld("2",1);for(var E5tt=1;L8gg.T5tt(E5tt.toString(),E5tt.toString().length,+"74198") !== e5tt;E5tt++){console.error("");l5tt+=2;}if(L8gg.g5tt(l5tt.toString(),l5tt.toString().length,71358) !== i5tt){console.error("");}console.error("Volume Rate of Change study requires first activating momentum feature.");f0l.Studies.calculateRateOfChange=function(U8l,i8l){};}},parameters:{init:{isVolume:! ![]}}},"vol undr":{name:"Volume Underlay",underlay:! !"1",range:"0 to max",yAxis:{ground:! !"1",initialMarginTop:"0" & 2147483647,position:"none",zoom:0,heightFactor:0.25},seriesFN:f0l.Studies.createVolumeChart,calculateFN:f0l.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":V5Dt,"Down Volume":u5Dt},customRemoval:! !1,removeFN:function(o8l,k8l){var Z5Gj=L8gg;var N0qt,R0qt,V0qt;o8l.layout.volumeUnderlay=!{};N0qt=+"1219795027";R0qt=-1308867290;Z5Gj.W5Ld(6);V0qt=Z5Gj.Q5Ld("2",0);for(var j0qt=1;Z5Gj.T5tt(j0qt.toString(),j0qt.toString().length,89636) !== N0qt;j0qt++){o8l.changeOccurred("layout");Z5Gj.S5Ld(7);V0qt+=Z5Gj.Q5Ld("2",1);}Z5Gj.o1Gj();if(Z5Gj.g5tt(V0qt.toString(),V0qt.toString().length,84375) !== R0qt){o8l.changeOccurred("");}},attributes:{panelName:{hidden:! !{}}}}});}};t5Z=C8l=>{var n8l,W5Dt,v5Dt,q5Dt,H5Dt;n8l=typeof _CIQ !== "undefined"?_CIQ:C8l.CIQ;if(!n8l.Studies){console.error("vortex feature requires first activating studies feature.");}else {W5Dt="0";W5Dt+=".";W5Dt+="0";W5Dt+="1";v5Dt="a";v5Dt+="u";v5Dt+="t";v5Dt+="o";q5Dt="#FF00";q5Dt+="00";H5Dt="V";H5Dt+="ortex Indicato";H5Dt+="r";n8l.Studies.calculateVortex=function(p8l,S8l){var g5Gj=L8gg;var x8l,G8l,L8l,I5Dt,y8l,Z8l,B8l,t8l,e8l,p5Dt,h5Dt,j5Dt,B5Dt;x8l=S8l.chart.scrubbed;G8l=S8l.days;if(x8l.length < G8l + 1){S8l.error=! ![];return;}L8l={tr:0,vmPlus:"0" - 0,vmMinus:"0" >> 1955968960};g5Gj.R1Gj();if(S8l.startFrom > 1){L8l=n8l.clone(x8l[S8l.startFrom - +"1"]["_totals " + S8l.name]);}for(var b8l=Math.max(S8l.startFrom,1);b8l < x8l.length;b8l++){I5Dt="_Tr";I5Dt+="u";I5Dt+="e Rang";I5Dt+="e ";y8l=x8l[b8l];g5Gj.S5Ld(6);Z8l=x8l[g5Gj.Q5Ld(b8l,1)];B8l=Math.abs(y8l.High - Z8l.Low);t8l=Math.abs(y8l.Low - Z8l.High);e8l=Math.max(y8l.High,Z8l.Close) - Math.min(y8l.Low,Z8l.Close);L8l.tr+=e8l;L8l.vmPlus+=B8l;L8l.vmMinus+=t8l;if(b8l > G8l){p5Dt="_VMM";p5Dt+="in";p5Dt+="us ";h5Dt="_VMP";h5Dt+="lu";h5Dt+="s ";j5Dt="_";j5Dt+="True Ra";j5Dt+="n";j5Dt+="ge ";g5Gj.W5Ld(6);L8l.tr-=x8l[g5Gj.Q5Ld(b8l,G8l)][j5Dt + S8l.name];g5Gj.W5Ld(6);L8l.vmPlus-=x8l[g5Gj.Q5Ld(b8l,G8l)][h5Dt + S8l.name];g5Gj.S5Ld(6);L8l.vmMinus-=x8l[g5Gj.K5Ld(b8l,G8l)][p5Dt + S8l.name];}y8l[I5Dt + S8l.name]=e8l;y8l["_VMPlus " + S8l.name]=B8l;y8l["_VMMinus " + S8l.name]=t8l;if(b8l >= G8l){B5Dt="-";B5Dt+="VI";B5Dt+=" ";y8l["+VI " + S8l.name]=L8l.vmPlus / L8l.tr;y8l[B5Dt + S8l.name]=L8l.vmMinus / L8l.tr;}y8l["_totals " + S8l.name]=n8l.clone(L8l);}};n8l.Studies.studyLibrary=n8l.extend(n8l.Studies.studyLibrary,{Vortex:{name:H5Dt,calculateFN:n8l.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":q5Dt},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:1.1,studyOverBoughtColor:v5Dt,studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:+"1",step:"0.01"},studyOverSoldValue:{max:1,step:W5Dt}}}});}};X5Z=r8l=>{var W8l,x5Dt,E5Dt,y5Dt;W8l=typeof _CIQ !== "undefined"?_CIQ:r8l.CIQ;if(!W8l.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {x5Dt="#ff";x5Dt+="d0cf";E5Dt="#";E5Dt+="5f7";E5Dt+="cb";E5Dt+="8";y5Dt="#a";y5Dt+="b";y5Dt+="611";y5Dt+="f";W8l.Studies.calculateMFI=function(s8l,A8l){var e5Dt,T5Dt,X5Dt,X8l,K8l,N8l,g8l,w8l,f8l,g5Dt;e5Dt="_h";e5Dt+="i";e5Dt+="st";T5Dt="_";T5Dt+="hi";T5Dt+="g";T5Dt+="h ";X5Dt="S";X5Dt+="cale Factor";X8l=A8l.chart.scrubbed;N8l=0;g8l=A8l.inputs["Scale Factor"];if(!g8l){g8l=A8l.study.inputs[X5Dt];}w8l=Math.pow(10,Number(g8l));if(A8l.startFrom > 1){L8gg.S5Ld(4);var h7zt=L8gg.K5Ld(0,14,15);N8l=X8l[A8l.startFrom - h7zt][T5Dt + A8l.name];}for(f8l=A8l.startFrom;f8l < X8l.length;f8l++){if(!X8l[f8l])continue;if(X8l[f8l].Volume){g5Dt="_";g5Dt+="hig";g5Dt+="h";g5Dt+=" ";X8l[f8l][A8l.name + "_hist"]=K8l=w8l * (X8l[f8l].High - X8l[f8l].Low) / X8l[f8l].Volume;X8l[f8l][g5Dt + A8l.name]=N8l=Math.max(N8l,K8l);}}A8l.outputMap={};A8l.outputMap[A8l.name + e5Dt]="";};W8l.Studies.displayMFI=function(E8l,V8l,Q8l){var v8l,c8l,J8l,H8l,D8l,T8l,j8l,O8l,R8l,l5Dt,i5Dt,P8l,a8l;v8l=E8l.panels[V8l.panel];c8l=V8l.getContext(E8l);J8l=V8l.getYAxis(E8l);H8l=J8l.flipped?J8l.top:J8l.bottom;L8gg.W5Ld(51);var p7zt=L8gg.Q5Ld(19,10,65,4,7);D8l=E8l.layout.candleWidth - p7zt;if(D8l < 2){D8l=1;}T8l=W8l.Studies.determineColor(V8l.outputs.Green);j8l=W8l.Studies.determineColor(V8l.outputs.Fade);O8l=W8l.Studies.determineColor(V8l.outputs.Fake);R8l=W8l.Studies.determineColor(V8l.outputs.Squat);E8l.canvasColor("stx_histogram");if(!V8l.underlay){c8l.globalAlpha=1;}c8l.fillStyle="#CCCCCC";E8l.startClip(V8l.panel);if(!V8l.highlight && E8l.highlightedDraggable){c8l.globalAlpha*=0.3;}for(var d8l=+"0";d8l < Q8l.length;d8l++){l5Dt="_hi";l5Dt+="s";l5Dt+="t";i5Dt="_";i5Dt+="h";i5Dt+="i";i5Dt+="st";P8l=Q8l[d8l];L8gg.S5Ld(6);a8l=Q8l[L8gg.Q5Ld(d8l,1)];if(!a8l){a8l=E8l.getPreviousBar(E8l.chart,V8l.name + "_hist",d8l);}if(!P8l)continue;if(!a8l);else if(a8l[V8l.name + "_hist"] < P8l[V8l.name + "_hist"]){if(a8l.Volume < P8l.Volume){c8l.fillStyle=T8l;}else if(a8l.Volume > P8l.Volume){c8l.fillStyle=O8l;}}else if(a8l[V8l.name + i5Dt] > P8l[V8l.name + "_hist"]){if(a8l.Volume < P8l.Volume){c8l.fillStyle=R8l;}else if(a8l.Volume > P8l.Volume){c8l.fillStyle=j8l;}}if(P8l.candleWidth){D8l=Math.floor(Math.max(1,P8l.candleWidth - 2));}c8l.fillRect(Math.floor(E8l.pixelFromBar(d8l,v8l.chart) - D8l / 2),Math.floor(H8l),Math.floor(D8l),Math.floor(E8l.pixelFromPrice(P8l[V8l.name + l5Dt],v8l,J8l) - H8l));}E8l.endClip();};W8l.Studies.studyLibrary=W8l.extend(W8l.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:W8l.Studies.displayMFI,calculateFN:W8l.Studies.calculateMFI,yAxis:{ground:!""},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:y5Dt,Fake:E5Dt,Squat:x5Dt}}});}};P5Z={CIQ:d8A,SplinePlotter:f5Z,timezoneJS:N5Z,$$:K5Z,$$$:V5Z};export {v8A as aggregations};export {H8A as drawingAdvanced};export {T8A as equationsAdvanced};export {j8A as highPerformanceMarkers};export {O8A as renderersAdvanced};export {R8A as accumulationDistribution};export {I8A as adx};export {l1A as alligator};export {u1A as aroon};export {F1A as atr};export {q1A as awesomeOscillator};export {h1A as balanceOfPower};export {M1A as bollinger};export {m1A as cci};export {U1A as centerOfGravity};export {i1A as chaikin};export {o1A as chande};export {k1A as choppiness};export {n1A as comparisonStudies};export {C1A as coppock};export {S1A as darvasBox};export {L1A as detrended};export {y1A as disparity};export {b1A as easeOfMovement};export {x1A as ehlerFisher};export {G1A as elder};export {Z1A as fractalChaos};export {B1A as highLowStudies};export {t1A as ichimoku};export {e1A as intradayMomentum};export {p1A as keltner};export {W1A as klinger};export {r1A as linearRegression};export {A1A as macd};export {X1A as massIndex};export {f1A as moneyFlow};export {N1A as movingAverages};export {g1A as parabolicSAR};export {K1A as pivotPoints};export {w1A as prettyGoodOscillator};export {s1A as priceMomentumOscillator};export {V1A as priceVolumeOscillator};export {E1A as primeNumber};export {P1A as pring};export {a1A as projectedVolume};export {c1A as psychologicalLine};export {d1A as qstick};export {D1A as rainbow};export {J1A as randomWalk};export {Q1A as relativeVigor};export {v1A as rsi};export {H1A as schaffTrendCycle};export {T1A as shinohara};export {j1A as stochastics};export {O1A as supertrend};export {R1A as swingIndex};export {I1A as trendIntensity};export {z1A as trix};export {Y1A as twiggsMoneyFlow};export {M5Z as typicalPrice};export {U5Z as ulcerIndex};export {i5Z as ultimateOscillator};export {S5Z as valuationLines};export {L5Z as volatilityIndex};export {G5Z as volumeProfile};export {Z5Z as volumeStudies};export {t5Z as vortex};export {X5Z as williamsMFI};export {d8A as CIQ, f5Z as SplinePlotter, N5Z as timezoneJS, K5Z as $$, V5Z as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(P5Z.CIQ || d8A).activateImports(v8A,H8A,T8A,j8A,O8A,R8A,I8A,l1A,u1A,F1A,q1A,h1A,M1A,m1A,U1A,i1A,o1A,k1A,n1A,C1A,S1A,L1A,y1A,b1A,x1A,G1A,Z1A,B1A,t1A,e1A,p1A,W1A,r1A,A1A,X1A,f1A,N1A,g1A,K1A,w1A,s1A,V1A,E1A,P1A,a1A,c1A,d1A,D1A,J1A,Q1A,v1A,H1A,T1A,j1A,O1A,R1A,I1A,z1A,Y1A,M5Z,U5Z,i5Z,S5Z,L5Z,G5Z,Z5Z,t5Z,X5Z,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
